var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function i(){return Object.create(null)}function o(t){t.forEach(r)}function s(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function u(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function c(t,e,n){t.$$.on_destroy.push(u(e,n))}function h(t,e,n,r){if(t){const i=l(t,e,n,r);return t[0](i)}}function l(t,e,r,i){return t[1]&&i?n(r.ctx.slice(),t[1](i(e))):r.ctx}function f(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|i[r];return t}return e.dirty|i}return e.dirty}function p(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}const d="undefined"!=typeof window;let v=d?()=>window.performance.now():()=>Date.now(),y=d?t=>requestAnimationFrame(t):t;const m=new Set;function g(t){m.forEach(e=>{e.c(t)||(m.delete(e),e.f())}),0!==m.size&&y(g)}function b(t){let e;return 0===m.size&&y(g),{promise:new Promise(n=>{m.add(e={c:t,f:n})}),abort(){m.delete(e)}}}function w(t,e){t.appendChild(e)}function _(t,e,n){t.insertBefore(e,n||null)}function E(t){t.parentNode.removeChild(t)}function T(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function I(t){return document.createElement(t)}function A(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function S(t){return document.createTextNode(t)}function N(){return S(" ")}function O(){return S("")}function k(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function C(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function D(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const r in e)null==e[r]?t.removeAttribute(r):"style"===r?t.style.cssText=e[r]:"__value"===r?t.value=t[r]=e[r]:n[r]&&n[r].set?t[r]=e[r]:C(t,r,e[r])}function x(t,e){e=""+e,t.data!==e&&(t.data=e)}function P(t,e){(null!=e||t.value)&&(t.value=e)}function L(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}function R(t,e,n){t.classList[n?"add":"remove"](e)}function M(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}const j=new Set;let U,V=0;function F(t,e,n,r,i,o,s,a=0){const u=16.666/r;let c="{\n";for(let t=0;t<=1;t+=u){const r=e+(n-e)*o(t);c+=100*t+`%{${s(r,1-r)}}\n`}const h=c+`100% {${s(n,1-n)}}\n}`,l=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(h)}_${a}`,f=t.ownerDocument;j.add(f);const p=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(I("style")).sheet),d=f.__svelte_rules||(f.__svelte_rules={});d[l]||(d[l]=!0,p.insertRule(`@keyframes ${l} ${h}`,p.cssRules.length));const v=t.style.animation||"";return t.style.animation=`${v?`${v}, `:""}${l} ${r}ms linear ${i}ms 1 both`,V+=1,l}function $(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),i=n.length-r.length;i&&(t.style.animation=r.join(", "),V-=i,V||y(()=>{V||(j.forEach(t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}}),j.clear())}))}function B(t){U=t}function q(){if(!U)throw new Error("Function called outside component initialization");return U}function z(t){q().$$.on_mount.push(t)}function G(t){q().$$.on_destroy.push(t)}function H(){const t=q();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const i=M(e,n);r.slice().forEach(e=>{e.call(t,i)})}}}function W(t,e){q().$$.context.set(t,e)}function K(t){return q().$$.context.get(t)}const Y=[],X=[],J=[],Z=[],Q=Promise.resolve();let tt=!1;function et(t){J.push(t)}function nt(t){Z.push(t)}let rt=!1;const it=new Set;function ot(){if(!rt){rt=!0;do{for(let t=0;t<Y.length;t+=1){const e=Y[t];B(e),st(e.$$)}for(Y.length=0;X.length;)X.pop()();for(let t=0;t<J.length;t+=1){const e=J[t];it.has(e)||(it.add(e),e())}J.length=0}while(Y.length);for(;Z.length;)Z.pop()();tt=!1,rt=!1,it.clear()}}function st(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(et)}}let at;function ut(){return at||(at=Promise.resolve(),at.then(()=>{at=null})),at}function ct(t,e,n){t.dispatchEvent(M(`${e?"intro":"outro"}${n}`))}const ht=new Set;let lt;function ft(){lt={r:0,c:[],p:lt}}function pt(){lt.r||o(lt.c),lt=lt.p}function dt(t,e){t&&t.i&&(ht.delete(t),t.i(e))}function vt(t,e,n,r){if(t&&t.o){if(ht.has(t))return;ht.add(t),lt.c.push(()=>{ht.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}const yt={duration:0};function mt(n,r,i){let o,a,u=r(n,i),c=!1,h=0;function l(){o&&$(n,o)}function f(){const{delay:r=0,duration:i=300,easing:s=e,tick:f=t,css:p}=u||yt;p&&(o=F(n,0,1,i,r,s,p,h++)),f(0,1);const d=v()+r,y=d+i;a&&a.abort(),c=!0,et(()=>ct(n,!0,"start")),a=b(t=>{if(c){if(t>=y)return f(1,0),ct(n,!0,"end"),l(),c=!1;if(t>=d){const e=s((t-d)/i);f(e,1-e)}}return c})}let p=!1;return{start(){p||($(n),s(u)?(u=u(),ut().then(f)):f())},invalidate(){p=!1},end(){c&&(l(),c=!1)}}}function gt(t,e){vt(t,1,1,()=>{e.delete(t.key)})}function bt(t,e){const n={},r={},i={$$scope:1};let o=t.length;for(;o--;){const s=t[o],a=e[o];if(a){for(const t in s)t in a||(r[t]=1);for(const t in a)i[t]||(n[t]=a[t],i[t]=1);t[o]=a}else for(const t in s)i[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}function wt(t){return"object"==typeof t&&null!==t?t:{}}function _t(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function Et(t){t&&t.c()}function Tt(t,e,n){const{fragment:i,on_mount:a,on_destroy:u,after_update:c}=t.$$;i&&i.m(e,n),et(()=>{const e=a.map(r).filter(s);u?u.push(...e):o(e),t.$$.on_mount=[]}),c.forEach(et)}function It(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function At(t,e){-1===t.$$.dirty[0]&&(Y.push(t),tt||(tt=!0,Q.then(ot)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function St(e,n,r,s,a,u,c=[-1]){const h=U;B(e);const l=n.props||{},f=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:a,bound:i(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(h?h.$$.context:[]),callbacks:i(),dirty:c};let p=!1;if(f.ctx=r?r(e,l,(t,n,...r)=>{const i=r.length?r[0]:n;return f.ctx&&a(f.ctx[t],f.ctx[t]=i)&&(f.bound[t]&&f.bound[t](i),p&&At(e,t)),n}):[],f.update(),p=!0,o(f.before_update),f.fragment=!!s&&s(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(E)}else f.fragment&&f.fragment.c();n.intro&&dt(e.$$.fragment),Tt(e,n.target,n.anchor),ot()}B(h)}class Nt{$destroy(){It(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const Ot=[];function kt(e,n=t){let r;const i=[];function o(t){if(a(e,t)&&(e=t,r)){const t=!Ot.length;for(let t=0;t<i.length;t+=1){const n=i[t];n[1](),Ot.push(n,e)}if(t){for(let t=0;t<Ot.length;t+=2)Ot[t][0](Ot[t+1]);Ot.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(s,a=t){const u=[s,a];return i.push(u),1===i.length&&(r=n(o)||t),s(e),()=>{const t=i.indexOf(u);-1!==t&&i.splice(t,1),0===i.length&&(r(),r=null)}}}}function Ct(e,n,r){const i=!Array.isArray(e),a=i?[e]:e,c=n.length<2;return function(t,e){return{subscribe:kt(t,e).subscribe}}(r,e=>{let r=!1;const h=[];let l=0,f=t;const p=()=>{if(l)return;f();const r=n(i?h[0]:h,e);c?e(r):f=s(r)?r:t},d=a.map((t,e)=>u(t,t=>{h[e]=t,l&=~(1<<e),r&&p()},()=>{l|=1<<e}));return r=!0,p(),function(){o(d),f()}})}const Dt={},xt={};function Pt(t){return{...t.location,state:t.history.state,key:t.history.state&&t.history.state.key||"initial"}}const Lt=function(t,e){const n=[];let r=Pt(t);return{get location(){return r},listen(e){n.push(e);const i=()=>{r=Pt(t),e({location:r,action:"POP"})};return t.addEventListener("popstate",i),()=>{t.removeEventListener("popstate",i);const r=n.indexOf(e);n.splice(r,1)}},navigate(e,{state:i,replace:o=!1}={}){i={...i,key:Date.now()+""};try{o?t.history.replaceState(i,null,e):t.history.pushState(i,null,e)}catch(n){t.location[o?"replace":"assign"](e)}r=Pt(t),n.forEach(t=>t({location:r,action:"PUSH"}))}}}(Boolean("undefined"!=typeof window&&window.document&&window.document.createElement)?window:function(t="/"){let e=0;const n=[{pathname:t,search:""}],r=[];return{get location(){return n[e]},addEventListener(t,e){},removeEventListener(t,e){},history:{get entries(){return n},get index(){return e},get state(){return r[e]},pushState(t,i,o){const[s,a=""]=o.split("?");e++,n.push({pathname:s,search:a}),r.push(t)},replaceState(t,i,o){const[s,a=""]=o.split("?");n[e]={pathname:s,search:a},r[e]=t}}}}()),{navigate:Rt}=Lt,Mt=/^:(.+)/;function jt(t,e){return t.substr(0,e.length)===e}function Ut(t){return"*"===t[0]}function Vt(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function Ft(t){return t.replace(/(^\/+|\/+$)/g,"")}function $t(t,e){return{route:t,score:t.default?0:Vt(t.path).reduce((t,e)=>(t+=4,!function(t){return""===t}(e)?!function(t){return Mt.test(t)}(e)?Ut(e)?t-=5:t+=3:t+=2:t+=1,t),0),index:e}}function Bt(t,e){let n,r;const[i]=e.split("?"),o=Vt(i),s=""===o[0],a=function(t){return t.map($t).sort((t,e)=>t.score<e.score?1:t.score>e.score?-1:t.index-e.index)}(t);for(let t=0,i=a.length;t<i;t++){const i=a[t].route;let u=!1;if(i.default){r={route:i,params:{},uri:e};continue}const c=Vt(i.path),h={},l=Math.max(o.length,c.length);let f=0;for(;f<l;f++){const t=c[f],e=o[f];if(void 0!==t&&Ut(t)){h["*"===t?"*":t.slice(1)]=o.slice(f).map(decodeURIComponent).join("/");break}if(void 0===e){u=!0;break}let n=Mt.exec(t);if(n&&!s){const t=decodeURIComponent(e);h[n[1]]=t}else if(t!==e){u=!0;break}}if(!u){n={route:i,params:h,uri:"/"+o.slice(0,f).join("/")};break}}return n||r||null}function qt(t,e){return t+(e?`?${e}`:"")}function zt(t,e){return`${Ft("/"===e?t:`${Ft(t)}/${Ft(e)}`)}/`}function Gt(t){let e;const n=t[16].default,r=h(n,t,t[15],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,[e]){r&&r.p&&32768&e&&r.p(l(n,t,t[15],null),f(n,t[15],e,null))},i(t){e||(dt(r,t),e=!0)},o(t){vt(r,t),e=!1},d(t){r&&r.d(t)}}}function Ht(t,e,n){let r,i,o,{basepath:s="/"}=e,{url:a=null}=e;const u=K(Dt),h=K(xt),l=kt([]);c(t,l,t=>n(8,o=t));const f=kt(null);let p=!1;const d=u||kt(a?{pathname:a}:Lt.location);c(t,d,t=>n(7,i=t));const v=h?h.routerBase:kt({path:s,uri:s});c(t,v,t=>n(6,r=t));const y=Ct([v,f],([t,e])=>{if(null===e)return t;const{path:n}=t,{route:r,uri:i}=e;return{path:r.default?n:r.path.replace(/\*.*$/,""),uri:i}});function m(t){const{path:e}=r;let{path:n}=t;if(t._path=n,t.path=zt(e,n),"undefined"==typeof window){if(p)return;const e=function(t,e){return Bt([t],e)}(t,i.pathname);e&&(f.set(e),p=!0)}else l.update(e=>(e.push(t),e))}function g(t){l.update(e=>{const n=e.indexOf(t);return e.splice(n,1),e})}u||(z(()=>Lt.listen(t=>{d.set(t.location)})),W(Dt,d)),W(xt,{activeRoute:f,base:v,routerBase:y,registerRoute:m,unregisterRoute:g});let{$$slots:b={},$$scope:w}=e;return t.$set=t=>{"basepath"in t&&n(3,s=t.basepath),"url"in t&&n(4,a=t.url),"$$scope"in t&&n(15,w=t.$$scope)},t.$$.update=()=>{if(64&t.$$.dirty){const{path:t}=r;l.update(e=>(e.forEach(e=>e.path=zt(t,e._path)),e))}if(384&t.$$.dirty){const t=Bt(o,i.pathname);f.set(t)}},[l,d,v,s,a,p,r,i,o,u,h,f,y,m,g,w,b]}class Wt extends Nt{constructor(t){super(),St(this,t,Ht,Gt,a,{basepath:3,url:4})}}const Kt=t=>({params:2&t,location:16&t}),Yt=t=>({params:t[1],location:t[4]});function Xt(t){let e,n,r,i;const o=[Zt,Jt],s=[];function a(t,e){return null!==t[0]?0:1}return e=a(t),n=s[e]=o[e](t),{c(){n.c(),r=O()},m(t,n){s[e].m(t,n),_(t,r,n),i=!0},p(t,i){let u=e;e=a(t),e===u?s[e].p(t,i):(ft(),vt(s[u],1,1,()=>{s[u]=null}),pt(),n=s[e],n||(n=s[e]=o[e](t),n.c()),dt(n,1),n.m(r.parentNode,r))},i(t){i||(dt(n),i=!0)},o(t){vt(n),i=!1},d(t){s[e].d(t),t&&E(r)}}}function Jt(t){let e;const n=t[13].default,r=h(n,t,t[12],Yt);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,e){r&&r.p&&4114&e&&r.p(l(n,t,t[12],Yt),f(n,t[12],e,Kt))},i(t){e||(dt(r,t),e=!0)},o(t){vt(r,t),e=!1},d(t){r&&r.d(t)}}}function Zt(t){let e,r;const i=[{location:t[4]},t[1],t[2]];var o=t[0];function s(t){let e={};for(let t=0;t<i.length;t+=1)e=n(e,i[t]);return{props:e}}if(o)var a=new o(s());return{c(){a&&Et(a.$$.fragment),e=O()},m(t,n){a&&Tt(a,t,n),_(t,e,n),r=!0},p(t,n){const r=22&n?bt(i,[16&n&&{location:t[4]},2&n&&wt(t[1]),4&n&&wt(t[2])]):{};if(o!==(o=t[0])){if(a){ft();const t=a;vt(t.$$.fragment,1,0,()=>{It(t,1)}),pt()}o?(Et((a=new o(s())).$$.fragment),dt(a.$$.fragment,1),Tt(a,e.parentNode,e)):a=null}else o&&a.$set(r)},i(t){r||(a&&dt(a.$$.fragment,t),r=!0)},o(t){a&&vt(a.$$.fragment,t),r=!1},d(t){t&&E(e),a&&It(a,t)}}}function Qt(t){let e,n,r=null!==t[3]&&t[3].route===t[7]&&Xt(t);return{c(){r&&r.c(),e=O()},m(t,i){r&&r.m(t,i),_(t,e,i),n=!0},p(t,[n]){null!==t[3]&&t[3].route===t[7]?r?(r.p(t,n),8&n&&dt(r,1)):(r=Xt(t),r.c(),dt(r,1),r.m(e.parentNode,e)):r&&(ft(),vt(r,1,1,()=>{r=null}),pt())},i(t){n||(dt(r),n=!0)},o(t){vt(r),n=!1},d(t){r&&r.d(t),t&&E(e)}}}function te(t,e,r){let i,o,{path:s=""}=e,{component:a=null}=e;const{registerRoute:u,unregisterRoute:h,activeRoute:l}=K(xt);c(t,l,t=>r(3,i=t));const f=K(Dt);c(t,f,t=>r(4,o=t));const d={path:s,default:""===s};let v={},y={};u(d),"undefined"!=typeof window&&G(()=>{h(d)});let{$$slots:m={},$$scope:g}=e;return t.$set=t=>{r(11,e=n(n({},e),p(t))),"path"in t&&r(8,s=t.path),"component"in t&&r(0,a=t.component),"$$scope"in t&&r(12,g=t.$$scope)},t.$$.update=()=>{8&t.$$.dirty&&i&&i.route===d&&r(1,v=i.params);{const{path:t,component:n,...i}=e;r(2,y=i)}},e=p(e),[a,v,y,i,o,l,f,d,s,u,h,e,g,m]}class ee extends Nt{constructor(t){super(),St(this,t,te,Qt,a,{path:8,component:0})}}function ne(t){let e,r,i;const o=t[17].default,s=h(o,t,t[16],null);let a=[{class:t[0]},{href:t[1]},{"aria-current":t[3]},t[2]],u={};for(let t=0;t<a.length;t+=1)u=n(u,a[t]);return{c(){e=I("a"),s&&s.c(),D(e,u)},m(n,o,a){_(n,e,o),s&&s.m(e,null),r=!0,a&&i(),i=k(e,"click",t[6])},p(t,[n]){s&&s.p&&65536&n&&s.p(l(o,t,t[16],null),f(o,t[16],n,null)),D(e,bt(a,[1&n&&{class:t[0]},2&n&&{href:t[1]},8&n&&{"aria-current":t[3]},4&n&&t[2]]))},i(t){r||(dt(s,t),r=!0)},o(t){vt(s,t),r=!1},d(t){t&&E(e),s&&s.d(t),i()}}}function re(t,e,n){let r,i,{to:o="#"}=e,{replace:s=!1}=e,{state:a={}}=e,{getProps:u=(()=>({}))}=e,{className:h}=e;const{base:l}=K(xt);c(t,l,t=>n(13,r=t));const f=K(Dt);c(t,f,t=>n(14,i=t));const p=H();let d,v,y,m;let g,{$$slots:b={},$$scope:w}=e;return t.$set=t=>{"to"in t&&n(7,o=t.to),"replace"in t&&n(8,s=t.replace),"state"in t&&n(9,a=t.state),"getProps"in t&&n(10,u=t.getProps),"className"in t&&n(0,h=t.className),"$$scope"in t&&n(16,w=t.$$scope)},t.$$.update=()=>{8320&t.$$.dirty&&n(1,d="/"===o?r.uri:function(t,e){if(jt(t,"/"))return t;const[n,r]=t.split("?"),[i]=e.split("?"),o=Vt(n),s=Vt(i);if(""===o[0])return qt(i,r);if(!jt(o[0],".")){return qt(("/"===i?"":"/")+s.concat(o).join("/"),r)}const a=s.concat(o),u=[];return a.forEach(t=>{".."===t?u.pop():"."!==t&&u.push(t)}),qt("/"+u.join("/"),r)}(o,r.uri)),16386&t.$$.dirty&&n(11,v=jt(i.pathname,d)),16386&t.$$.dirty&&n(12,y=d===i.pathname),4096&t.$$.dirty&&n(3,g=y?"page":void 0),23554&t.$$.dirty&&n(2,m=u({location:i,href:d,isPartiallyCurrent:v,isCurrent:y}))},[h,d,m,g,l,f,function(t){if(p("click",t),function(t){return!t.defaultPrevented&&0===t.button&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)){t.preventDefault();const e=i.pathname===d||s;Rt(d,{state:a,replace:e})}},o,s,a,u,v,y,r,i,p,w,b]}class ie extends Nt{constructor(t){super(),St(this,t,re,ne,a,{to:7,replace:8,state:9,getProps:10,className:0})}}const oe=kt(null),se=[{id:0,value:"",name:"",children:[]}],ae=kt(se);var ue="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function ce(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function he(t,e){return t(e={exports:{}},e.exports),e.exports
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */}var le=function(t,e){return(le=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function fe(t,e){function n(){this.constructor=t}le(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var pe=function(){return(pe=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function de(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function ve(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function ye(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function me(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function ge(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(me(arguments[e]));return t}function be(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function we(t){return this instanceof we?(this.v=t,this):new we(t)}var _e=Object.freeze({__proto__:null,__extends:fe,get __assign(){return pe},__rest:function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},__decorate:function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},__param:function(t,e){return function(n,r){e(n,r,t)}},__metadata:function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},__awaiter:de,__generator:ve,__exportStar:function(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])},__values:ye,__read:me,__spread:ge,__spreadArrays:be,__await:we,__asyncGenerator:function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{!function(t){t.value instanceof we?Promise.resolve(t.value.v).then(u,c):h(o[0][2],t)}(i[t](e))}catch(t){h(o[0][3],t)}}function u(t){a("next",t)}function c(t){a("throw",t)}function h(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}},__asyncDelegator:function(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:we(t[r](e)),done:"return"===r}:i?i(e):e}:i}},__asyncValues:function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=ye(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,i,(e=t[n](e)).done,e.value)}))}}},__makeTemplateObject:function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},__importStar:function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},__importDefault:function(t){return t&&t.__esModule?t:{default:t}},__classPrivateFieldGet:function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)},__classPrivateFieldSet:function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}}),Ee=he((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var n={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},r=function(t,e){if(!t)throw i(e)},i=function(t){return new Error("Firebase Database ("+n.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},o=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=o>>2,l=(3&o)<<4|a>>4,f=(15&a)<<2|c>>6,p=63&c;u||(p=64,s||(f=64)),r.push(n[h],n[l],n[f],n[p])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(o(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();var c=o<<2|s>>4;if(r.push(c),64!==a){var h=s<<4&240|a>>2;if(r.push(h),64!==u){var l=a<<6&192|u;r.push(l)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},a=function(t){try{return s.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function u(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=u(t[n],e[n]));return t}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var c=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function h(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var l=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,f.prototype.create),i}return _e.__extends(e,t),e}(Error),f=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?p(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new l(i,a),c=0,h=Object.keys(r);c<h.length;c++){var f=h[c];"_"!==f.slice(-1)&&(f in u&&console.warn('Overwriting FirebaseError base field "'+f+'" can cause unexpected behavior.'),u[f]=r[f])}return u},t}();function p(t,e){return t.replace(d,(function(t,n){var r=e[n];return null!=r?r.toString():"<"+n+"?>"}))}var d=/\{\$([^}]+)}/g;
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function v(t){return JSON.parse(t)}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var y=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=v(a(o[0])||""),n=v(a(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:i}};
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var m=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,s,a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],h=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=h^u&(c^h),s=1518500249):(o=u^c^h,s=1859775393):r<60?(o=u&c|h&(u|c),s=2400959708):(o=u^c^h,s=3395469782);i=(a<<5|a>>>27)+o+l+s+n[r]&4294967295;l=h,h=c,c=4294967295&(u<<30|u>>>2),u=a,a=i}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();var g=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=b),void 0===r.error&&(r.error=b),void 0===r.complete&&(r.complete=b);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function b(){}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function w(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument "}e.CONSTANTS=n,e.Deferred=c,e.ErrorFactory=f,e.FirebaseError=l,e.Sha1=m,e.assert=r,e.assertionError=i,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=s,e.base64Decode=a,e.base64Encode=function(t){var e=o(t);return s.encodeByteArray(e,!0)},e.contains=
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new g(t,e);return n.subscribe.bind(n)},e.decode=y,e.deepCopy=
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function(t){return u(void 0,t)},e.deepExtend=u,e.errorPrefix=w,e.getUA=h,e.isAdmin=function(t){var e=y(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return h().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=h();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())},e.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(ue.process)}catch(t){return!1}},e.isNodeSdk=function(){return!0===n.NODE_CLIENT||!0===n.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isUWP=function(){return h().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=y(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=y(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=y(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=v,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */,e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);if(o>=55296&&o<=56319){var s=o-55296;i++,r(i<t.length,"Surrogate pair missing trail surrogate."),o=65536+(s<<10)+(t.charCodeAt(i)-56320)}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(w(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(w(t,e,r)+"must be a valid context object.")}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */,e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(w(t,e,r)+"must be a valid firebase namespace.")}}));ce(Ee);Ee.CONSTANTS,Ee.Deferred,Ee.ErrorFactory,Ee.FirebaseError,Ee.Sha1,Ee.assert,Ee.assertionError,Ee.async,Ee.base64,Ee.base64Decode,Ee.base64Encode,Ee.contains,Ee.createSubscribe,Ee.decode,Ee.deepCopy,Ee.deepExtend,Ee.errorPrefix,Ee.getUA,Ee.isAdmin,Ee.isBrowser,Ee.isBrowserExtension,Ee.isElectron,Ee.isEmpty,Ee.isIE,Ee.isMobileCordova,Ee.isNode,Ee.isNodeSdk,Ee.isReactNative,Ee.isUWP,Ee.isValidFormat,Ee.isValidTimestamp,Ee.issuedAtTime,Ee.jsonEval,Ee.map,Ee.querystring,Ee.querystringDecode,Ee.safeGet,Ee.stringLength,Ee.stringToByteArray,Ee.stringify,Ee.validateArgCount,Ee.validateCallback,Ee.validateContextObject,Ee.validateNamespace;var Te=he((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),r=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new Ee.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=_e.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);try{var o=this.getOrInitializeService(i);if(!o){if(r)return null;throw Error("Service "+this.name+" is not available")}return o}catch(t){if(r)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t))try{this.getOrInitializeService("[DEFAULT]")}catch(t){}try{for(var r=_e.__values(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=_e.__read(i.value,2),s=o[0],a=o[1],u=this.normalizeInstanceIdentifier(s);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return _e.__awaiter(this,void 0,void 0,(function(){var t;return _e.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}();
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var i=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new r(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=n,e.ComponentContainer=i,e.Provider=r}));ce(Te);var Ie;Te.Component,Te.ComponentContainer,Te.Provider;
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */
function Ae(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Se,Ne=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(Se||(Se={}));var Oe={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},ke=Se.INFO,Ce=((Ie={})[Se.DEBUG]="log",Ie[Se.VERBOSE]="log",Ie[Se.INFO]="info",Ie[Se.WARN]="warn",Ie[Se.ERROR]="error",Ie),De=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=Ce[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,Ae(["["+i+"]  "+t.name+":"],n))}},xe=function(){function t(t){this.name=t,this._logLevel=ke,this._logHandler=De,this._userLogHandler=null,Ne.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in Se))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Ae([this,Se.DEBUG],t)),this._logHandler.apply(this,Ae([this,Se.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Ae([this,Se.VERBOSE],t)),this._logHandler.apply(this,Ae([this,Se.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Ae([this,Se.INFO],t)),this._logHandler.apply(this,Ae([this,Se.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Ae([this,Se.WARN],t)),this._logHandler.apply(this,Ae([this,Se.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Ae([this,Se.ERROR],t)),this._logHandler.apply(this,Ae([this,Se.ERROR],t))},t}();var Pe=Object.freeze({__proto__:null,get LogLevel(){return Se},Logger:xe,setLogLevel:function(t){var e="string"==typeof t?Oe[t]:t;Ne.forEach((function(t){t.logLevel=e}))},setUserLogHandler:function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=Oe[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:Se[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=Ne;r<i.length;r++){n(i[r])}}}),Le=he((function(t,e){
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var n;Object.defineProperty(e,"__esModule",{value:!0});var r,i=((n={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",n["bad-app-name"]="Illegal App name: '{$appName}",n["duplicate-app"]="Firebase App named '{$appName}' already exists",n["app-deleted"]="Firebase App named '{$appName}' already deleted",n["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",n["invalid-log-argument"]="First argument to `onLog` must be null or a function.",n),o=new Ee.ErrorFactory("app","Firebase",i),s=((r={})["@firebase/app"]="fire-core",r["@firebase/analytics"]="fire-analytics",r["@firebase/auth"]="fire-auth",r["@firebase/database"]="fire-rtdb",r["@firebase/functions"]="fire-fn",r["@firebase/installations"]="fire-iid",r["@firebase/messaging"]="fire-fcm",r["@firebase/performance"]="fire-perf",r["@firebase/remote-config"]="fire-rc",r["@firebase/storage"]="fire-gcs",r["@firebase/firestore"]="fire-fst",r["fire-js"]="fire-js",r["firebase-wrapper"]="fire-js-all",r),a=new Pe.Logger("@firebase/app"),u=function(){function t(t,e,n){var r,i,o=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Ee.deepCopy(t),this.container=new Te.ComponentContainer(e.name),this._addComponent(new Te.Component("app",(function(){return o}),"PUBLIC"));try{for(var s=_e.__values(this.firebase_.INTERNAL.components.values()),a=s.next();!a.done;a=s.next()){var u=a.value;this._addComponent(u)}}catch(t){r={error:t}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){a.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw o.create("app-deleted",{appName:this.name_})},t}();u.prototype.name&&u.prototype.options||u.prototype.delete||console.log("dc");var c=
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function t(){var e=
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var s=i;void 0===s.name&&(s.name="[DEFAULT]");var a=s.name;if("string"!=typeof a||!a)throw o.create("bad-app-name",{appName:String(a)});if(Ee.contains(e,a))throw o.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=s[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),c=e.match(/\s|\//);if(o||c){var h=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&h.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&c&&h.push("and"),c&&h.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void a.warn(h.join(" "))}u(new Te.Component(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:Pe.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw o.create("invalid-log-argument",{appName:name});Pe.setUserLogHandler(t,e)},apps:null,SDK_VERSION:"7.14.1",INTERNAL:{registerComponent:u,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function i(t){if(t=t||"[DEFAULT]",!Ee.contains(e,t))throw o.create("no-app",{appName:t});return e[t]}function u(s){var u,c,h=s.name;if(n.has(h))return a.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===s.type?r[h]:null;if(n.set(h,s),"PUBLIC"===s.type){var l=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw o.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==s.serviceProps&&Ee.deepExtend(l,s.serviceProps),r[h]=l,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,s.multipleInstances?t:[])}}try{for(var f=_e.__values(Object.keys(e)),p=f.next();!p.done;p=f.next()){var d=p.value;e[d]._addComponent(s)}}catch(t){u={error:t}}finally{try{p&&!p.done&&(c=f.return)&&c.call(f)}finally{if(u)throw u.error}}return"PUBLIC"===s.type?r[h]:null}return(r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r)}(u);return e.INTERNAL=_e.__assign(_e.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Ee.deepExtend(e,t)},createSubscribe:Ee.createSubscribe,ErrorFactory:Ee.ErrorFactory,deepExtend:Ee.deepExtend}),e}(),h=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
if(Ee.isBrowser()&&void 0!==self.firebase){a.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var l=self.firebase.SDK_VERSION;l&&l.indexOf("LITE")>=0&&a.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var f=c.initializeApp;c.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Ee.isNode()&&a.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),f.apply(void 0,t)};var p=c;!function(t,e){t.INTERNAL.registerComponent(new Te.Component("platform-logger",(function(t){return new h(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.2",e),t.registerVersion("fire-js","")}(p),e.default=p,e.firebase=p})),Re=ce(Le);Le.firebase;var Me,je=(Me=Le)&&"object"==typeof Me&&"default"in Me?Me.default:Me;
/**
     * @license
     * Copyright 2018 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
je.registerVersion("firebase","7.14.2","app");var Ue=je,Ve=he((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var n={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},r=function(t,e){if(!t)throw i(e)},i=function(t){return new Error("Firebase Database ("+n.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},o=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=o>>2,l=(3&o)<<4|a>>4,f=(15&a)<<2|c>>6,p=63&c;u||(p=64,s||(f=64)),r.push(n[h],n[l],n[f],n[p])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(o(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();var c=o<<2|s>>4;if(r.push(c),64!==a){var h=s<<4&240|a>>2;if(r.push(h),64!==u){var l=a<<6&192|u;r.push(l)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},a=function(t){try{return s.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function u(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=u(t[n],e[n]));return t}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var c=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function h(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var l=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,f.prototype.create),i}return _e.__extends(e,t),e}(Error),f=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?p(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new l(i,a),c=0,h=Object.keys(r);c<h.length;c++){var f=h[c];"_"!==f.slice(-1)&&(f in u&&console.warn('Overwriting FirebaseError base field "'+f+'" can cause unexpected behavior.'),u[f]=r[f])}return u},t}();function p(t,e){return t.replace(d,(function(t,n){var r=e[n];return null!=r?r.toString():"<"+n+"?>"}))}var d=/\{\$([^}]+)}/g;
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function v(t){return JSON.parse(t)}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var y=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=v(a(o[0])||""),n=v(a(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:i}};
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var m=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,s,a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],h=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=h^u&(c^h),s=1518500249):(o=u^c^h,s=1859775393):r<60?(o=u&c|h&(u|c),s=2400959708):(o=u^c^h,s=3395469782);i=(a<<5|a>>>27)+o+l+s+n[r]&4294967295;l=h,h=c,c=4294967295&(u<<30|u>>>2),u=a,a=i}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();var g=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=b),void 0===r.error&&(r.error=b),void 0===r.complete&&(r.complete=b);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function b(){}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function w(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument "}e.CONSTANTS=n,e.Deferred=c,e.ErrorFactory=f,e.FirebaseError=l,e.Sha1=m,e.assert=r,e.assertionError=i,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=s,e.base64Decode=a,e.base64Encode=function(t){var e=o(t);return s.encodeByteArray(e,!0)},e.contains=
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new g(t,e);return n.subscribe.bind(n)},e.decode=y,e.deepCopy=
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function(t){return u(void 0,t)},e.deepExtend=u,e.errorPrefix=w,e.getUA=h,e.isAdmin=function(t){var e=y(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return h().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=h();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())},e.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(ue.process)}catch(t){return!1}},e.isNodeSdk=function(){return!0===n.NODE_CLIENT||!0===n.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isUWP=function(){return h().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=y(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=y(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=y(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=v,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */,e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);if(o>=55296&&o<=56319){var s=o-55296;i++,r(i<t.length,"Surrogate pair missing trail surrogate."),o=65536+(s<<10)+(t.charCodeAt(i)-56320)}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(w(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(w(t,e,r)+"must be a valid context object.")}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */,e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(w(t,e,r)+"must be a valid firebase namespace.")}}));ce(Ve);Ve.CONSTANTS,Ve.Deferred;var Fe=Ve.ErrorFactory,$e=Ve.FirebaseError,Be=(Ve.Sha1,Ve.assert,Ve.assertionError,Ve.async,Ve.base64,Ve.base64Decode,Ve.base64Encode,Ve.contains,Ve.createSubscribe,Ve.decode,Ve.deepCopy,Ve.deepExtend,Ve.errorPrefix,Ve.getUA,Ve.isAdmin,Ve.isBrowser,Ve.isBrowserExtension,Ve.isElectron,Ve.isEmpty,Ve.isIE,Ve.isMobileCordova,Ve.isNode,Ve.isNodeSdk,Ve.isReactNative,Ve.isUWP,Ve.isValidFormat,Ve.isValidTimestamp,Ve.issuedAtTime,Ve.jsonEval,Ve.map,Ve.querystring,Ve.querystringDecode,Ve.safeGet,Ve.stringLength,Ve.stringToByteArray,Ve.stringify,Ve.validateArgCount,Ve.validateCallback,Ve.validateContextObject,Ve.validateNamespace,he((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),r=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new Ve.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=_e.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);try{var o=this.getOrInitializeService(i);if(!o){if(r)return null;throw Error("Service "+this.name+" is not available")}return o}catch(t){if(r)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t))try{this.getOrInitializeService("[DEFAULT]")}catch(t){}try{for(var r=_e.__values(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=_e.__read(i.value,2),s=o[0],a=o[1],u=this.normalizeInstanceIdentifier(s);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return _e.__awaiter(this,void 0,void 0,(function(){var t;return _e.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}();
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var i=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new r(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=n,e.ComponentContainer=i,e.Provider=r})));ce(Be);var qe=Be.Component,ze=(Be.ComponentContainer,Be.Provider,he((function(t,e){!function(t){function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function r(t,e,r){var i,o=new Promise((function(o,s){n(i=t[e].apply(t,r)).then(o,s)}));return o.request=i,o}function i(t,e,n){var i=r(t,e,n);return i.then((function(t){if(t)return new h(t,i.request)}))}function o(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function s(t,e,n,i){i.forEach((function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})}))}function a(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function u(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})}))}function c(t){this._index=t}function h(t,e){this._cursor=t,this._request=e}function l(t){this._store=t}function f(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function p(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new f(n)}function d(t){this._db=t}o(c,"_index",["name","keyPath","multiEntry","unique"]),s(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(h,"_cursor",["direction","key","primaryKey","value"]),s(h,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(h.prototype[t]=function(){var e=this,r=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,r),n(e._request).then((function(t){if(t)return new h(t,e._request)}))}))})})),l.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},l.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(l,"_store",["name","keyPath","indexNames","autoIncrement"]),s(l,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(l,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(l,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new l(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),a(f,"_tx",IDBTransaction,["abort"]),p.prototype.createObjectStore=function(){return new l(this._db.createObjectStore.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["deleteObjectStore","close"]),d.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),a(d,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[l,c].forEach((function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,l].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(i){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)}))}))})})),t.openDb=function(t,e,n){var i=r(indexedDB,"open",[t,e]),o=i.request;return o&&(o.onupgradeneeded=function(t){n&&n(new p(o.result,t.oldVersion,o.transaction))}),i.then((function(t){return new d(t)}))},t.deleteDb=function(t){return r(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)})));ce(ze);var Ge,He=ze.openDb,We=new Fe("installations","Installations",((Ge={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Ge["not-registered"]="Firebase Installation is not registered.",Ge["installation-not-found"]="Firebase Installation not found.",Ge["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Ge["app-offline"]="Could not process request. Application offline.",Ge["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Ge));function Ke(t){return t instanceof $e&&t.code.includes("request-failed")}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ye(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function Xe(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function Je(t,e){return de(this,void 0,void 0,(function(){var n,r;return ve(this,(function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,We.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function Ze(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function Qe(t,e){var n=e.refreshToken,r=Ze(t);return r.append("Authorization",function(t){return"FIS_v2 "+t}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(n)),r}function tn(t){return de(this,void 0,void 0,(function(){var e;return ve(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}}))}))}function en(t,e){var n=e.fid;return de(this,void 0,void 0,(function(){var e,r,i,o,s,a;return ve(this,(function(u){switch(u.label){case 0:return e=Ye(t),r=Ze(t),i={fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:"w:0.4.8"},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,tn((function(){return fetch(e,o)}))];case 1:return(s=u.sent()).ok?[4,s.json()]:[3,3];case 2:return a=u.sent(),[2,{fid:a.fid||n,registrationStatus:2,refreshToken:a.refreshToken,authToken:Xe(a.authToken)}];case 3:return[4,Je("Create Installation",s)];case 4:throw u.sent()}}))}))}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function nn(t){return new Promise((function(e){setTimeout(e,t)}))}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var rn=/^[cdef][\w-]{21}$/;function on(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,ge(e))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t);return rn.test(e)?e:""}catch(t){return""}}function sn(t){return t.appName+"!"+t.appId}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var an=new Map;function un(t,e){var n=sn(t);cn(n,e),function(t,e){var n=ln();n&&n.postMessage({key:t,fid:e});fn()}(n,e)}function cn(t,e){var n,r,i=an.get(t);if(i)try{for(var o=ye(i),s=o.next();!s.done;s=o.next()){(0,s.value)(e)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var hn=null;function ln(){return!hn&&"BroadcastChannel"in self&&((hn=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){cn(t.data.key,t.data.fid)}),hn}function fn(){0===an.size&&hn&&(hn.close(),hn=null)}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var pn,dn,vn="firebase-installations-store",yn=null;function mn(){return yn||(yn=He("firebase-installations-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(vn)}}))),yn}function gn(t,e){return de(this,void 0,void 0,(function(){var n,r,i,o,s;return ve(this,(function(a){switch(a.label){case 0:return n=sn(t),[4,mn()];case 1:return r=a.sent(),i=r.transaction(vn,"readwrite"),[4,(o=i.objectStore(vn)).get(n)];case 2:return s=a.sent(),[4,o.put(e,n)];case 3:return a.sent(),[4,i.complete];case 4:return a.sent(),s&&s.fid===e.fid||un(t,e.fid),[2,e]}}))}))}function bn(t){return de(this,void 0,void 0,(function(){var e,n,r;return ve(this,(function(i){switch(i.label){case 0:return e=sn(t),[4,mn()];case 1:return n=i.sent(),[4,(r=n.transaction(vn,"readwrite")).objectStore(vn).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function wn(t,e){return de(this,void 0,void 0,(function(){var n,r,i,o,s,a;return ve(this,(function(u){switch(u.label){case 0:return n=sn(t),[4,mn()];case 1:return r=u.sent(),i=r.transaction(vn,"readwrite"),[4,(o=i.objectStore(vn)).get(n)];case 2:return s=u.sent(),void 0!==(a=e(s))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(a,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!a||s&&s.fid===a.fid||un(t,a.fid),[2,a]}}))}))}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function _n(t){return de(this,void 0,void 0,(function(){var e,n,r;return ve(this,(function(i){switch(i.label){case 0:return[4,wn(t,(function(n){var r=function(t){return In(t||{fid:on(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine){var n=Promise.reject(We.create("app-offline"));return{installationEntry:e,registrationPromise:n}}var r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=function(t,e){return de(this,void 0,void 0,(function(){var n,r;return ve(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,en(t,e)];case 1:return n=i.sent(),[2,gn(t,n)];case 2:return Ke(r=i.sent())&&409===r.serverCode?[4,bn(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,gn(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(t,r);return{installationEntry:r,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:En(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function En(t){return de(this,void 0,void 0,(function(){var e,n,r,i;return ve(this,(function(o){switch(o.label){case 0:return[4,Tn(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,nn(100)];case 3:return o.sent(),[4,Tn(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,_n(t)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,e]}}))}))}function Tn(t){return wn(t,(function(t){if(!t)throw We.create("installation-not-found");return In(t)}))}function In(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e;
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}function An(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return de(this,void 0,void 0,(function(){var t,i,o,s,a,u,c;return ve(this,(function(h){switch(h.label){case 0:return t=function(t,e){var n=e.fid;return Ye(t)+"/"+n+"/authTokens:generate"}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(n,e),i=Qe(n,e),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),s={installation:{sdkVersion:"w:0.4.8"}},a={method:"POST",headers:i,body:JSON.stringify(s)},[4,tn((function(){return fetch(t,a)}))];case 1:return(u=h.sent()).ok?[4,u.json()]:[3,3];case 2:return c=h.sent(),[2,Xe(c)];case 3:return[4,Je("Generate Auth Token",u)];case 4:throw h.sent()}}))}))}function Sn(t,e){return void 0===e&&(e=!1),de(this,void 0,void 0,(function(){var n,r,i;return ve(this,(function(o){switch(o.label){case 0:return[4,wn(t.appConfig,(function(r){if(!On(r))throw We.create("not-registered");var i=r.authToken;if(!e&&function(t){return 2===t.requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}(i))return r;if(1===i.requestStatus)return n=function(t,e){return de(this,void 0,void 0,(function(){var n,r;return ve(this,(function(i){switch(i.label){case 0:return[4,Nn(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,nn(100)];case 3:return i.sent(),[4,Nn(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,Sn(t,e)]:[2,r]}}))}))}(t,e),r;if(!navigator.onLine)throw We.create("app-offline");var o=function(t){var e={requestStatus:1,requestTime:Date.now()};return pe(pe({},t),{authToken:e})}(r);return n=function(t,e){return de(this,void 0,void 0,(function(){var n,r,i;return ve(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,An(t,e)];case 1:return n=o.sent(),i=pe(pe({},e),{authToken:n}),[4,gn(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!Ke(r=o.sent())||401!==r.serverCode&&404!==r.serverCode?[3,5]:[4,bn(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=pe(pe({},e),{authToken:{requestStatus:0}}),[4,gn(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(t,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function Nn(t){return wn(t,(function(t){if(!On(t))throw We.create("not-registered");var e,n=t.authToken;return 1===(e=n).requestStatus&&e.requestTime+1e4<Date.now()?pe(pe({},t),{authToken:{requestStatus:0}}):t}))}function On(t){return void 0!==t&&2===t.registrationStatus}function kn(t){return de(this,void 0,void 0,(function(){var e;return ve(this,(function(n){switch(n.label){case 0:return[4,_n(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Cn(t,e){return de(this,void 0,void 0,(function(){var n,r,i,o;return ve(this,(function(s){switch(s.label){case 0:return n=function(t,e){var n=e.fid;return Ye(t)+"/"+n}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t,e),r=Qe(t,e),i={method:"DELETE",headers:r},[4,tn((function(){return fetch(n,i)}))];case 1:return(o=s.sent()).ok?[3,3]:[4,Je("Delete Installation",o)];case 2:throw s.sent();case 3:return[2]}}))}))}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function Dn(t,e){var n=t.appConfig;return function(t,e){ln();var n=sn(t),r=an.get(n);r||(r=new Set,an.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=sn(t),r=an.get(n);r&&(r.delete(e),0===r.size&&an.delete(n),fn())}(n,e)}}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function xn(t){return We.create("missing-app-config-values",{valueName:t})}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */
function Pn(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */!function(t){t.INTERNAL.registerComponent(new qe("installations",(function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw xn("App Configuration");if(!t.name)throw xn("App Name");try{for(var r=ye(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw xn(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */return function(t){return de(this,void 0,void 0,(function(){var e,n,r;return ve(this,(function(i){switch(i.label){case 0:return[4,_n(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):Sn(t).catch(console.error),[2,n.fid]}}))}))}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),de(this,void 0,void 0,(function(){return ve(this,(function(n){switch(n.label){case 0:return[4,kn(t.appConfig)];case 1:return n.sent(),[4,Sn(t,e)];case 2:return[2,n.sent().token]}}))}))}(n,t)},delete:function(){return function(t){return de(this,void 0,void 0,(function(){var e,n;return ve(this,(function(r){switch(r.label){case 0:return[4,wn(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw We.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw We.create("app-offline");case 3:return[4,Cn(e,n)];case 4:return r.sent(),[4,bn(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(t){return Dn(n,t)}}}),"PUBLIC")),t.registerVersion("@firebase/installations","0.4.8")}(Re),function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(dn||(dn={}));dn.DEBUG,dn.VERBOSE,dn.INFO,dn.WARN,dn.ERROR,dn.SILENT;var Ln=dn.INFO,Rn=((pn={})[dn.DEBUG]="log",pn[dn.VERBOSE]="log",pn[dn.INFO]="info",pn[dn.WARN]="warn",pn[dn.ERROR]="error",pn),Mn=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=Rn[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,Pn(["["+i+"]  "+t.name+":"],n))}},jn=function(){function t(t){this.name=t,this._logLevel=Ln,this._logHandler=Mn,this._userLogHandler=null}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in dn))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Pn([this,dn.DEBUG],t)),this._logHandler.apply(this,Pn([this,dn.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Pn([this,dn.VERBOSE],t)),this._logHandler.apply(this,Pn([this,dn.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Pn([this,dn.INFO],t)),this._logHandler.apply(this,Pn([this,dn.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Pn([this,dn.WARN],t)),this._logHandler.apply(this,Pn([this,dn.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Pn([this,dn.ERROR],t)),this._logHandler.apply(this,Pn([this,dn.ERROR],t))},t}(),Un=he((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var n={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},r=function(t,e){if(!t)throw i(e)},i=function(t){return new Error("Firebase Database ("+n.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},o=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=o>>2,l=(3&o)<<4|a>>4,f=(15&a)<<2|c>>6,p=63&c;u||(p=64,s||(f=64)),r.push(n[h],n[l],n[f],n[p])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(o(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();var c=o<<2|s>>4;if(r.push(c),64!==a){var h=s<<4&240|a>>2;if(r.push(h),64!==u){var l=a<<6&192|u;r.push(l)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},a=function(t){try{return s.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function u(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=u(t[n],e[n]));return t}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var c=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function h(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var l=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,f.prototype.create),i}return _e.__extends(e,t),e}(Error),f=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?p(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new l(i,a),c=0,h=Object.keys(r);c<h.length;c++){var f=h[c];"_"!==f.slice(-1)&&(f in u&&console.warn('Overwriting FirebaseError base field "'+f+'" can cause unexpected behavior.'),u[f]=r[f])}return u},t}();function p(t,e){return t.replace(d,(function(t,n){var r=e[n];return null!=r?r.toString():"<"+n+"?>"}))}var d=/\{\$([^}]+)}/g;
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function v(t){return JSON.parse(t)}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var y=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=v(a(o[0])||""),n=v(a(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:i}};
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var m=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,s,a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],h=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=h^u&(c^h),s=1518500249):(o=u^c^h,s=1859775393):r<60?(o=u&c|h&(u|c),s=2400959708):(o=u^c^h,s=3395469782);i=(a<<5|a>>>27)+o+l+s+n[r]&4294967295;l=h,h=c,c=4294967295&(u<<30|u>>>2),u=a,a=i}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();var g=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=b),void 0===r.error&&(r.error=b),void 0===r.complete&&(r.complete=b);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function b(){}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function w(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument "}e.CONSTANTS=n,e.Deferred=c,e.ErrorFactory=f,e.FirebaseError=l,e.Sha1=m,e.assert=r,e.assertionError=i,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=s,e.base64Decode=a,e.base64Encode=function(t){var e=o(t);return s.encodeByteArray(e,!0)},e.contains=
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new g(t,e);return n.subscribe.bind(n)},e.decode=y,e.deepCopy=
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function(t){return u(void 0,t)},e.deepExtend=u,e.errorPrefix=w,e.getUA=h,e.isAdmin=function(t){var e=y(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return h().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=h();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())},e.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(ue.process)}catch(t){return!1}},e.isNodeSdk=function(){return!0===n.NODE_CLIENT||!0===n.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isUWP=function(){return h().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=y(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=y(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=y(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=v,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */,e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);if(o>=55296&&o<=56319){var s=o-55296;i++,r(i<t.length,"Surrogate pair missing trail surrogate."),o=65536+(s<<10)+(t.charCodeAt(i)-56320)}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(w(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(w(t,e,r)+"must be a valid context object.")}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */,e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(w(t,e,r)+"must be a valid firebase namespace.")}}));ce(Un);Un.CONSTANTS,Un.Deferred;var Vn=Un.ErrorFactory,Fn=(Un.FirebaseError,Un.Sha1,Un.assert,Un.assertionError,Un.async,Un.base64,Un.base64Decode,Un.base64Encode,Un.contains,Un.createSubscribe,Un.decode,Un.deepCopy,Un.deepExtend,Un.errorPrefix,Un.getUA,Un.isAdmin,Un.isBrowser,Un.isBrowserExtension,Un.isElectron,Un.isEmpty,Un.isIE,Un.isMobileCordova,Un.isNode,Un.isNodeSdk,Un.isReactNative,Un.isUWP,Un.isValidFormat,Un.isValidTimestamp,Un.issuedAtTime,Un.jsonEval,Un.map,Un.querystring,Un.querystringDecode,Un.safeGet,Un.stringLength,Un.stringToByteArray,Un.stringify,Un.validateArgCount,Un.validateCallback,Un.validateContextObject,Un.validateNamespace,he((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),r=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new Un.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=_e.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);try{var o=this.getOrInitializeService(i);if(!o){if(r)return null;throw Error("Service "+this.name+" is not available")}return o}catch(t){if(r)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t))try{this.getOrInitializeService("[DEFAULT]")}catch(t){}try{for(var r=_e.__values(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=_e.__read(i.value,2),s=o[0],a=o[1],u=this.normalizeInstanceIdentifier(s);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return _e.__awaiter(this,void 0,void 0,(function(){var t;return _e.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}();
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var i=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new r(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=n,e.ComponentContainer=i,e.Provider=r})));ce(Fn);var $n,Bn,qn=Fn.Component,zn=(Fn.ComponentContainer,Fn.Provider,"https://www.googletagmanager.com/gtag/js");!function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"}($n||($n={})),function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"}(Bn||(Bn={}));
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Gn,Hn=new jn("@firebase/analytics");
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Wn(t,e,n){var r=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];window[e].push(arguments)};return window[n]&&"function"==typeof window[n]&&(r=window[n]),window[n]=function(t,e){return function(n,r,i){if(n===$n.EVENT){var o=[];if(i&&i.send_to){var s=i.send_to;Array.isArray(s)||(s=[s]);for(var a=0,u=s;a<u.length;a++){var c=u[a],h=e[c];if(!h){o=[];break}o.push(h)}}if(0===o.length)for(var l=0,f=Object.values(e);l<f.length;l++){var p=f[l];o.push(p)}Promise.all(o).then((function(){return t($n.EVENT,r,i||{})})).catch((function(t){return Hn.error(t)}))}else if(n===$n.CONFIG){(e[r]||Promise.resolve()).then((function(){t($n.CONFIG,r,i)})).catch((function(t){return Hn.error(t)}))}else t($n.SET,r)}}(r,t),{gtagCore:r,wrappedGtag:window[n]}}var Kn,Yn,Xn=new Vn("analytics","Analytics",((Gn={})["no-ga-id"]='"measurementId" field is empty in Firebase config. Firebase Analytics requires this field to contain a valid measurement ID.',Gn["already-exists"]="A Firebase Analytics instance with the measurement ID ${id}  already exists. Only one Firebase Analytics instance can be created for each measurement ID.",Gn["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Gn["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate",Gn)),Jn={},Zn="dataLayer",Qn="gtag",tr=!1;function er(t){if(tr)throw Xn.create("already-initialized");t.dataLayerName&&(Zn=t.dataLayerName),t.gtagName&&(Qn=t.gtagName)}function nr(t,e){var n=t.options.measurementId;if(!n)throw Xn.create("no-ga-id");if(null!=Jn[n])throw Xn.create("already-exists",{id:n});if(!tr){(function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(zn))return r}return null}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */)()||function(t){var e=document.createElement("script");e.src=zn+"?l="+t,e.async=!0,document.head.appendChild(e)}(Zn),function(t){var e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Zn);var r=Wn(Jn,Zn,Qn),i=r.wrappedGtag,o=r.gtagCore;Yn=i,Kn=o,tr=!0}return Jn[n]=function(t,e,n){return de(this,void 0,void 0,(function(){var r,i;return ve(this,(function(o){switch(o.label){case 0:return[4,e.getId()];case 1:return r=o.sent(),n("js",new Date),n($n.CONFIG,t.options.measurementId,((i={}).firebase_id=r,i.origin="firebase",i.update=!0,i)),[2]}}))}))}(t,e,Kn),{app:t,logEvent:function(t,e,r){
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
return function(t,e,n,r,i){var o=r||{};i&&i.global||(o=pe(pe({},r),{send_to:e})),t($n.EVENT,n,o||{})}(Yn,n,t,e,r)},setCurrentScreen:function(t,e){return function(t,e,n,r){r&&r.global?t($n.SET,{screen_name:n}):t($n.CONFIG,e,{update:!0,screen_name:n})}(Yn,n,t,e)},setUserId:function(t,e){return function(t,e,n,r){r&&r.global?t($n.SET,{user_id:n}):t($n.CONFIG,e,{update:!0,user_id:n})}(Yn,n,t,e)},setUserProperties:function(t,e){return function(t,e,n,r){if(r&&r.global){for(var i={},o=0,s=Object.keys(n);o<s.length;o++){var a=s[o];i["user_properties."+a]=n[a]}t($n.SET,i)}else t($n.CONFIG,e,{update:!0,user_properties:n})}(Yn,n,t,e)},setAnalyticsCollectionEnabled:function(t){return function(t,e){window["ga-disable-"+t]=!e}(n,t)}}}var rr;
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */
function ir(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */!function(t){t.INTERNAL.registerComponent(new qn("analytics",(function(t){return nr(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:er,EventName:Bn})),t.INTERNAL.registerComponent(new qn("analytics-internal",(function(t){try{return{logEvent:t.getProvider("analytics").getImmediate().logEvent}}catch(t){throw Xn.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),t.registerVersion("@firebase/analytics","0.3.3")}(Re),function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function r(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var s=n.setTimeout;r.prototype.c=function(t){s(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.u(t):this.h(t)}},e.prototype.u=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.w(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new r;return e.prototype.s=function(t){var e=this.f();t.Oa(e.resolve,e.reject)},e.prototype.w=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){o(t)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Oa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Oa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=i(t),s=r.next();!s.done;s=r.next())o(s.value).Oa(e,n)}))},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e((function(t,e){function i(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,o(r.value).Oa(i(s.length-1),e),r=n.next()}while(!r.done)}))},e}));var o=o||{},s=this||self,a=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(){}function h(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function l(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){return"function"==h(t)}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var d="closure_uid_"+(1e9*Math.random()>>>0),v=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function m(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function g(t,e,n){return(g=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:m).apply(null,arguments)}function b(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var w=Date.now||function(){return+new Date};function _(t,e){function n(){}n.prototype=e.prototype,t.Za=e.prototype,t.prototype=new n,t.prototype.constructor=t}function E(t,e,n){this.code=A+t,this.message=e||S[t]||"",this.a=n||null}function T(t){var e=t&&t.code;return e?new E(e.substring(A.length),t.message,t.serverResponse):null}_(E,Error),E.prototype.v=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},E.prototype.toJSON=function(){return this.v()};var I,A="auth/",S={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},N={hd:{Ra:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},pd:{Ra:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://securetoken.googleapis.com/v1/token",Ua:"https://identitytoolkit.googleapis.com/v2/",id:"p"},rd:{Ra:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},sd:{Ra:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Xa:"https://test-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function O(t){for(var e in N)if(N[e].id===t)return{firebaseEndpoint:(t=N[e]).Ra,secureTokenEndpoint:t.Xa,identityPlatformEndpoint:t.Ua};return null}function k(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function C(t){if(Error.captureStackTrace)Error.captureStackTrace(this,C);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function D(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");C.call(this,n+t[r])}function x(t,e){throw new D("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function P(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function L(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function R(){this.b=this.a=null}I=O("__EID__")?"__EID__":void 0,_(C,Error),C.prototype.name="CustomError",_(D,C),D.prototype.name="AssertionError",P.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var M=new P((function(){return new U}),(function(t){t.reset()}));function j(){var t=ve,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function U(){this.next=this.b=this.a=null}R.prototype.add=function(t,e){var n=M.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},U.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},U.prototype.reset=function(){this.next=this.b=this.a=null};var V=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},F=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var $=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},B=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},q=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function z(t,e){return 0<=V(t,e)}function G(t,e){var n;return(n=0<=(e=V(t,e)))&&Array.prototype.splice.call(t,e,1),n}function H(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function W(t){return Array.prototype.concat.apply([],arguments)}function K(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Y,X=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},J=/&/g,Z=/</g,Q=/>/g,tt=/"/g,et=/'/g,nt=/\x00/g,rt=/[\x00&<>"']/;function it(t,e){return-1!=t.indexOf(e)}function ot(t,e){return t<e?-1:t>e?1:0}t:{var st=s.navigator;if(st){var at=st.userAgent;if(at){Y=at;break t}}Y=""}function ut(t){return it(Y,t)}function ct(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ht(t){for(var e in t)return!1;return!0}function lt(t){var e,n={};for(e in t)n[e]=t[e];return n}var ft="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<ft.length;o++)n=ft[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function dt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break t}}catch(t){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(p(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;x("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function vt(t,e){this.a=t===gt&&e||"",this.b=mt}function yt(t){return t instanceof vt&&t.constructor===vt&&t.b===mt?t.a:(x("expected object of type Const, got '"+t+"'"),"type_error:Const")}vt.prototype.ra=!0,vt.prototype.qa=function(){return this.a},vt.prototype.toString=function(){return"Const{"+this.a+"}"};var mt={},gt={},bt=new vt(gt,"");function wt(t,e){this.a=t===St&&e||"",this.b=At}function _t(t){return t instanceof wt&&t.constructor===wt&&t.b===At?t.a:(x("expected object of type TrustedResourceUrl, got '"+t+"' of type "+h(t)),"type_error:TrustedResourceUrl")}function Et(t,e){var n=yt(t);if(!It.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(Tt,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof vt?yt(t):encodeURIComponent(String(t))})),new wt(St,t)}wt.prototype.ra=!0,wt.prototype.qa=function(){return this.a.toString()},wt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Tt=/%{(\w+)}/g,It=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,At={},St={};function Nt(t,e){this.a=t===xt&&e||"",this.b=Dt}function Ot(t){return t instanceof Nt&&t.constructor===Nt&&t.b===Dt?t.a:(x("expected object of type SafeUrl, got '"+t+"' of type "+h(t)),"type_error:SafeUrl")}Nt.prototype.ra=!0,Nt.prototype.qa=function(){return this.a.toString()},Nt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var kt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ct(t){return t instanceof Nt?t:(t="object"==typeof t&&t.ra?t.qa():String(t),kt.test(t)||(t="about:invalid#zClosurez"),new Nt(xt,t))}var Dt={},xt={};function Pt(){this.a="",this.b=Rt}function Lt(t){return t instanceof Pt&&t.constructor===Pt&&t.b===Rt?t.a:(x("expected object of type SafeHtml, got '"+t+"' of type "+h(t)),"type_error:SafeHtml")}Pt.prototype.ra=!0,Pt.prototype.qa=function(){return this.a.toString()},Pt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Rt={};function Mt(t){var e=new Pt;return e.a=t,e}Mt("<!DOCTYPE html>");var jt=Mt("");function Ut(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Vt(t){return rt.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(J,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(Z,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(Q,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(tt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(et,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(nt,"&#0;"))),t}function Ft(t){return Ft[" "](t),t}Mt("<br>"),Ft[" "]=c;var $t,Bt,qt=ut("Opera"),zt=ut("Trident")||ut("MSIE"),Gt=ut("Edge"),Ht=Gt||zt,Wt=ut("Gecko")&&!(it(Y.toLowerCase(),"webkit")&&!ut("Edge"))&&!(ut("Trident")||ut("MSIE"))&&!ut("Edge"),Kt=it(Y.toLowerCase(),"webkit")&&!ut("Edge");function Yt(){var t=s.document;return t?t.documentMode:void 0}t:{var Xt="",Jt=(Bt=Y,Wt?/rv:([^\);]+)(\)|;)/.exec(Bt):Gt?/Edge\/([\d\.]+)/.exec(Bt):zt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Bt):Kt?/WebKit\/(\S+)/.exec(Bt):qt?/(?:Version)[ \/]?(\S+)/.exec(Bt):void 0);if(Jt&&(Xt=Jt?Jt[1]:""),zt){var Zt=Yt();if(null!=Zt&&Zt>parseFloat(Xt)){$t=String(Zt);break t}}$t=Xt}var Qt,te={};function ee(t){return function(t,e){var n=te;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=X(String($t)).split("."),r=X(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ot(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ot(0==s[2].length,0==a[2].length)||ot(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}Qt=s.document&&zt?Yt():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Bt){}var ne=!zt||9<=Number(Qt);function re(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ie(t,e){ct(e,(function(e,n){e&&"object"==typeof e&&e.ra&&(e=e.qa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:ae.hasOwnProperty(n)?t.setAttribute(ae[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var oe,se,ae={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ue(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!l(o)||p(o)&&0<o.nodeType?r(o):F(he(o)?K(o):o,r)}}function ce(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function he(t){if(t&&"number"==typeof t.length){if(p(t))return"function"==typeof t.item||"string"==typeof t.item;if(f(t))return"function"==typeof t.item}return!1}function le(t){s.setTimeout((function(){throw t}),0)}function fe(){var t=s.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ut("Presto")&&(t=function(){var t=ce(document,"IFRAME");t.style.display="none",function(t){var e=new wt(St,yt(bt));dt(t,"HTMLIFrameElement"),t.src=_t(e).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(Lt(jt)),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=g((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ut("Trident")&&!ut("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Db;n.Db=null,t()}},function(t){r.next={Db:t},r=r.next,e.port2.postMessage(0)}}return function(t){s.setTimeout(t,0)}}function pe(t,e){se||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);se=function(){t.then(ye)}}else se=function(){var t=ye;!f(s.setImmediate)||s.Window&&s.Window.prototype&&!ut("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(oe||(oe=fe()),oe(t)):s.setImmediate(t)}}(),de||(se(),de=!0),ve.add(t,e)}var de=!1,ve=new R;function ye(){for(var t;t=j();){try{t.a.call(t.b)}catch(t){le(t)}L(M,t)}de=!1}function me(t,e){if(this.a=ge,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=c)try{var n=this;t.call(e,(function(t){Ce(n,be,t)}),(function(t){if(!(t instanceof Ue))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Ce(n,we,t)}))}catch(t){Ce(this,we,t)}}var ge=0,be=2,we=3;function _e(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}_e.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ee=new P((function(){return new _e}),(function(t){t.reset()}));function Te(t,e,n){var r=Ee.get();return r.g=t,r.b=e,r.f=n,r}function Ie(t){if(t instanceof me)return t;var e=new me(c);return Ce(e,be,t),e}function Ae(t){return new me((function(e,n){n(t)}))}function Se(t,e,n){De(t,e,n,null)||pe(b(e,t))}function Ne(t){return new me((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Mb:!0,value:o}:{Mb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Se(t[o],b(i,o,!0),b(i,o,!1));else e(r)}))}function Oe(t,e){t.b||t.a!=be&&t.a!=we||xe(t),t.f?t.f.next=e:t.b=e,t.f=e}function ke(t,e,n,r){var i=Te(null,null,null);return i.a=new me((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Ue?o(e):t(i)}catch(t){o(t)}}:o})),i.a.c=t,Oe(t,i),i.a}function Ce(t,e,n){t.a==ge&&(t===n&&(e=we,n=new TypeError("Promise cannot resolve to itself")),t.a=1,De(n,t.Yc,t.Zc,t)||(t.i=n,t.a=e,t.c=null,xe(t),e!=we||n instanceof Ue||function(t,e){t.g=!0,pe((function(){t.g&&je.call(null,e)}))}(t,n)))}function De(t,e,n,r){if(t instanceof me)return Oe(t,Te(e||c,n||null,r)),!0;if(k(t))return t.then(e,n,r),!0;if(p(t))try{var i=t.then;if(f(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,(function(t){s||(s=!0,n.call(i,t))}),o)}catch(t){o(t)}}(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function xe(t){t.h||(t.h=!0,pe(t.ec,t))}function Pe(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Le(t,e,n,r){if(n==we&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Me(e,n,r);else try{e.c?e.g.call(e.f):Me(e,n,r)}catch(t){je.call(null,t)}L(Ee,e)}function Me(t,e,n){e==be?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}me.prototype.then=function(t,e,n){return ke(this,f(t)?t:null,f(e)?e:null,n)},me.prototype.$goog_Thenable=!0,(t=me.prototype).ma=function(t,e){return(t=Te(t,t,e)).c=!0,Oe(this,t),this},t.o=function(t,e){return ke(this,null,t,e)},t.cancel=function(t){if(this.a==ge){var e=new Ue(t);pe((function(){!function t(e,n){if(e.a==ge)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,s=null,a=r.b;a&&(a.c||(i++,a.a==e&&(o=a),!(o&&1<i)));a=a.next)o||(s=a);o&&(r.a==ge&&1==i?t(r,n):(s?((i=s).next==r.f&&(r.f=i),i.next=i.next.next):Pe(r),Le(r,o,we,n)))}e.c=null}else Ce(e,we,n)}(this,e)}),this)}},t.Yc=function(t){this.a=ge,Ce(this,be,t)},t.Zc=function(t){this.a=ge,Ce(this,we,t)},t.ec=function(){for(var t;t=Pe(this);)Le(this,t,this.a,this.i);this.h=!1};var je=le;function Ue(t){C.call(this,t)}function Ve(){this.wa=this.wa,this.na=this.na}_(Ue,C),Ue.prototype.name="cancel";function Fe(t){if(!t.wa&&(t.wa=!0,t.Ba(),0))(function(t){Object.prototype.hasOwnProperty.call(t,d)&&t[d]||(t[d]=++v)})(t)}Ve.prototype.wa=!1,Ve.prototype.Ba=function(){if(this.na)for(;this.na.length;)this.na.shift()()};var $e=Object.freeze||function(t){return t},Be=!zt||9<=Number(Qt),qe=zt&&!ee("9"),ze=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",c,e),s.removeEventListener("test",c,e)}catch(t){}return t}();function Ge(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function He(t,e){if(Ge.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Wt){t:{try{Ft(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:We[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Ge.prototype.preventDefault=function(){this.defaultPrevented=!0},_(He,Ge);var We=$e({2:"touch",3:"pen",4:"mouse"});He.prototype.preventDefault=function(){He.Za.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,qe)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},He.prototype.f=function(){return this.a};var Ke="closure_listenable_"+(1e6*Math.random()|0),Ye=0;function Xe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ta=i,this.key=++Ye,this.ua=this.Na=!1}function Je(t){t.ua=!0,t.listener=null,t.proxy=null,t.src=null,t.Ta=null}function Ze(t){this.src=t,this.a={},this.b=0}function Qe(t,e){var n=e.type;n in t.a&&G(t.a[n],e)&&(Je(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function tn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ua&&o.listener==e&&o.capture==!!n&&o.Ta==r)return i}return-1}Ze.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=tn(t,e,r,i);return-1<s?(e=t[s],n||(e.Na=!1)):((e=new Xe(e,this.src,o,!!r,i)).Na=n,t.push(e)),e};var en="closure_lm_"+(1e6*Math.random()|0),nn={};function rn(t,e,n,r,i){if(r&&r.once)sn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)rn(t,e[o],n,r,i);else n=vn(n),t&&t[Ke]?mn(t,e,n,p(r)?!!r.capture:!!r,i):on(t,e,n,!1,r,i)}function on(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=p(i)?!!i.capture:!!i,a=pn(t);if(a||(t[en]=a=new Ze(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=fn,e=Be?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ze||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(cn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function sn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)sn(t,e[o],n,r,i);else n=vn(n),t&&t[Ke]?gn(t,e,n,p(r)?!!r.capture:!!r,i):on(t,e,n,!0,r,i)}function an(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)an(t,e[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=vn(n),t&&t[Ke]?(t=t.u,(e=String(e).toString())in t.a&&(-1<(n=tn(o=t.a[e],n,r,i))&&(Je(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=pn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=tn(e,n,r,i)),(n=-1<t?e[t]:null)&&un(n))}function un(t){if("number"!=typeof t&&t&&!t.ua){var e=t.src;if(e&&e[Ke])Qe(e.u,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(cn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=pn(e))?(Qe(n,t),0==n.b&&(n.src=null,e[en]=null)):Je(t)}}}function cn(t){return t in nn?nn[t]:nn[t]="on"+t}function hn(t,e,n,r){var i=!0;if((t=pn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ua&&(o=ln(o,r),i=i&&!1!==o)}return i}function ln(t,e){var n=t.listener,r=t.Ta||t.src;return t.Na&&un(t),n.call(r,e)}function fn(t,e){if(t.ua)return!0;if(!Be){if(!e)t:{e=["window","event"];for(var n=s,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new He(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=hn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=hn(r[i],t,!1,e),n=n&&o}return n}return ln(t,new He(e,this))}function pn(t){return(t=t[en])instanceof Ze?t:null}var dn="__closure_events_fn_"+(1e9*Math.random()>>>0);function vn(t){return f(t)?t:(t[dn]||(t[dn]=function(e){return t.handleEvent(e)}),t[dn])}function yn(){Ve.call(this),this.u=new Ze(this),this.Yb=this,this.eb=null}function mn(t,e,n,r,i){t.u.add(String(e),n,!1,r,i)}function gn(t,e,n,r,i){t.u.add(String(e),n,!0,r,i)}function bn(t,e,n,r){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ua&&s.capture==n){var a=s.listener,u=s.Ta||s.src;s.Na&&Qe(t.u,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function wn(t,e,n){if(f(t))n&&(t=g(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=g(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function _n(t){var e=null;return new me((function(n,r){-1==(e=wn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw s.clearTimeout(e),t}))}function En(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(l(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Tn(t){if(t.X&&"function"==typeof t.X)return t.X();if(!t.V||"function"!=typeof t.V){if(l(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function In(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof In)for(n=t.X(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function An(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Sn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Sn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Sn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}_(yn,Ve),yn.prototype[Ke]=!0,yn.prototype.addEventListener=function(t,e,n,r){rn(this,t,e,n,r)},yn.prototype.removeEventListener=function(t,e,n,r){an(this,t,e,n,r)},yn.prototype.dispatchEvent=function(t){var e,n=this.eb;if(n)for(e=[];n;n=n.eb)e.push(n);n=this.Yb;var r=t.type||t;if("string"==typeof t)t=new Ge(t,n);else if(t instanceof Ge)t.target=t.target||n;else{var i=t;pt(t=new Ge(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=bn(s,r,!0,t)&&i}if(i=bn(s=t.b=n,r,!0,t)&&i,i=bn(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=bn(s=t.b=e[o],r,!1,t)&&i;return i},yn.prototype.Ba=function(){if(yn.Za.Ba.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Je(n[r]);delete e.a[t],e.b--}}this.eb=null},(t=In.prototype).V=function(){An(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.X=function(){return An(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Sn(this.b,t)?this.b[t]:e},t.set=function(t,e){Sn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.X(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Nn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function On(t,e){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,t instanceof On?(this.h=void 0!==e?e:t.h,kn(this,t.f),this.i=t.i,this.b=t.b,Cn(this,t.l),this.c=t.c,Dn(this,Xn(t.a)),this.g=t.g):t&&(n=String(t).match(Nn))?(this.h=!!e,kn(this,n[1]||"",!0),this.i=Mn(n[2]||""),this.b=Mn(n[3]||"",!0),Cn(this,n[4]),this.c=Mn(n[5]||"",!0),Dn(this,n[6]||"",!0),this.g=Mn(n[7]||"")):(this.h=!!e,this.a=new zn(null,this.h))}function kn(t,e,n){t.f=n?Mn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Cn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.l=e}else t.l=null}function Dn(t,e,n){e instanceof zn?(t.a=e,function(t,e){e&&!t.f&&(Gn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Wn(this,e),Yn(this,n,t))}),t)),t.f=e}(t.a,t.h)):(n||(e=jn(e,Bn)),t.a=new zn(e,t.h))}function xn(t,e,n){t.a.set(e,n)}function Pn(t,e){return t.a.get(e)}function Ln(t){return t instanceof On?new On(t):new On(t,void 0)}function Rn(t,e){var n=new On(null,void 0);return kn(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function Mn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function jn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Un),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Un(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}On.prototype.toString=function(){var t=[],e=this.f;e&&t.push(jn(e,Vn,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(jn(e,Vn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(jn(n,"/"==n.charAt(0)?$n:Fn,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",jn(n,qn)),t.join("")},On.prototype.resolve=function(t){var e=new On(this),n=!!t.f;n?kn(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.l;var r=t.c;if(n)Cn(e,t.l);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(it(i,"./")||it(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.a.toString(),n?Dn(e,Xn(t.a)):n=!!t.g,n&&(e.g=t.g),e};var Vn=/[#\/\?@]/g,Fn=/[#\?:]/g,$n=/[#\?]/g,Bn=/[#\?@]/g,qn=/#/g;function zn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Gn(t){t.a||(t.a=new In,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Hn(t){var e=Tn(t);if(void 0===e)throw Error("Keys are undefined");var n=new zn(null,void 0);t=En(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Yn(n,i,o):n.add(i,o)}return n}function Wn(t,e){Gn(t),e=Jn(t,e),Sn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Sn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&An(t)))}function Kn(t,e){return Gn(t),e=Jn(t,e),Sn(t.a.b,e)}function Yn(t,e,n){Wn(t,e),0<n.length&&(t.c=null,t.a.set(Jn(t,e),K(n)),t.b+=n.length)}function Xn(t){var e=new zn;return e.c=t.c,t.a&&(e.a=new In(t.a),e.b=t.b),e}function Jn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Zn(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",s=0;s<n;s++)r.push(o),t(e,i[s],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&("function"!=typeof(s=n[i])&&(r.push(o),nr(i,r),r.push(":"),t(e,s,r),o=","));return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":nr(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Qn,t,e),e.join("")}function Qn(){}(t=zn.prototype).add=function(t,e){Gn(this),this.c=null,t=Jn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Gn(this),this.a.forEach((function(n,r){F(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.X=function(){Gn(this);for(var t=this.a.V(),e=this.a.X(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.V=function(t){Gn(this);var e=[];if("string"==typeof t)Kn(this,t)&&(e=W(e,this.a.get(Jn(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=W(e,t[n])}return e},t.set=function(t,e){return Gn(this),this.c=null,Kn(this,t=Jn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.X(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var tr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},er=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function nr(t,e){e.push('"',t.replace(er,(function(t){var e=tr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),tr[t]=e),e})),'"')}function rr(){var t=Er();return zt&&!!Qt&&11==Qt||/Edge\/\d+/.test(t)}function ir(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function or(t,e){e=e||s.window;var n="about:blank";t&&(n=Ot(Ct(t))),e.location.href=n}function sr(t){return!!((t=(t||Er()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function ar(t){t=t||s.window;try{t.close()}catch(t){}}function ur(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Er().toLowerCase(),r&&(e.target=r,it(n,"crios/")&&(e.target="_blank")),br(Er())==mr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Nt?n:Ct(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((ut("iPhone")&&!ut("iPod")&&!ut("iPad")||ut("iPad")||ut("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(dt(s=ce(document,"A"),"HTMLAnchorElement"),e instanceof Nt||e instanceof Nt||(e="object"==typeof e&&e.ra?e.qa():String(e),kt.test(e)||(e="about:invalid#zClosurez"),e=new Nt(xt,e)),s.href=Ot(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=r.open("",n,s),t=Ot(e),s&&(Ht&&it(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t=Mt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Vt(t)+'">'),r=s.document)&&(r.write(Lt(t)),r.close())):(s=r.open(Ot(e),n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(t){}return s}var cr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hr=/^[^@]+@[^@]+$/;function lr(){var t=null;return new me((function(e){"complete"==s.document.readyState?e():(t=function(){e()},sn(window,"load",t))})).o((function(e){throw an(window,"load",t),e}))}function fr(t){return t=t||Er(),!("file:"!==Nr()&&"ionic:"!==Nr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function pr(){var t=s.window;try{return!(!t||t==t.top)}catch(t){return!1}}function dr(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function vr(){return Re.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Re.INTERNAL.hasOwnProperty("node")?"Node":dr()?"Worker":"Browser"}function yr(){var t=vr();return"ReactNative"===t||"Node"===t}var mr="Firefox",gr="Chrome";function br(t){var e=t.toLowerCase();return it(e,"opera/")||it(e,"opr/")||it(e,"opios/")?"Opera":it(e,"iemobile")?"IEMobile":it(e,"msie")||it(e,"trident/")?"IE":it(e,"edge/")?"Edge":it(e,"firefox/")?mr:it(e,"silk/")?"Silk":it(e,"blackberry")?"Blackberry":it(e,"webos")?"Webos":!it(e,"safari/")||it(e,"chrome/")||it(e,"crios/")||it(e,"android")?!it(e,"chrome/")&&!it(e,"crios/")||it(e,"edge/")?it(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":gr:"Safari"}var wr={jd:"FirebaseCore-web",ld:"FirebaseUI-web"};function _r(t,e){e=e||[];var n,r=[],i={};for(n in wr)i[wr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=vr())?r=br(i=Er()):"Worker"===r&&(r=br(i=Er())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Er(){return s.navigator&&s.navigator.userAgent||""}function Tr(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Ir(){try{var t=s.localStorage,e=xr();if(t)return t.setItem(e,"1"),t.removeItem(e),!rr()||!!s.indexedDB}catch(t){return dr()&&!!s.indexedDB}return!1}function Ar(){return(Sr()||"chrome-extension:"===Nr()||fr())&&!yr()&&Ir()&&!dr()}function Sr(){return"http:"===Nr()||"https:"===Nr()}function Nr(){return s.location&&s.location.protocol||null}function Or(t){return!sr(t=t||Er())&&br(t)!=mr}function kr(t){return void 0===t?null:Zn(t)}function Cr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Dr(t){if(null!==t)return JSON.parse(t)}function xr(t){return t||Math.floor(1e9*Math.random()).toString()}function Pr(t){return"Safari"!=br(t=t||Er())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Lr(){var t=s.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Rr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Er(),e=vr(),this.b=sr(t)||"ReactNative"===e}function Mr(){var t=s.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function jr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Ur(){return!(!Tr("fireauth.oauthhelper",s)&&!Tr("fireauth.iframe",s))}Rr.prototype.get=function(){var t=s.navigator;return!t||"boolean"!=typeof t.onLine||!Sr()&&"chrome-extension:"!==Nr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Vr,Fr={};function $r(t){Fr[t]||(Fr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Br={};Object.defineProperty(Br,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Br,"abcd",{configurable:!0,enumerable:!0,value:2}),Vr=2==Br.abcd}catch(Bt){Vr=!1}function qr(t,e,n){Vr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function zr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&qr(t,n,e[n])}function Gr(t){var e={};return zr(e,t),e}function Hr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)qr(e,n,Hr(t[n]));return e}function Wr(t){var e=t&&(t[Zr]?"phone":null);if(!(e&&t&&t[Jr]))throw new E("internal-error","Internal assert: invalid MultiFactorInfo object");qr(this,"uid",t[Jr]),qr(this,"displayName",t[Yr]||null);var n=null;t[Xr]&&(n=new Date(t[Xr]).toUTCString()),qr(this,"enrollmentTime",n),qr(this,"factorId",e)}function Kr(t){try{var e=new Qr(t)}catch(t){e=null}return e}Wr.prototype.v=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Yr="displayName",Xr="enrolledAt",Jr="mfaEnrollmentId",Zr="phoneInfo";function Qr(t){Wr.call(this,t),qr(this,"phoneNumber",t[Zr])}function ti(t){var e={},n=t[ii],r=t[si],i=t[ai];if(t=Kr(t[oi]),!i||i!=ni&&i!=ri&&!n||i==ri&&!r||i==ei&&!t)throw Error("Invalid checkActionCode response!");i==ri?(e[ci]=n||null,e[li]=n||null,e[ui]=r):(e[ci]=r||null,e[li]=r||null,e[ui]=n||null),e[hi]=t||null,qr(this,pi,i),qr(this,fi,Hr(e))}_(Qr,Wr),Qr.prototype.v=function(){var t=Qr.Za.v.call(this);return t.phoneNumber=this.phoneNumber,t};var ei="REVERT_SECOND_FACTOR_ADDITION",ni="EMAIL_SIGNIN",ri="VERIFY_AND_CHANGE_EMAIL",ii="email",oi="mfaInfo",si="newEmail",ai="requestType",ui="email",ci="fromEmail",hi="multiFactorInfo",li="previousEmail",fi="data",pi="operation";function di(t){var e=Pn(t=Ln(t),vi)||null,n=Pn(t,yi)||null,r=Pn(t,bi)||null;if(r=r&&_i[r]||null,!e||!n||!r)throw new E("argument-error",vi+", "+yi+"and "+bi+" are required in a valid action code URL.");zr(this,{apiKey:e,operation:r,code:n,continueUrl:Pn(t,mi)||null,languageCode:Pn(t,gi)||null,tenantId:Pn(t,wi)||null})}var vi="apiKey",yi="oobCode",mi="continueUrl",gi="languageCode",bi="mode",wi="tenantId",_i={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ei,signIn:ni,verifyAndChangeEmail:ri,verifyEmail:"VERIFY_EMAIL"};function Ei(t){try{return new di(t)}catch(t){return null}}function Ti(t){var e=t[Oi];if(void 0===e)throw new E("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new E("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ii];if(n&&"object"==typeof n){e=n[Di];var r=n[ki];if(n=n[Ci],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new E("argument-error",ki+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new E("argument-error",Ci+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new E("argument-error",Di+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new E("missing-android-pkg-name")}}else if(void 0!==n)throw new E("argument-error",Ii+" property must be a non null object when specified.");if(this.f=null,(e=t[Ni])&&"object"==typeof e){if("string"==typeof(e=e[xi])&&e.length)this.f=e;else if(void 0!==e)throw new E("argument-error",xi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new E("argument-error",Ni+" property must be a non null object when specified.");if(void 0!==(e=t[Si])&&"boolean"!=typeof e)throw new E("argument-error",Si+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Ai])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new E("argument-error",Ai+" property must be a non empty string when specified.");this.i=t||null}var Ii="android",Ai="dynamicLinkDomain",Si="handleCodeInApp",Ni="iOS",Oi="url",ki="installApp",Ci="minimumVersion",Di="packageName",xi="bundleId";function Pi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Li=null;function Ri(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Li[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Li){Li={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Li[o]&&(Li[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e+=String.fromCharCode(t)})),e}function Mi(t){var e=Ui(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function ji(t){try{return new Mi(t)}catch(t){return null}}function Ui(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(Ri(t))}catch(t){}return null}Mi.prototype.S=function(){return this.f},Mi.prototype.i=function(){return this.b},Mi.prototype.toString=function(){return this.g};var Vi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Fi=["client_id","response_type","scope","redirect_uri","state"],$i={kd:{Ha:"locale",ta:700,sa:600,ea:"facebook.com",Va:Fi},md:{Ha:null,ta:500,sa:750,ea:"github.com",Va:Fi},nd:{Ha:"hl",ta:515,sa:680,ea:"google.com",Va:Fi},td:{Ha:"lang",ta:485,sa:705,ea:"twitter.com",Va:Vi},gd:{Ha:"locale",ta:600,sa:600,ea:"apple.com",Va:[]}};function Bi(t){for(var e in $i)if($i[e].ea==t)return $i[e];return null}function qi(t){var e={};e["facebook.com"]=Ki,e["google.com"]=Xi,e["github.com"]=Yi,e["twitter.com"]=Ji;var n=t&&t[Gi];try{if(n)return e[n]?new e[n](t):new Wi(t);if(void 0!==t[zi])return new Hi(t)}catch(t){}return null}var zi="idToken",Gi="providerId";function Hi(t){var e=t[Gi];if(!e&&t[zi]){var n=ji(t[zi]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),qr(this,"providerId",e),qr(this,"isNewUser",n)}function Wi(t){Hi.call(this,t),qr(this,"profile",Hr((t=Dr(t.rawUserInfo||"{}"))||{}))}function Ki(t){if(Wi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Yi(t){if(Wi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");qr(this,"username",this.profile&&this.profile.login||null)}function Xi(t){if(Wi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Ji(t){if(Wi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");qr(this,"username",t.screenName||null)}function Zi(t){var e=Ln(t),n=Pn(e,"link"),r=Pn(Ln(n),"link");return e=Pn(e,"deep_link_id"),Pn(Ln(e),"link")||e||r||n||t}function Qi(t,e){if(!t&&!e)throw new E("internal-error","Internal assert: no raw session string available");if(t&&e)throw new E("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?to:eo}_(Wi,Hi),_(Ki,Wi),_(Yi,Wi),_(Xi,Wi),_(Ji,Wi);var to="enroll",eo="signin";function no(){}function ro(t,e){return t.then((function(t){if(t[Gs]){var n=ji(t[Gs]);if(!n||e!=n.h)throw new E("user-mismatch");return t}throw new E("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==A+"user-not-found"?new E("user-mismatch"):t}))}function io(t,e){if(!e)throw new E("internal-error","failed to construct a credential");this.a=e,qr(this,"providerId",t),qr(this,"signInMethod",t)}function oo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function so(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new io(t.providerId,t.pendingToken)}catch(t){}return null}function ao(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&qr(this,"idToken",e.idToken),e.accessToken&&qr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&qr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new E("internal-error","failed to construct a credential");qr(this,"accessToken",e.oauthToken),qr(this,"secret",e.oauthTokenSecret)}qr(this,"providerId",t),qr(this,"signInMethod",n)}function uo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Hn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function co(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new ao(t.providerId,e,t.signInMethod)}catch(t){}}return null}function ho(t,e){this.Oc=e||[],zr(this,{providerId:t,isOAuthProvider:!0}),this.Fb={},this.lb=(Bi(t)||{}).Ha||null,this.kb=null}function lo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new E("argument-error",'SAML provider IDs must be prefixed with "saml."');ho.call(this,t,[])}function fo(t){ho.call(this,t,Fi),this.a=[]}function po(){fo.call(this,"facebook.com")}function vo(t){if(!t)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new po).credential({accessToken:e})}function yo(){fo.call(this,"github.com")}function mo(t){if(!t)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new yo).credential({accessToken:e})}function go(){fo.call(this,"google.com"),this.Aa("profile")}function bo(t,e){var n=t;return p(t)&&(n=t.idToken,e=t.accessToken),(new go).credential({idToken:n,accessToken:e})}function wo(){ho.call(this,"twitter.com",Vi)}function _o(t,e){var n=t;if(p(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new E("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ao("twitter.com",n,"twitter.com")}function Eo(t,e,n){this.a=t,this.f=e,qr(this,"providerId","password"),qr(this,"signInMethod",n===Io.EMAIL_LINK_SIGN_IN_METHOD?Io.EMAIL_LINK_SIGN_IN_METHOD:Io.EMAIL_PASSWORD_SIGN_IN_METHOD)}function To(t){return t&&t.email&&t.password?new Eo(t.email,t.password,t.signInMethod):null}function Io(){zr(this,{providerId:"password",isOAuthProvider:!1})}function Ao(t,e){if(!(e=So(e)))throw new E("argument-error","Invalid email link!");return new Eo(t,e.code,Io.EMAIL_LINK_SIGN_IN_METHOD)}function So(t){return(t=Ei(t=Zi(t)))&&t.operation===ni?t:null}function No(t){if(!(t.bb&&t.ab||t.Ja&&t.da))throw new E("internal-error");this.a=t,qr(this,"providerId","phone"),this.ea="phone",qr(this,"signInMethod","phone")}function Oo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return F(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new No(e)}return null}function ko(t){return t.a.Ja&&t.a.da?{temporaryProof:t.a.Ja,phoneNumber:t.a.da}:{sessionInfo:t.a.bb,code:t.a.ab}}function Co(t){try{this.a=t||Re.auth()}catch(t){throw new E("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}zr(this,{providerId:"phone",isOAuthProvider:!1})}function Do(t,e){if(!t)throw new E("missing-verification-id");if(!e)throw new E("missing-verification-code");return new No({bb:t,ab:e})}function xo(t){if(t.temporaryProof&&t.phoneNumber)return new No({Ja:t.temporaryProof,da:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return bo(o,n);case"facebook.com":return vo(n);case"github.com":return mo(n);case"twitter.com":return _o(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new io(e,s):new ao(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new fo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function Po(t){if(!t.isOAuthProvider)throw new E("invalid-oauth-provider")}function Lo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new E("invalid-auth-event");if(this.g&&this.a)throw new E("invalid-auth-event");if(this.g&&!this.f)throw new E("invalid-auth-event")}function Ro(t){return(t=t||{}).type?new Lo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&T(t.error),t.postBody,t.tenantId):null}function Mo(){this.b=null,this.a=[]}Qi.prototype.Fa=function(){return this.a?Ie(this.a):Ie(this.b)},Qi.prototype.v=function(){return this.type==to?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},no.prototype.ia=function(){},no.prototype.b=function(){},no.prototype.c=function(){},no.prototype.v=function(){},io.prototype.ia=function(t){return la(t,oo(this))},io.prototype.b=function(t,e){var n=oo(this);return n.idToken=e,fa(t,n)},io.prototype.c=function(t,e){return ro(pa(t,oo(this)),e)},io.prototype.v=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},ao.prototype.ia=function(t){return la(t,uo(this))},ao.prototype.b=function(t,e){var n=uo(this);return n.idToken=e,fa(t,n)},ao.prototype.c=function(t,e){return ro(pa(t,uo(this)),e)},ao.prototype.v=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},ho.prototype.Ia=function(t){return this.Fb=lt(t),this},_(lo,ho),_(fo,ho),fo.prototype.Aa=function(t){return z(this.a,t)||this.a.push(t),this},fo.prototype.Nb=function(){return K(this.a)},fo.prototype.credential=function(t,e){var n;if(!(n=p(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new E("argument-error","credential failed: must provide the ID token and/or the access token.");return new ao(this.providerId,n,this.providerId)},_(po,fo),qr(po,"PROVIDER_ID","facebook.com"),qr(po,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),_(yo,fo),qr(yo,"PROVIDER_ID","github.com"),qr(yo,"GITHUB_SIGN_IN_METHOD","github.com"),_(go,fo),qr(go,"PROVIDER_ID","google.com"),qr(go,"GOOGLE_SIGN_IN_METHOD","google.com"),_(wo,ho),qr(wo,"PROVIDER_ID","twitter.com"),qr(wo,"TWITTER_SIGN_IN_METHOD","twitter.com"),Eo.prototype.ia=function(t){return this.signInMethod==Io.EMAIL_LINK_SIGN_IN_METHOD?Ka(t,_a,{email:this.a,oobCode:this.f}):Ka(t,qa,{email:this.a,password:this.f})},Eo.prototype.b=function(t,e){return this.signInMethod==Io.EMAIL_LINK_SIGN_IN_METHOD?Ka(t,Ea,{idToken:e,email:this.a,oobCode:this.f}):Ka(t,Ra,{idToken:e,email:this.a,password:this.f})},Eo.prototype.c=function(t,e){return ro(this.ia(t),e)},Eo.prototype.v=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},zr(Io,{PROVIDER_ID:"password"}),zr(Io,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),zr(Io,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),No.prototype.ia=function(t){return t.cb(ko(this))},No.prototype.b=function(t,e){var n=ko(this);return n.idToken=e,Ka(t,Ga,n)},No.prototype.c=function(t,e){var n=ko(this);return n.operation="REAUTH",ro(t=Ka(t,Ha,n),e)},No.prototype.v=function(){var t={providerId:"phone"};return this.a.bb&&(t.verificationId=this.a.bb),this.a.ab&&(t.verificationCode=this.a.ab),this.a.Ja&&(t.temporaryProof=this.a.Ja),this.a.da&&(t.phoneNumber=this.a.da),t},Co.prototype.cb=function(t,e){var n=this.a.b;return Ie(e.verify()).then((function(r){if("string"!=typeof r)throw new E("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=p(t)?t.session:null,o=p(t)?t.phoneNumber:t;return(i&&i.type==to?i.Fa().then((function(t){return function(t,e){return Ka(t,ja,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==eo?i.Fa().then((function(e){return function(t,e){return Ka(t,Ua,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return Ka(t,Pa,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new E("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},zr(Co,{PROVIDER_ID:"phone"}),zr(Co,{PHONE_SIGN_IN_METHOD:"phone"}),Lo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Lo.prototype.S=function(){return this.h},Lo.prototype.v=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.v()}};var jo,Uo=null;function Vo(t){var e="unauthorized-domain",n=void 0,r=Ln(t);t=r.b,"chrome-extension"==(r=r.f)?n=Ut("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Ut("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",E.call(this,e,n)}function Fo(t,e,n){E.call(this,t,n),(t=e||{}).Gb&&qr(this,"email",t.Gb),t.da&&qr(this,"phoneNumber",t.da),t.credential&&qr(this,"credential",t.credential),t.Wb&&qr(this,"tenantId",t.Wb)}function $o(t){if(t.code){var e=t.code||"";0==e.indexOf(A)&&(e=e.substring(A.length));var n={credential:xo(t),Wb:t.tenantId};if(t.email)n.Gb=t.email;else if(t.phoneNumber)n.da=t.phoneNumber;else if(!n.credential)return new E(e,t.message||void 0);return new Fo(e,n,t.message)}return null}function Bo(){}function qo(t){return t.c||(t.c=t.b())}function zo(){}function Go(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Ho(){}function Wo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=g(this.oc,this),this.a.onerror=g(this.Pb,this),this.a.onprogress=g(this.pc,this),this.a.ontimeout=g(this.tc,this)}function Ko(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Yo(t,e,n){this.reset(t,e,n,void 0,void 0)}function Xo(t){this.f=t,this.b=this.c=this.a=null}function Jo(t,e){this.name=t,this.value=e}_(Vo,E),_(Fo,E),Fo.prototype.v=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.v();return e&&pt(t,e),t},Fo.prototype.toJSON=function(){return this.v()},Bo.prototype.c=null,_(zo,Bo),zo.prototype.a=function(){var t=Go(this);return t?new ActiveXObject(t):new XMLHttpRequest},zo.prototype.b=function(){var t={};return Go(this)&&(t[0]=!0,t[1]=!0),t},jo=new zo,_(Ho,Bo),Ho.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Wo;throw Error("Unsupported browser")},Ho.prototype.b=function(){return{}},(t=Wo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.oc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Ko(this,4)},t.Pb=function(){this.status=500,this.response=this.responseText="",Ko(this,4)},t.tc=function(){this.Pb()},t.pc=function(){this.status=200,Ko(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Yo.prototype.a=null,Yo.prototype.reset=function(t,e,n,r,i){delete this.a},Jo.prototype.toString=function(){return this.name};var Zo=new Jo("SEVERE",1e3),Qo=new Jo("WARNING",900),ts=new Jo("CONFIG",700),es=new Jo("FINE",500);Xo.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(x("Root logger has no level set."),null)}(this).value)for(f(e)&&(e=e()),t=new Yo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var ns={},rs=null;function is(t){var e;if(rs||(rs=new Xo(""),ns[""]=rs,rs.c=ts),!(e=ns[t])){e=new Xo(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=is(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,ns[t]=e}return e}function os(t,e){t&&t.log(es,e,void 0)}function ss(t){this.f=t}function as(t){yn.call(this),this.s=t,this.readyState=us,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=is("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}_(ss,Bo),ss.prototype.a=function(){return new as(this.f)},ss.prototype.b=function(t){return function(){return t}}({}),_(as,yn);var us=0;function cs(t){t.c.read().then(t.nc.bind(t)).catch(t.Sa.bind(t))}function hs(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,ls(t)}function ls(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function fs(t){yn.call(this),this.headers=new In,this.D=t||null,this.c=!1,this.B=this.a=null,this.h=this.P=this.l="",this.f=this.O=this.i=this.N=!1,this.g=0,this.s=null,this.m=ps,this.w=this.R=!1}(t=as.prototype).open=function(t,e){if(this.readyState!=us)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,ls(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.s.fetch(new Request(this.g,e)).then(this.sc.bind(this),this.Sa.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,hs(this,!1)),this.readyState=us},t.sc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,ls(this)),this.a&&(this.readyState=3,ls(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.qc.bind(this),this.Sa.bind(this)):void 0!==s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,cs(this)):t.text().then(this.rc.bind(this),this.Sa.bind(this)))))},t.nc=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?hs(this,!0):ls(this),3==this.readyState&&cs(this)}},t.rc=function(t){this.a&&(this.response=this.responseText=t,hs(this,!0))},t.qc=function(t){this.a&&(this.response=t,hs(this,!0))},t.Sa=function(t){var e=this.h;e&&e.log(Qo,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&hs(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(Qo,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(Qo,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},_(fs,yn);var ps="";fs.prototype.b=is("goog.net.XhrIo");var ds=/^https?$/i,vs=["POST","PUT"];function ys(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.N=!1,t.c=!0,t.a=t.D?t.D.a():jo.a(),t.B=t.D?qo(t.D):qo(jo),t.a.onreadystatechange=g(t.Sb,t);try{os(t.b,As(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(e){return os(t.b,As(t,"Error opening Xhr: "+e.message)),void gs(t,e)}e=r||"";var o=new In(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(l(t)||"string"==typeof t)F(t,e,void 0);else for(var n=Tn(t),r=En(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=ms,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.X()),r=s.FormData&&e instanceof s.FormData,!z(vs,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{Es(t),0<t.g&&(t.w=function(t){return zt&&ee(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),os(t.b,As(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.w)),t.w?(t.a.timeout=t.g,t.a.ontimeout=g(t.Ka,t)):t.s=wn(t.Ka,t.g,t)),os(t.b,As(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){os(t.b,As(t,"Send error: "+e.message)),gs(t,e)}}function ms(t){return"content-type"==t.toLowerCase()}function gs(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,bs(t),_s(t)}function bs(t){t.N||(t.N=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ws(t){if(t.c&&void 0!==o)if(t.B[1]&&4==Ts(t)&&2==Is(t))os(t.b,As(t,"Local request error detected and ignored"));else if(t.i&&4==Ts(t))wn(t.Sb,0,t);else if(t.dispatchEvent("readystatechange"),4==Ts(t)){os(t.b,As(t,"Request complete")),t.c=!1;try{var e,n=Is(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var a=String(t.l).match(Nn)[1]||null;if(!a&&s.self&&s.self.location){var u=s.self.location.protocol;a=u.substr(0,u.length-1)}i=!ds.test(a?a.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Ts(t)?t.a.statusText:""}catch(e){os(t.b,"Can not get status: "+e.message),c=""}t.h=c+" ["+Is(t)+"]",bs(t)}}finally{_s(t)}}}function _s(t,e){if(t.a){Es(t);var n=t.a,r=t.B[0]?c:null;t.a=null,t.B=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(Zo,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function Es(t){t.a&&t.w&&(t.a.ontimeout=null),t.s&&(s.clearTimeout(t.s),t.s=null)}function Ts(t){return t.a?t.a.readyState:0}function Is(t){try{return 2<Ts(t)?t.a.status:-1}catch(t){return-1}}function As(t,e){return e+" ["+t.P+" "+t.l+" "+Is(t)+"]"}function Ss(t){var e=js;this.g=[],this.w=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.B=this.i=!1,this.h=0,this.b=null,this.l=0}function Ns(t,e,n){t.a=!0,t.c=n,t.f=!e,Ds(t)}function Os(t){if(t.a){if(!t.u)throw new xs(t);t.u=!1}}function ks(t,e,n,r){t.g.push([e,n,r]),t.a&&Ds(t)}function Cs(t){return q(t.g,(function(t){return f(t[1])}))}function Ds(t){if(t.h&&t.a&&Cs(t)){var e=t.h,n=Rs[e];n&&(s.clearTimeout(n.a),delete Rs[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(k(e)||"function"==typeof s.Promise&&e instanceof s.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,Cs(t)||(n=!0)}}t.c=e,r&&(u=g(t.m,t,!0),r=g(t.m,t,!1),e instanceof Ss?(ks(e,u,r),e.B=!0):e.then(u,r)),n&&(e=new Ls(e),Rs[e.a]=e,t.h=e.a)}function xs(){C.call(this)}function Ps(){C.call(this)}function Ls(t){this.a=s.setTimeout(g(this.c,this),0),this.b=t}(t=fs.prototype).Ka=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",os(this.b,As(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(os(this.b,As(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),_s(this))},t.Ba=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),_s(this,!0)),fs.Za.Ba.call(this)},t.Sb=function(){this.wa||(this.O||this.i||this.f?ws(this):this.Hc())},t.Hc=function(){ws(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ps:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Zo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return os(this.b,"Can not get response: "+t.message),null}},Ss.prototype.cancel=function(t){if(this.a)this.c instanceof Ss&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.w?this.w.call(this.s,this):this.u=!0,this.a||(t=new Ps(this),Os(this),Ns(this,!1,t))}},Ss.prototype.m=function(t,e){this.i=!1,Ns(this,t,e)},Ss.prototype.then=function(t,e,n){var r,i,o=new me((function(t,e){r=t,i=e}));return ks(this,r,(function(t){t instanceof Ps?o.cancel():i(t)})),o.then(t,e,n)},Ss.prototype.$goog_Thenable=!0,_(xs,C),xs.prototype.message="Deferred has already fired",xs.prototype.name="AlreadyCalledError",_(Ps,C),Ps.prototype.message="Deferred was canceled",Ps.prototype.name="CanceledError",Ls.prototype.c=function(){throw delete Rs[this.a],this.b};var Rs={};function Ms(t){var e,n=document,r=_t(t).toString(),i=ce(document,"SCRIPT"),o={Tb:i,Ka:void 0},c=new Ss(o);return e=window.setTimeout((function(){Us(i,!0);var t=new $s(Fs,"Timeout reached for loading script "+r);Os(c),Ns(c,!1,t)}),5e3),o.Ka=e,i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Us(i,!1,e),Os(c),Ns(c,!0,null))},i.onerror=function(){Us(i,!0,e);var t=new $s(Vs,"Error while loading script "+r);Os(c),Ns(c,!1,t)},pt(o={},{type:"text/javascript",charset:"UTF-8"}),ie(i,o),function(t,e){dt(t,"HTMLScriptElement"),t.src=_t(e),null===u&&(u=(e=(e=s.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&a.test(e)?e:""),(e=u)&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),c}function js(){if(this&&this.Tb){var t=this.Tb;t&&"SCRIPT"==t.tagName&&Us(t,!0,this.Ka)}}function Us(t,e,n){null!=n&&s.clearTimeout(n),t.onload=c,t.onerror=c,t.onreadystatechange=c,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Vs=0,Fs=1;function $s(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),C.call(this,n),this.code=t}function Bs(t){this.f=t}function qs(t,e,n){if(this.c=t,t=e||{},this.u=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Hs,this.g=lt(t.secureTokenHeaders||Ws),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.l=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.i=t.firebaseTimeout||Ks,this.a=lt(t.firebaseHeaders||Ys),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==vr(),!(n=s.XMLHttpRequest||n&&Re.INTERNAL.node&&Re.INTERNAL.node.XMLHttpRequest)&&!dr())throw new E("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,dr()?this.f=new ss(self):yr()?this.f=new Bs(n):this.f=new Ho,this.b=null}_($s,C),_(Bs,Bo),Bs.prototype.a=function(){return new this.f},Bs.prototype.b=function(){return{}};var zs,Gs="idToken",Hs=new Rr(3e4,6e4),Ws={"Content-Type":"application/x-www-form-urlencoded"},Ks=new Rr(3e4,6e4),Ys={"Content-Type":"application/json"};function Xs(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Js(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function Zs(t,e,n,r,i,o,a){(function(){var t=Er();return!((t=br(t)!=gr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t)&&(!zt||!Qt||9<Qt)})()||dr()?t=g(t.w,t):(zs||(zs=new me((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{s[ta]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){ks(t,null,e,void 0)}(Ms(Et(Qs,{onload:ta})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=g(t.s,t)),t(e,n,r,i,o,a)}qs.prototype.S=function(){return this.b},qs.prototype.w=function(t,e,n,r,i,o){if(dr()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new E("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new fs(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}mn(a,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return os(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)})),gn(a,"ready",(function(){u&&clearTimeout(u),Fe(this)})),gn(a,"timeout",(function(){u&&clearTimeout(u),Fe(this),e&&e(null)})),ys(a,t,n,r,i)};var Qs=new vt(gt,"https://apis.google.com/js/client.js?onload=%{onload}"),ta="__fcb"+Math.floor(1e6*Math.random()).toString();function ea(t,e,n,r,i,o,s){var a=Ln(e+n);xn(a,"key",t.c),s&&xn(a,"cb",w().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&xn(a,c,i[c]);return new me((function(e,n){Zs(t,a.toString(),(function(t){t?t.error?n(Xa(t,o||{})):e(t):n(new E("network-request-failed"))}),r,u?void 0:Zn(Cr(i)),t.a,t.i.get())}))}function na(t){if("string"!=typeof(t=t.email)||!hr.test(t))throw new E("invalid-email")}function ra(t){"email"in t&&na(t)}function ia(t){if(!t[Gs]){if(t.mfaPendingCredential)throw new E("multi-factor-auth-required",null,lt(t));throw new E("internal-error")}}function oa(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new E("internal-error")}else{if(!t.sessionInfo)throw new E("missing-verification-id");if(!t.code)throw new E("missing-verification-code")}}qs.prototype.s=function(t,e,n,r,i){var o=this;zs.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},qs.prototype.vb=function(){return Ka(this,Ma,{})},qs.prototype.xb=function(t,e){return Ka(this,La,{idToken:t,email:e})},qs.prototype.yb=function(t,e){return Ka(this,Ra,{idToken:t,password:e})};var sa={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function aa(t){if(!t.phoneVerificationInfo)throw new E("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new E("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new E("missing-verification-code")}function ua(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new E("internal-error")}function ca(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(Kn(t=new zn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function ha(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=$o(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=$o(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=$o(t)):t.errorMessage&&(e=Ya(t.errorMessage)),e)throw e;ia(t)}function la(t,e){return e.returnIdpCredential=!0,Ka(t,Va,e)}function fa(t,e){return e.returnIdpCredential=!0,Ka(t,$a,e)}function pa(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Ka(t,Fa,e)}function da(t){if(!t.oobCode)throw new E("invalid-action-code")}(t=qs.prototype).zb=function(t,e){var n={idToken:t},r=[];return ct(sa,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Ka(this,La,n)},t.rb=function(t,e){return pt(t={requestType:"PASSWORD_RESET",email:t},e),Ka(this,ka,t)},t.sb=function(t,e){return pt(t={requestType:"EMAIL_SIGNIN",email:t},e),Ka(this,Sa,t)},t.qb=function(t,e){return pt(t={requestType:"VERIFY_EMAIL",idToken:t},e),Ka(this,Na,t)},t.Ab=function(t,e,n){return pt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Ka(this,Oa,t)},t.cb=function(t){return Ka(this,za,t)},t.jb=function(t,e){return Ka(this,xa,{oobCode:t,newPassword:e})},t.Pa=function(t){return Ka(this,ya,{oobCode:t})},t.fb=function(t){return Ka(this,va,{oobCode:t})};var va={endpoint:"setAccountInfo",A:da,Y:"email",C:!0},ya={endpoint:"resetPassword",A:da,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new E("internal-error")},C:!0},ma={endpoint:"signupNewUser",A:function(t){if(na(t),!t.password)throw new E("weak-password")},G:ia,U:!0,C:!0},ga={endpoint:"createAuthUri",C:!0},ba={endpoint:"deleteAccount",M:["idToken"]},wa={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],A:function(t){if("array"!=h(t.deleteProvider))throw new E("internal-error")}},_a={endpoint:"emailLinkSignin",M:["email","oobCode"],A:na,G:ia,U:!0,C:!0},Ea={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],A:na,G:ia,U:!0},Ta={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],A:aa,G:ia,C:!0,La:!0},Ia={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],A:aa,G:ia,C:!0,La:!0},Aa={endpoint:"getAccountInfo"},Sa={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new E("internal-error");na(t)},Y:"email",C:!0},Na={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new E("internal-error")},Y:"email",C:!0},Oa={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new E("internal-error")},Y:"email",C:!0},ka={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new E("internal-error");na(t)},Y:"email",C:!0},Ca={hb:!0,endpoint:"getProjectConfig",Rb:"GET"},Da={hb:!0,endpoint:"getRecaptchaParam",Rb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new E("internal-error")}},xa={endpoint:"resetPassword",A:da,Y:"email",C:!0},Pa={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Y:"sessionInfo",C:!0},La={endpoint:"setAccountInfo",M:["idToken"],A:ra,U:!0},Ra={endpoint:"setAccountInfo",M:["idToken"],A:function(t){if(ra(t),!t.password)throw new E("weak-password")},G:ia,U:!0},Ma={endpoint:"signupNewUser",G:ia,U:!0,C:!0},ja={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new E("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new E("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new E("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new E("internal-error")},C:!0,La:!0},Ua={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new E("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new E("internal-error")},C:!0,La:!0},Va={endpoint:"verifyAssertion",A:ua,Wa:ca,G:ha,U:!0,C:!0},Fa={endpoint:"verifyAssertion",A:ua,Wa:ca,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new E("user-not-found");if(t.errorMessage)throw Ya(t.errorMessage);ia(t)},U:!0,C:!0},$a={endpoint:"verifyAssertion",A:function(t){if(ua(t),!t.idToken)throw new E("internal-error")},Wa:ca,G:ha,U:!0},Ba={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new E("invalid-custom-token")},G:ia,U:!0,C:!0},qa={endpoint:"verifyPassword",A:function(t){if(na(t),!t.password)throw new E("wrong-password")},G:ia,U:!0,C:!0},za={endpoint:"verifyPhoneNumber",A:oa,G:ia,C:!0},Ga={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new E("internal-error");oa(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",$o(t);ia(t)}},Ha={Eb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:oa,G:ia,C:!0},Wa={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Gs]^!!t.refreshToken)throw new E("internal-error")},C:!0,La:!0};function Ka(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.M))return Ae(new E("internal-error"));var r,i=!!e.La,o=e.Rb||"POST";return Ie(n).then(e.A).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),ea(t,i?t.l:t.h,e.endpoint,o,n,e.Eb,e.hb||!1)})).then((function(t){return r=t,e.Wa?e.Wa(n,r):r})).then(e.G).then((function(){if(!e.Y)return r;if(!(e.Y in r))throw new E("internal-error");return r[e.Y]}))}function Ya(t){return Xa({error:{errors:[{message:t}],code:400,message:t}})}function Xa(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new E(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",pt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new E(r[i],e);return!e&&t&&(e=kr(t)),new E("internal-error",e)}function Ja(t){this.b=t,this.a=null,this.nb=function(t){return(eu||(eu=new me((function(t,e){function n(){Lr(),Tr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Lr(),e(Error("Network Error"))},timeout:Qa.get()})}if(Tr("gapi.iframes.Iframe"))t();else if(Tr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Tr("gapi.load")?n():e(Error("Network Error"))},Ie(Ms(r=Et(Za,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw eu=null,t})))).then((function(){return new me((function(e,n){Tr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Tr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),tu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var Za=new vt(gt,"https://apis.google.com/js/api.js?onload=%{onload}"),Qa=new Rr(3e4,6e4),tu=new Rr(5e3,15e3),eu=null;function nu(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=Rn(this.i,"/__/auth/iframe"),xn(this.a,"apiKey",this.g),xn(this.a,"appName",this.h),this.b=null,this.c=[]}function ru(t,e,n,r,i){this.s=t,this.m=e,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function iu(t){try{return Re.app(t).auth().Ea()}catch(t){return[]}}function ou(t,e,n,r,i){this.u=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.m=this.s=this.w=null,this.g=[],this.l=this.a=null}function su(t){var e=ir();return function(t){return Ka(t,Ca,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Ln(e),r=n.f;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Ln(o).b==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:cr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Vo(ir())}))}function au(t){return t.l||(t.l=lr().then((function(){if(!t.s){var e=t.c,n=t.h,r=iu(t.b),i=new nu(t.u,t.f,t.b);i.f=e,i.b=n,i.c=K(r||[]),t.s=i.toString()}t.i=new Ja(t.s),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.nb.then((function(){t.a.register("authEvent",e,Tr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.i,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Ro(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Ie(n)}return n.status="ERROR",Ie(n)}))}(t)}))),t.l}function uu(t){return t.m||(t.w=t.c?_r(t.c,iu(t.b)):null,t.m=new qs(t.f,O(t.h),t.w)),t.m}function cu(t,e,n,r,i,o,s,a,u,c,h){return(t=new ru(t,e,n,r,i)).l=o,t.g=s,t.i=a,t.b=lt(u||null),t.f=c,t.ub(h).toString()}function hu(t){if(this.a=t||Re.INTERNAL.reactNative&&Re.INTERNAL.reactNative.AsyncStorage,!this.a)throw new E("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function lu(t){this.b=t,this.a={},this.f=g(this.c,this)}nu.prototype.toString=function(){return this.f?xn(this.a,"v",this.f):Wn(this.a.a,"v"),this.b?xn(this.a,"eid",this.b):Wn(this.a.a,"eid"),this.c.length?xn(this.a,"fw",this.c.join(",")):Wn(this.a.a,"fw"),this.a.toString()},ru.prototype.ub=function(t){return this.h=t,this},ru.prototype.toString=function(){var t=Rn(this.s,"/__/auth/handler");if(xn(t,"apiKey",this.m),xn(t,"appName",this.c),xn(t,"authType",this.u),this.a.isOAuthProvider){var e=this.a;try{var n=Re.app(this.c).auth().ja()}catch(t){n=null}for(var r in e.kb=n,xn(t,"providerId",this.a.providerId),n=Cr((e=this.a).Fb))n[r]=n[r].toString();r=e.Oc,n=lt(n);for(var i=0;i<r.length;i++){var o=r[i];o in n&&delete n[o]}e.lb&&e.kb&&!n[e.lb]&&(n[e.lb]=e.kb),ht(n)||xn(t,"customParameters",kr(n))}if("function"==typeof this.a.Nb&&((e=this.a.Nb()).length&&xn(t,"scopes",e.join(","))),this.l?xn(t,"redirectUrl",this.l):Wn(t.a,"redirectUrl"),this.g?xn(t,"eventId",this.g):Wn(t.a,"eventId"),this.i?xn(t,"v",this.i):Wn(t.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Pn(t,s)&&xn(t,s,this.b[s]);return this.h?xn(t,"tid",this.h):Wn(t.a,"tid"),this.f?xn(t,"eid",this.f):Wn(t.a,"eid"),(s=iu(this.c)).length&&xn(t,"fw",s.join(",")),t.toString()},(t=ou.prototype).Lb=function(t,e,n){var r=new E("popup-closed-by-user"),i=new E("web-storage-unsupported"),o=this,s=!1;return this.ka().then((function(){(function(t){var e={type:"webStorageSupport"};return au(t).then((function(){return function(t,e){return t.nb.then((function(){return new me((function(n){t.a.send(e.type,e,n,Tr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.i,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&ar(t),e(i),s=!0)}))})).o((function(){})).then((function(){if(!s)return function(t){return new me((function(e){return function n(){_n(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return _n(n).then((function(){e(r)}))}))},t.Ub=function(){var t=Er();return!Or(t)&&!Pr(t)},t.Qb=function(){return!1},t.Jb=function(t,e,n,r,i,o,s,a){if(!t)return Ae(new E("popup-blocked"));if(s&&!Or())return this.ka().o((function(e){ar(t),i(e)})),r(),Ie();this.a||(this.a=su(uu(this)));var u=this;return this.a.then((function(){var e=u.ka().o((function(e){throw ar(t),i(e),e}));return r(),e})).then((function(){(Po(n),s)||or(cu(u.u,u.f,u.b,e,n,null,o,u.c,void 0,u.h,a),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Kb=function(t,e,n,r){this.a||(this.a=su(uu(this)));var i=this;return this.a.then((function(){Po(e),or(cu(i.u,i.f,i.b,t,e,ir(),n,i.c,void 0,i.h,r))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ka=function(){var t=this;return au(this).then((function(){return t.i.nb})).o((function(){throw t.a=null,new E("network-request-failed")}))},t.Xb=function(){return!0},t.Ca=function(t){this.g.push(t)},t.Qa=function(t){H(this.g,(function(e){return e==t}))},(t=hu.prototype).get=function(t){return Ie(this.a.getItem(t)).then((function(t){return t&&Dr(t)}))},t.set=function(t,e){return Ie(this.a.setItem(t,kr(e)))},t.T=function(t){return Ie(this.a.removeItem(t))},t.ba=function(){},t.ha=function(){};var fu,pu=[];function du(t,e,n){ht(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function vu(t){this.a=t}function yu(t){this.c=t,this.b=!1,this.a=[]}function mu(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return Ae(Error("connection_unavailable"));var h=r?800:50,l="undefined"!=typeof MessageChannel?new MessageChannel:null;return new me((function(n,r){l?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),l.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),h),c={messageChannel:l,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}},t.a.push(c),l.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[l.port2])):r(Error("connection_unavailable"))})).then((function(e){return gu(t,c),e})).o((function(e){throw gu(t,c),e}))}function gu(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),H(t.a,(function(t){return t==e}))}}function bu(){if(!Eu())throw new E("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=s.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.s=!1,this.h=null;var t=this;dr()&&self?(this.l=function(){var t=dr()?self:null;if(F(pu,(function(n){n.b==t&&(e=n)})),!e){var e=new lu(t);pu.push(e)}return e}(),du(this.l,"keyChanged",(function(e,n){return Nu(t).then((function(e){return 0<e.length&&F(t.a,(function(t){t(e)})),{keyProcessed:z(e,n.key)}}))})),du(this.l,"ping",(function(){return Ie(["keyChanged"])}))):function(){var t=s.navigator;return t&&t.serviceWorker?Ie().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Ie(null)}().then((function(e){(t.h=e)&&(t.g=new yu(new vu(e)),mu(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&z(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function wu(t){return new me((function(e,n){var r=t.u.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new me((function(e,n){var r=t.u.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return wu(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function _u(t){return t.m||(t.m=wu(t)),t.m}function Eu(){try{return!!s.indexedDB}catch(t){return!1}}function Tu(t){return t.objectStore("firebaseLocalStorage")}function Iu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Au(t){return new me((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Su(t,e){return t.g&&t.h&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?mu(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Ie()}function Nu(t){return _u(t).then((function(t){var e=Tu(Iu(t,!1));return e.getAll?Au(e.getAll()):new me((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r}))}function Ou(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function ku(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ie().then((function(){if(Eu()){var t=xr(),r="__sak"+t;return fu||(fu=new bu),(n=fu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ba((function(t){F(e.a,(function(e){e(t)}))})),t}))}function Cu(){this.a={},this.type="inMemory"}function Du(){if(!function(){var t="Node"==vr();if(!(t=xu()||t&&Re.INTERNAL.node&&Re.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==vr())throw new E("internal-error","The LocalStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=xu()||Re.INTERNAL.node.localStorage,this.type="localStorage"}function xu(){try{var t=s.localStorage,e=xr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Pu(){this.type="nullStorage"}function Lu(){if(!function(){var t="Node"==vr();if(!(t=Ru()||t&&Re.INTERNAL.node&&Re.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==vr())throw new E("internal-error","The SessionStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=Ru()||Re.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Ru(){try{var t=s.sessionStorage,e=xr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Mu(){var t={};t.Browser=Vu,t.Node=Fu,t.ReactNative=$u,t.Worker=Bu,this.a=t[vr()]}lu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];F(r,(function(e){i.push(Ie().then((function(){return e(t.origin,t.data.data)})))})),Ne(i).then((function(r){var i=[];F(r,(function(t){i.push({fulfilled:t.Mb,value:t.value,reason:t.reason?t.reason.message:void 0})})),F(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},vu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},yu.prototype.close=function(){for(;0<this.a.length;)gu(this,this.a[0]);this.b=!0},(t=bu.prototype).set=function(t,e){var n,r=!1,i=this;return _u(this).then((function(e){return Au((e=Tu(Iu(n=e,!0))).get(t))})).then((function(o){var s=Tu(Iu(n,!0));return o?(o.value=e,Au(s.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,Au(s.add(o)))})).then((function(){return i.c[t]=e,Su(i,t)})).ma((function(){r&&i.b--}))},t.get=function(t){return _u(this).then((function(e){return Au(Tu(Iu(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.T=function(t){var e=!1,n=this;return _u(this).then((function(r){return e=!0,n.b++,Au(Tu(Iu(r,!0)).delete(t))})).then((function(){return delete n.c[t],Su(n,t)})).ma((function(){e&&n.b--}))},t.ba=function(t){0==this.a.length&&function(t){Ou(t),function e(){t.f=setTimeout((function(){t.i=Nu(t).then((function(e){0<e.length&&F(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ha=function(t){H(this.a,(function(e){return e==t})),0==this.a.length&&Ou(this)},(t=ku.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.T=function(t){return this.b.then((function(e){return e.T(t)}))},t.ba=function(t){this.a.push(t)},t.ha=function(t){H(this.a,(function(e){return e==t}))},(t=Cu.prototype).get=function(t){return Ie(this.a[t])},t.set=function(t,e){return this.a[t]=e,Ie()},t.T=function(t){return delete this.a[t],Ie()},t.ba=function(){},t.ha=function(){},(t=Du.prototype).get=function(t){var e=this;return Ie().then((function(){return Dr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ie().then((function(){var r=kr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Ie().then((function(){e.a.removeItem(t)}))},t.ba=function(t){s.window&&rn(s.window,"storage",t)},t.ha=function(t){s.window&&an(s.window,"storage",t)},(t=Pu.prototype).get=function(){return Ie(null)},t.set=function(){return Ie()},t.T=function(){return Ie()},t.ba=function(){},t.ha=function(){},(t=Lu.prototype).get=function(t){var e=this;return Ie().then((function(){return Dr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ie().then((function(){var r=kr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Ie().then((function(){e.a.removeItem(t)}))},t.ba=function(){},t.ha=function(){};var ju,Uu,Vu={F:Du,$a:Lu},Fu={F:Du,$a:Lu},$u={F:hu,$a:Pu},Bu={F:Du,$a:Pu},qu={od:"local",NONE:"none",qd:"session"};function zu(){var t=!(Pr(Er())||!pr()),e=Or(),n=Ir();this.m=t,this.h=e,this.l=n,this.a={},ju||(ju=new Mu),t=ju;try{this.g=!rr()&&Ur()||!s.indexedDB?new t.a.F:new ku(dr()?new Cu:new t.a.F)}catch(t){this.g=new Cu,this.h=!0}try{this.i=new t.a.$a}catch(t){this.i=new Cu}this.u=new Cu,this.f=g(this.Vb,this),this.b={}}function Gu(){return Uu||(Uu=new zu),Uu}function Hu(t,e){switch(e){case"session":return t.i;case"none":return t.u;default:return t.g}}function Wu(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Ku(t,e,n){return n=Wu(e,n),"local"==e.F&&(t.b[n]=null),Hu(t,e.F).T(n)}function Yu(t){t.c&&(clearInterval(t.c),t.c=null)}function Xu(t){this.a=t,this.b=Gu()}(t=zu.prototype).get=function(t,e){return Hu(this,t.F).get(Wu(t,e))},t.set=function(t,e,n){var r=Wu(t,n),i=this,o=Hu(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=Wu(t,e),this.l&&(this.b[t]=s.localStorage.getItem(t)),ht(this.a)&&(Hu(this,"local").ba(this.f),this.h||(rr()||!Ur())&&s.indexedDB||!this.l||function(t){Yu(t),t.c=setInterval((function(){for(var e in t.a){var n=s.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new He({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Vb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Wu(t,e),this.a[t]&&(H(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),ht(this.a)&&(Hu(this,"local").ha(this.f),Yu(this))},t.Vb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.ib(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Hu(this,"local").ha(this.f):Yu(this),this.m)if(n=s.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?s.localStorage.setItem(e,r):s.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===s.localStorage.getItem(e)||(o.b[e]=s.localStorage.getItem(e),o.ib(e))},zt&&Qt&&10==Qt&&s.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else F(t,g(this.ib,this))},t.ib=function(t){this.a[t]&&F(this.a[t],(function(t){t()}))};var Ju,Zu={name:"authEvent",F:"local"};function Qu(){this.a=Gu()}function tc(t,e){this.b=ec,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===Ju&&(Ju=s.Int32Array?new Int32Array(uc):uc),this.reset()}_(tc,(function(){this.b=-1}));for(var ec=64,nc=ec-1,rc=[],ic=0;ic<nc;ic++)rc[ic]=0;var oc=W(128,rc);function sc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],h=0|t.a[5],l=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&h^~c&l)+(0|Ju[e])|0)+(0|n[e])|0)|0,o=l,l=h,h=c,c=u+s|0,u=a,a=i,i=r,r=s+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+h|0,t.a[6]=t.a[6]+l|0,t.a[7]=t.a[7]+o|0}function ac(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(sc(t),i=0);else{if(!l(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(sc(t),i=0)}}t.c=i,t.g+=n}tc.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):K(this.h)};var uc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function cc(){tc.call(this,8,hc)}_(cc,tc);var hc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function lc(t,e,n,r,i){this.u=t,this.i=e,this.l=n,this.m=r||null,this.s=i||null,this.h=e+":"+n,this.w=new Qu,this.g=new Xu(this.h),this.f=null,this.b=[],this.a=this.c=null}function fc(t){return new E("invalid-cordova-configuration",t)}function pc(t){var e=new cc;ac(e,t),t=[];var n=8*e.g;56>e.c?ac(e,oc,56-e.c):ac(e,oc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(sc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return B(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function dc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function vc(t){return t.f||(t.f=t.ka().then((function(){return new me((function(e){t.Ca((function n(r){return e(r),t.Qa(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),yc(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=Zi(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Dr(Pn(o=Ln(i),"firebaseError")||null))?T(o):null)?new Lo(r.c,r.b,null,null,o,null,r.S()):new Lo(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}dc(t,i)}))}var n=new Lo("unknown",null,null,null,new E("no-auth-event")),r=!1,i=_n(500).then((function(){return yc(t).then((function(){r||dc(t,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Tr("BuildInfo.packageName",s).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(t){console.error(t)}},Uo||(Uo=new Mo),function(t){var e=Uo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Tr("universalLinks.subscribe",s))&&t(null,e.b))}(e)}(t)}))}))),t.f}function yc(t){var e=null;return function(t){return t.b.get(Zu,t.a).then((function(t){return Ro(t)}))}(t.g).then((function(n){return e=n,Ku((n=t.g).b,Zu,n.a)})).then((function(){return e}))}function mc(t){this.a=t,this.b=Gu()}(t=lc.prototype).ka=function(){return this.Ga?this.Ga:this.Ga=(fr(void 0)?lr().then((function(){return new me((function(t,e){var n=s.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Ae(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Tr("universalLinks.subscribe",s))throw fc("cordova-universal-links-plugin-fix is not installed");if(void 0===Tr("BuildInfo.packageName",s))throw fc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Tr("cordova.plugins.browsertab.openUrl",s))throw fc("cordova-plugin-browsertab is not installed");if("function"!=typeof Tr("cordova.InAppBrowser.open",s))throw fc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new E("cordova-not-ready")}))},t.Lb=function(t,e){return e(new E("operation-not-supported-in-this-environment")),Ie()},t.Jb=function(){return Ae(new E("operation-not-supported-in-this-environment"))},t.Xb=function(){return!1},t.Ub=function(){return!0},t.Qb=function(){return!0},t.Kb=function(t,e,n,r){if(this.c)return Ae(new E("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,h=null;return this.c=Ie().then((function(){return Po(e),vc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Lo(e,r,null,o,new E("no-auth-event"),null,i),u=Tr("BuildInfo.packageName",s);if("string"!=typeof u)throw new E("invalid-cordova-configuration");var c=Tr("BuildInfo.displayName",s),h={};if(Er().toLowerCase().match(/iphone|ipad|ipod/))h.ibi=u;else{if(!Er().toLowerCase().match(/android/))return Ae(new E("operation-not-supported-in-this-environment"));h.apn=u}c&&(h.appDisplayName=c),o=pc(o),h.sessionId=o;var l=cu(t.u,t.i,t.l,e,n,null,r,t.m,h,t.s,i);return t.ka().then((function(){var e=t.h;return t.w.a.set(Zu,a.v(),e)})).then((function(){var e=Tr("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof e)throw new E("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Tr("cordova.plugins.browsertab.openUrl",s)))throw new E("invalid-cordova-configuration");n(l)}else{if("function"!=typeof(n=Tr("cordova.InAppBrowser.open",s)))throw new E("invalid-cordova-configuration");e=Er(),t.a=n(l,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new me((function(t,e){u=function(){var e=Tr("cordova.plugins.browsertab.close",s);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ca(u),c=function(){a||(a=_n(2e3).then((function(){e(new E("redirect-cancelled-by-user"))})))},h=function(){Mr()&&c()},o.addEventListener("resume",c,!1),Er().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",h,!1)})).o((function(t){return yc(i).then((function(){throw t}))}))})).ma((function(){c&&o.removeEventListener("resume",c,!1),h&&o.removeEventListener("visibilitychange",h,!1),a&&a.cancel(),u&&i.Qa(u),i.c=null}))},t.Ca=function(t){this.b.push(t),vc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Lo("unknown",null,null,null,new E("no-auth-event")),t(e))}))},t.Qa=function(t){H(this.b,(function(e){return e==t}))};var gc={name:"pendingRedirect",F:"session"};function bc(t){return Ku(t.b,gc,t.a)}function wc(t,e,n){this.i={},this.w=0,this.D=t,this.u=e,this.m=n,this.h=[],this.f=!1,this.l=g(this.s,this),this.b=new Lc,this.B=new Vc,this.g=new mc(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.B,this.c.linkViaPopup=this.B,this.c.reauthViaPopup=this.B,this.a=_c(this.D,this.u,this.m,I)}function _c(t,e,n,r){var i=Re.SDK_VERSION||null;return fr()?new lc(t,e,n,i,r):new ou(t,e,n,i,r)}function Ec(t){t.f||(t.f=!0,t.a.Ca(t.l));var e=t.a;return t.a.ka().o((function(n){throw t.a==e&&t.reset(),n}))}function Tc(t){t.a.Ub()&&Ec(t).o((function(e){var n=new Lo("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));kc(e)&&t.s(n)})),t.a.Qb()||Rc(t.b)}function Ic(t,e){z(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(gc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?bc(t.g).then((function(){Ec(t).o((function(e){var n=new Lo("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));kc(e)&&t.s(n)}))})):Tc(t)})).o((function(){Tc(t)}))}function Ac(t,e){H(t.h,(function(t){return t==e}))}wc.prototype.reset=function(){this.f=!1,this.a.Qa(this.l),this.a=_c(this.D,this.u,this.m),this.i={}},wc.prototype.s=function(t){if(!t)throw new E("invalid-auth-event");if(6e5<=w()-this.w&&(this.i={},this.w=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Cb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.w=w())),e=!0;break}}return Rc(this.b),e};var Sc=new Rr(2e3,1e4),Nc=new Rr(3e4,6e4);function Oc(t,e,n,r,i,o,s){return t.a.Jb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ca(t.l))}),(function(){t.reset()}),i,o,s)}function kc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Cc(t,e,n,r,i){var o;return function(t){return t.b.set(gc,"pending",t.a)}(t.g).then((function(){return t.a.Kb(e,n,r,i).o((function(e){if(kc(e))throw new E("operation-not-supported-in-this-environment");return o=e,bc(t.g).then((function(){throw o}))})).then((function(){return t.a.Xb()?new me((function(){})):bc(t.g).then((function(){return t.pa()})).then((function(){})).o((function(){}))}))}))}function Dc(t,e,n,r,i){return t.a.Lb(r,(function(t){e.la(n,null,t,i)}),Sc.get())}wc.prototype.pa=function(){return this.b.pa()};var xc={};function Pc(t,e,n){var r=e+":"+n;return xc[r]||(xc[r]=new wc(t,e,n)),xc[r]}function Lc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Rc(t){t.g||(t.g=!0,Uc(t,!1,null,null))}function Mc(t){t.g&&!t.i&&Uc(t,!1,null,null)}function jc(t,e){if(t.b=function(){return Ie(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Uc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ae(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):jc(t,n):jc(t,{user:null}),t.f=[],t.c=[]}function Vc(){}function Fc(){this.Bb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.Bb},set:function(t){this.Bb=t},enumerable:!1})}function $c(t,e){this.a=e,qr(this,"verificationId",t)}function Bc(t,e,n,r){return new Co(t).cb(e,n).then((function(t){return new $c(t,r)}))}function qc(t){var e=Ui(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new E("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");zr(this,{token:t,expirationTime:jr(1e3*e.exp),authTime:jr(1e3*e.auth_time),issuedAtTime:jr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function zc(t,e,n){var r=e&&e[Hc];if(!r)throw new E("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=lt(e),this.g=n,this.c=new Qi(null,r),this.b=[];var i=this;F(e[Gc]||[],(function(t){(t=Kr(t))&&i.b.push(t)})),qr(this,"auth",this.a),qr(this,"session",this.c),qr(this,"hints",this.b)}Lc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Lc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Uc(this,!0,null,t.a),Ie()):e.Da(n,r)?function(t,e,n){n=n.Da(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.S(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){Uc(t,a,e,null)})).o((function(e){Uc(t,a,null,e)}))}(this,t,e):Ae(new E("invalid-auth-event")):(Uc(this,!1,null,null),Ie())}else Ae(new E("invalid-auth-event"))},Lc.prototype.pa=function(){var t=this;return new me((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new E("timeout");t.a&&t.a.cancel(),t.a=_n(Nc.get()).then((function(){t.b||(t.g=!0,Uc(t,!0,null,e))}))}(t))}))},Vc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.la(t.c,null,t.a,t.b),Ie()):e.Da(n,r)?function(t,e){var n=t.b,r=t.c;e.Da(r,n)(t.g,t.f,t.S(),t.i).then((function(t){e.la(r,t,null,n)})).o((function(t){e.la(r,null,t,n)}))}(t,e):Ae(new E("invalid-auth-event"))}else Ae(new E("invalid-auth-event"))},$c.prototype.confirm=function(t){return t=Do(this.verificationId,t),this.a(t)};var Gc="mfaInfo",Hc="mfaPendingCredential";function Wc(t,e,n,r){E.call(this,"multi-factor-auth-required",r,e),this.b=new zc(t,e,n),qr(this,"resolver",this.b)}function Kc(t,e,n){if(t&&p(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Wc(e,t.serverResponse,n,t.message)}catch(t){}return null}function Yc(){}function Xc(t){qr(this,"factorId",t.ea),this.a=t}function Jc(t){if(Xc.call(this,t),this.a.ea!=Co.PROVIDER_ID)throw new E("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Zc(t,e){for(var n in Ge.call(this,t),e)this[n]=e[n]}function Qc(t,e){this.a=t,this.b=[],this.c=g(this.wc,this),rn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&F(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[Jr]=t.uid),t.displayName&&(r[Yr]=t.displayName),t.enrollmentTime&&(r[Xr]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[Zr]=t.phoneNumber);try{e=new Qr(r)}catch(t){}t=e}else t=null;t&&n.push(t)})),th(this,n)}function th(t,e){t.b=e,qr(t,"enrolledFactors",e)}function eh(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function nh(t){this.c=t,this.b=this.a=null}function rh(t){return t.b&&1e3*t.b.c||0}function ih(t,e){var n=e.refreshToken;t.b=ji(e[Gs]||""),t.a=n}function oh(t,e){return function(t,e){return new me((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?Zs(t,t.u+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(Xa(t)):t.access_token&&t.refresh_token?n(t):r(new E("internal-error")):r(new E("network-request-failed"))}),"POST",Hn(e).toString(),t.g,t.m.get()):r(new E("internal-error"))}))}(t.c,e).then((function(e){return t.b=ji(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function sh(t,e){this.a=t||null,this.b=e||null,zr(this,{lastSignInTime:jr(e||null),creationTime:jr(t||null)})}function ah(t,e,n,r,i,o){zr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function uh(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null,t=Re.SDK_VERSION?_r(Re.SDK_VERSION):null,this.a=new qs(this.l,O(I),t),this.b=new nh(this.a),vh(this,e[Gs]),ih(this.b,e),qr(this,"refreshToken",this.b.a),gh(this,n||{}),yn.call(this),this.P=!1,this.s&&Ar()&&(this.i=Pc(this.s,this.l,this.m)),this.R=[],this.h=null,this.B=function(t){return new eh((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=rh(t.b)-w()-3e5;return 0<e?e:0}))}(this),this.Z=g(this.Ma,this);var r=this;this.oa=null,this.za=function(t){r.va(t.g)},this.aa=null,this.W=[],this.ya=function(t){hh(r,t.c)},this.$=null,this.O=new Qc(this,n),qr(this,"multiFactor",this.O)}function ch(t,e){t.aa&&an(t.aa,"languageCodeChanged",t.za),(t.aa=e)&&rn(e,"languageCodeChanged",t.za)}function hh(t,e){t.W=e,Js(t.a,Re.SDK_VERSION?_r(Re.SDK_VERSION,t.W):null)}function lh(t,e){t.$&&an(t.$,"frameworkChanged",t.ya),(t.$=e)&&rn(e,"frameworkChanged",t.ya)}function fh(t){try{return Re.app(t.m).auth()}catch(e){throw new E("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function ph(t){t.D||t.B.b||(t.B.start(),an(t,"tokenChanged",t.Z),rn(t,"tokenChanged",t.Z))}function dh(t){an(t,"tokenChanged",t.Z),t.B.stop()}function vh(t,e){t.xa=e,qr(t,"_lat",e)}function yh(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return Ne(e).then((function(){return t}))}function mh(t){t.i&&!t.P&&(t.P=!0,Ic(t.i,t))}function gh(t,e){zr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new sh(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function bh(){}function wh(t){return Ie().then((function(){if(t.D)throw new E("app-deleted")}))}function _h(t){return B(t.providerData,(function(t){return t.providerId}))}function Eh(t,e){e&&(Th(t,e.providerId),t.providerData.push(e))}function Th(t,e){H(t.providerData,(function(t){return t.providerId==e}))}function Ih(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&qr(t,e,n)}function Ah(t,e){t!=e&&(zr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?qr(t,"metadata",function(t){return new sh(t.a,t.b)}(e.metadata)):qr(t,"metadata",new sh),F(e.providerData,(function(e){Eh(t,e)})),function(t,e){t.b=e.b,t.a=e.a}(t.b,e.b),qr(t,"refreshToken",t.b.a),th(t.O,e.O.b))}function Sh(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return Ka(t.a,Aa,{idToken:e}).then(g(t.Ic,t))}(t,e).then((function(){return n||Ih(t,"isAnonymous",!1),e}))}))}function Nh(t,e){e[Gs]&&t.xa!=e[Gs]&&(ih(t.b,e),t.dispatchEvent(new Zc("tokenChanged")),vh(t,e[Gs]),Ih(t,"refreshToken",t.b.a))}function Oh(t,e){return Sh(t).then((function(){if(z(_h(t),e))return yh(t).then((function(){throw new E("provider-already-linked")}))}))}function kh(t,e,n){return Gr({user:t,credential:xo(e),additionalUserInfo:e=qi(e),operationType:n})}function Ch(t,e){return Nh(t,e),t.reload().then((function(){return t}))}function Dh(t,e,n,r,i){if(!Ar())return Ae(new E("operation-not-supported-in-this-environment"));if(t.h&&!i)return Ae(t.h);var o=Bi(n.providerId),s=xr(t.uid+":::"),a=null;(!Or()||pr())&&t.s&&n.isOAuthProvider&&(a=cu(t.s,t.l,t.m,e,n,null,s,Re.SDK_VERSION||null,null,null,t.tenantId));var u=ur(a,o&&o.ta,o&&o.sa);return r=r().then((function(){if(Ph(t),!i)return t.I().then((function(){}))})).then((function(){return Oc(t.i,u,e,n,s,!!a,t.tenantId)})).then((function(){return new me((function(n,r){t.la(e,null,new E("cancelled-popup-request"),t.g||null),t.f=n,t.w=r,t.g=s,t.c=Dc(t.i,t,e,u,s)}))})).then((function(t){return u&&ar(u),t?Gr(t):null})).o((function(t){throw u&&ar(u),t})),Lh(t,r,i)}function xh(t,e,n,r,i){if(!Ar())return Ae(new E("operation-not-supported-in-this-environment"));if(t.h&&!i)return Ae(t.h);var o=null,s=xr(t.uid+":::");return r=r().then((function(){if(Ph(t),!i)return t.I().then((function(){}))})).then((function(){return t.fa=s,yh(t)})).then((function(e){return t.ga&&(e=(e=t.ga).b.set(jh,t.v(),e.a)),e})).then((function(){return Cc(t.i,e,n,s,t.tenantId)})).o((function(e){if(o=e,t.ga)return Uh(t.ga);throw o})).then((function(){if(o)throw o})),Lh(t,r,i)}function Ph(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new E("internal-error");throw new E("auth-domain-config-required")}}function Lh(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),Ae(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new Zc("userInvalidated")),t.h=e),e}))}(t,e,n);return t.N.push(r),r.ma((function(){G(t.N,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Kc(e.v(),fh(t),g(t.hc,t))),n||e}))}function Rh(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Gs]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=new uh(e,n,t);return t.providerData&&F(t.providerData,(function(t){t&&Eh(r,Gr(t))})),t.redirectEventId&&(r.fa=t.redirectEventId),r}function Mh(t){this.a=t,this.b=Gu()}zc.prototype.Pc=function(t){var e=this;return t.ob(this.a.b,this.c).then((function(t){var n=lt(e.f);return delete n[Gc],delete n[Hc],pt(n,t),e.g(n)}))},_(Wc,E),Yc.prototype.ob=function(t,e,n){return e.type==to?function(t,e,n,r){return n.Fa().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),pt(n,{phoneVerificationInfo:ko(t.a)}),Ka(e,Ta,n)}))}(this,t,e,n):function(t,e,n){return n.Fa().then((function(n){return pt(n={mfaPendingCredential:n},{phoneVerificationInfo:ko(t.a)}),Ka(e,Ia,n)}))}(this,t,e)},_(Xc,Yc),_(Jc,Xc),_(Zc,Ge),(t=Qc.prototype).wc=function(t){th(this,function(t){var e=[];return F(t.mfaInfo||[],(function(t){(t=Kr(t))&&e.push(t)})),e}(t.ed))},t.Ob=function(){return this.a.I().then((function(t){return new Qi(t,null)}))},t.dc=function(t,e){var n=this,r=this.a.a;return this.Ob().then((function(n){return t.ob(r,n,e)})).then((function(t){return Nh(n.a,t),n.a.reload()}))},t.$c=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return Ka(r,Wa,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=$(e.b,(function(t){return t.uid!=n}));return th(e,r),Nh(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.v=function(){return{multiFactor:{enrolledFactors:B(this.b,(function(t){return t.v()}))}}},eh.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=_n(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=s.document,e=null;return Mr()||!t?Ie():new me((function(n){e=function(){Mr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).o((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},eh.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},nh.prototype.v=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:rh(this)}},nh.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ae(new E("user-token-expired")):t||!this.b||w()>rh(this)-3e4?this.a?oh(this,{grant_type:"refresh_token",refresh_token:this.a}):Ie(null):Ie({accessToken:this.b.toString(),refreshToken:this.a})},sh.prototype.v=function(){return{lastLoginAt:this.b,createdAt:this.a}},_(uh,yn),uh.prototype.va=function(t){this.oa=t,Xs(this.a,t)},uh.prototype.ja=function(){return this.oa},uh.prototype.Ea=function(){return K(this.W)},uh.prototype.Ma=function(){this.B.b&&(this.B.stop(),this.B.start())},qr(uh.prototype,"providerId","firebase"),(t=uh.prototype).reload=function(){var t=this;return Lh(this,wh(this).then((function(){return Sh(t).then((function(){return yh(t)})).then(bh)})))},t.mc=function(t){return this.I(t).then((function(t){return new qc(t)}))},t.I=function(t){var e=this;return Lh(this,wh(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new E("internal-error");return t.accessToken!=e.xa&&(vh(e,t.accessToken),e.dispatchEvent(new Zc("tokenChanged"))),Ih(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Ic=function(t){if(!(t=t.users)||!t.length)throw new E("internal-error");gh(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?B(t,(function(t){return new ah(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Eh(this,e[n]);Ih(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Zc("userReloaded",{ed:t}))},t.Jc=function(t){return $r("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.pb(t)},t.pb=function(t){var e=this,n=null;return Lh(this,t.c(this.a,this.uid).then((function(t){return Nh(e,t),n=kh(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.Ac=function(t){return $r("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.mb(t)},t.mb=function(t){var e=this,n=null;return Lh(this,Oh(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=kh(e,t,"link"),Ch(e,t)})).then((function(){return n})))},t.Bc=function(t,e){var n=this;return Lh(this,Oh(this,"phone").then((function(){return Bc(fh(n),t,e,g(n.mb,n))})))},t.Kc=function(t,e){var n=this;return Lh(this,Ie().then((function(){return Bc(fh(n),t,e,g(n.pb,n))})),!0)},t.xb=function(t){var e=this;return Lh(this,this.I().then((function(n){return e.a.xb(n,t)})).then((function(t){return Nh(e,t),e.reload()})))},t.cd=function(t){var e=this;return Lh(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Nh(e,t),e.reload()})))},t.yb=function(t){var e=this;return Lh(this,this.I().then((function(n){return e.a.yb(n,t)})).then((function(t){return Nh(e,t),e.reload()})))},t.zb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return wh(this);var e=this;return Lh(this,this.I().then((function(n){return e.a.zb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Nh(e,t),Ih(e,"displayName",t.displayName||null),Ih(e,"photoURL",t.photoUrl||null),F(e.providerData,(function(t){"password"===t.providerId&&(qr(t,"displayName",e.displayName),qr(t,"photoURL",e.photoURL))})),yh(e)})).then(bh))},t.ad=function(t){var e=this;return Lh(this,Sh(this).then((function(n){return z(_h(e),t)?function(t,e,n){return Ka(t,wa,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return F(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),F(_h(e),(function(t){n[t]||Th(e,t)})),n[Co.PROVIDER_ID]||qr(e,"phoneNumber",null),yh(e)})):yh(e).then((function(){throw new E("no-such-provider")}))})))},t.delete=function(){var t=this;return Lh(this,this.I().then((function(e){return Ka(t.a,ba,{idToken:e})})).then((function(){t.dispatchEvent(new Zc("userDeleted"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");ch(t,null),lh(t,null),t.N=[],t.D=!0,dh(t),qr(t,"refreshToken",null),t.i&&Ac(t.i,t)}))},t.Cb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.fa||null)==e||"reauthViaRedirect"==t&&(this.fa||null)==e)},t.la=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},t.Da=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?g(this.Hb,this):"reauthViaPopup"==t&&e==(this.g||null)?g(this.Ib,this):"linkViaRedirect"==t&&(this.fa||null)==e?g(this.Hb,this):"reauthViaRedirect"==t&&(this.fa||null)==e?g(this.Ib,this):null},t.Cc=function(t){var e=this;return Dh(this,"linkViaPopup",t,(function(){return Oh(e,t.providerId).then((function(){return yh(e)}))}),!1)},t.Lc=function(t){return Dh(this,"reauthViaPopup",t,(function(){return Ie()}),!0)},t.Dc=function(t){var e=this;return xh(this,"linkViaRedirect",t,(function(){return Oh(e,t.providerId)}),!1)},t.Mc=function(t){return xh(this,"reauthViaRedirect",t,(function(){return Ie()}),!0)},t.Hb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Lh(this,this.I().then((function(n){return fa(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=kh(i,t,"link"),Ch(i,t)})).then((function(){return o})))},t.Ib=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Lh(this,Ie().then((function(){return ro(pa(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=kh(i,t,"reauthenticate"),Nh(i,t),i.h=null,i.reload()})).then((function(){return o})),!0)},t.qb=function(t){var e=this,n=null;return Lh(this,this.I().then((function(e){return n=e,void 0===t||ht(t)?{}:Pi(new Ti(t))})).then((function(t){return e.a.qb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Ab=function(t,e){var n=this,r=null;return Lh(this,this.I().then((function(t){return r=t,void 0===e||ht(e)?{}:Pi(new Ti(e))})).then((function(e){return n.a.Ab(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.hc=function(t){var e=null,n=this;return Lh(this,t=ro(Ie(t),n.uid).then((function(t){return e=kh(n,t,"reauthenticate"),Nh(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.v()},t.v=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.v(),redirectEventId:this.fa||null};return this.metadata&&pt(t,this.metadata.v()),F(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),pt(t,this.O.v()),t};var jh={name:"redirectUser",F:"session"};function Uh(t){return Ku(t.b,jh,t.a)}function Vh(t){this.a=t,this.b=Gu(),this.c=null,this.f=function(t){var e=Bh("local"),n=Bh("session"),r=Bh("none");return function(t,e,n){var r=Wu(e,n),i=Hu(t,e.F);return t.get(e,n).then((function(o){var a=null;try{a=Dr(s.localStorage.getItem(r))}catch(t){}if(a&&!o)return s.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get($h,t.a).then((function(t){return t?Bh(t):e}))}))}))})).then((function(e){return t.c=e,Fh(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(Bh("local"),this.a,g(this.g,this))}function Fh(t,e){var n,r=[];for(n in qu)qu[n]!==e&&r.push(Ku(t.b,Bh(qu[n]),t.a));return r.push(Ku(t.b,$h,t.a)),function(t){return new me((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)Se(t[a],b(o,a),s);else e(i)}))}(r)}Vh.prototype.g=function(){var t=this,e=Bh("local");Hh(this,(function(){return Ie().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Fh(t,"local").then((function(){t.c=e}))}))}))};var $h={name:"persistence",F:"session"};function Bh(t){return{name:"authUser",F:t}}function qh(t,e){return Hh(t,(function(){return t.b.set(t.c,e.v(),t.a)}))}function zh(t){return Hh(t,(function(){return Ku(t.b,t.c,t.a)}))}function Gh(t,e){return Hh(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),Rh(t||{})}))}))}function Hh(t,e){return t.f=t.f.then(e,e),t.f}function Wh(t){if(this.l=!1,qr(this,"settings",new Fc),qr(this,"app",t),!el(this).options||!el(this).options.apiKey)throw new E("invalid-api-key");t=Re.SDK_VERSION?_r(Re.SDK_VERSION):null,this.b=new qs(el(this).options&&el(this).options.apiKey,O(I),t),this.P=[],this.m=[],this.O=[],this.$b=Re.INTERNAL.createSubscribe(g(this.xc,this)),this.W=void 0,this.ac=Re.INTERNAL.createSubscribe(g(this.yc,this)),Qh(this,null),this.i=new Vh(el(this).options.apiKey+":"+el(this).name),this.B=new Mh(el(this).options.apiKey+":"+el(this).name),this.Z=ol(this,function(t){var e=el(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(jh,t.a).then((function(t){return t&&e&&(t.authDomain=e),Rh(t||{})}))}(t.B,el(t).options.authDomain).then((function(e){return(t.D=e)&&(e.ga=t.B),Uh(t.B)}));return ol(t,e)}(t).then((function(){return Gh(t.i,e)})).then((function(e){return e?(e.ga=t.B,t.D&&(t.D.fa||null)==(e.fa||null)?e:e.reload().then((function(){return qh(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:zh(t.i)}))):null})).then((function(e){Qh(t,e||null)}));return ol(t,n)}(this)),this.h=ol(this,function(t){return t.Z.then((function(){return Jh(t)})).o((function(){})).then((function(){if(!t.l)return t.oa()})).o((function(){})).then((function(){if(!t.l){t.aa=!0;var e=t.i;e.b.addListener(Bh("local"),e.a,t.oa)}}))}(this)),this.aa=!1,this.oa=g(this.Xc,this),this.Ma=g(this.ca,this),this.xa=g(this.jc,this),this.ya=g(this.uc,this),this.za=g(this.vc,this),this.a=null,function(t){var e=el(t).options.authDomain,n=el(t).options.apiKey;e&&Ar()&&(t.Zb=t.Z.then((function(){if(!t.l){if(t.a=Pc(e,n,el(t).name),Ic(t.a,t),nl(t)&&mh(nl(t)),t.D){mh(t.D);var r=t.D;r.va(t.ja()),ch(r,t),hh(r=t.D,t.N),lh(r,t),t.D=null}return t.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=g(this.delete,this),this.INTERNAL.logFramework=g(this.Ec,this),this.s=0,yn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ja()},set:function(t){this.va(t)},enumerable:!1}),t.$=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.ub(t)},enumerable:!1}),t.R=null}(this),this.N=[]}function Kh(t){Ge.call(this,"languageCodeChanged"),this.g=t}function Yh(t){Ge.call(this,"frameworkChanged"),this.c=t}function Xh(t){return t.Zb||Ae(new E("auth-domain-config-required"))}function Jh(t){if(!Ar())return Ae(new E("operation-not-supported-in-this-environment"));var e=Xh(t).then((function(){return t.a.pa()})).then((function(t){return t?Gr(t):null}));return ol(t,e)}function Zh(t,e){var n={};return n.apiKey=el(t).options.apiKey,n.authDomain=el(t).options.authDomain,n.appName=el(t).name,t.Z.then((function(){return function(t,e,n,r){var i=new uh(t,e);return n&&(i.ga=n),r&&hh(i,r),i.reload().then((function(){return i}))}(n,e,t.B,t.Ea())})).then((function(e){return nl(t)&&e.uid==nl(t).uid?(Ah(nl(t),e),t.ca(e)):(Qh(t,e),mh(e),t.ca(e))})).then((function(){il(t)}))}function Qh(t,e){nl(t)&&(function(t,e){H(t.R,(function(t){return t==e}))}(nl(t),t.Ma),an(nl(t),"tokenChanged",t.xa),an(nl(t),"userDeleted",t.ya),an(nl(t),"userInvalidated",t.za),dh(nl(t))),e&&(e.R.push(t.Ma),rn(e,"tokenChanged",t.xa),rn(e,"userDeleted",t.ya),rn(e,"userInvalidated",t.za),0<t.s&&ph(e)),qr(t,"currentUser",e),e&&(e.va(t.ja()),ch(e,t),hh(e,t.N),lh(e,t))}function tl(t,e){var n=null,r=null;return ol(t,e.then((function(e){return n=xo(e),r=qi(e),Zh(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Kc(e.v(),t,g(t.ic,t))),n||e})).then((function(){return Gr({user:nl(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function el(t){return t.app}function nl(t){return t.currentUser}function rl(t){return nl(t)&&nl(t)._lat||null}function il(t){if(t.aa){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](rl(t));if(t.W!==t.getUid()&&t.O.length)for(t.W=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](rl(t))}}function ol(t,e){return t.P.push(e),e.ma((function(){G(t.P,e)})),e}function sl(){}function al(){this.a={},this.b=1e12}Vh.prototype.tb=function(t){var e=null,n=this;return function(t){var e=new E("invalid-persistence-type"),n=new E("unsupported-persistence-type");t:{for(r in qu)if(qu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(vr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Eu()&&"none"!==t)throw n;break;default:if(!Ir()&&"none"!==t)throw n}}(t),Hh(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,Fh(n,t)})).then((function(){if(n.c=Bh(t),e)return n.b.set(n.c,e,n.a)})):Ie()}))},_(Wh,yn),_(Kh,Ge),_(Yh,Ge),(t=Wh.prototype).tb=function(t){return ol(this,t=this.i.tb(t))},t.va=function(t){this.$===t||this.l||(this.$=t,Xs(this.b,this.$),this.dispatchEvent(new Kh(this.ja())))},t.ja=function(){return this.$},t.dd=function(){var t=s.navigator;this.va(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.Ec=function(t){this.N.push(t),Js(this.b,Re.SDK_VERSION?_r(Re.SDK_VERSION,this.N):null),this.dispatchEvent(new Yh(this.N))},t.Ea=function(){return K(this.N)},t.ub=function(t){this.R===t||this.l||(this.R=t,this.b.b=this.R)},t.S=function(){return this.R},t.toJSON=function(){return{apiKey:el(this).options.apiKey,authDomain:el(this).options.authDomain,appName:el(this).name,currentUser:nl(this)&&nl(this).v()}},t.Cb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.la=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},t.Da=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?g(this.gc,this):null},t.gc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.Z.then((function(){return tl(i,la(i.b,o))}))},t.Vc=function(t){if(!Ar())return Ae(new E("operation-not-supported-in-this-environment"));var e=this,n=Bi(t.providerId),r=xr(),i=null;(!Or()||pr())&&el(this).options.authDomain&&t.isOAuthProvider&&(i=cu(el(this).options.authDomain,el(this).options.apiKey,el(this).name,"signInViaPopup",t,null,r,Re.SDK_VERSION||null,null,null,this.S()));var o=ur(i,n&&n.ta,n&&n.sa);return ol(this,n=Xh(this).then((function(n){return Oc(n,o,"signInViaPopup",t,r,!!i,e.S())})).then((function(){return new me((function(t,n){e.la("signInViaPopup",null,new E("cancelled-popup-request"),e.g),e.f=t,e.w=n,e.g=r,e.c=Dc(e.a,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&ar(o),t?Gr(t):null})).o((function(t){throw o&&ar(o),t})))},t.Wc=function(t){if(!Ar())return Ae(new E("operation-not-supported-in-this-environment"));var e=this;return ol(this,Xh(this).then((function(){return function(t){return Hh(t,(function(){return t.b.set($h,t.c.F,t.a)}))}(e.i)})).then((function(){return Cc(e.a,"signInViaRedirect",t,void 0,e.S())})))},t.pa=function(){var t=this;return Jh(this).then((function(e){return t.a&&Mc(t.a.b),e})).o((function(e){throw t.a&&Mc(t.a.b),e}))},t.bd=function(t){if(!t)return Ae(new E("null-user"));if(this.R!=t.tenantId)return Ae(new E("tenant-id-mismatch"));var e=this,n={};n.apiKey=el(this).options.apiKey,n.authDomain=el(this).options.authDomain,n.appName=el(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Gs]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new uh(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ga=n),r&&hh(e,r),Ah(e,t),e}(t,n,e.B,e.Ea());return ol(this,this.h.then((function(){if(el(e).options.apiKey!=t.l)return r.reload()})).then((function(){return nl(e)&&t.uid==nl(e).uid?(Ah(nl(e),t),e.ca(t)):(Qh(e,r),mh(r),e.ca(r))})).then((function(){il(e)})))},t.wb=function(){var t=this;return ol(this,this.h.then((function(){return t.a&&Mc(t.a.b),nl(t)?(Qh(t,null),zh(t.i).then((function(){il(t)}))):Ie()})))},t.Xc=function(){var t=this;return Gh(this.i,el(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=nl(t)&&e){n=nl(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Ah(nl(t),e),nl(t).I();(nl(t)||e)&&(Qh(t,e),e&&(mh(e),e.ga=t.B),t.a&&Ic(t.a,t),il(t))}}))},t.ca=function(t){return qh(this.i,t)},t.jc=function(){il(this),this.ca(nl(this))},t.uc=function(){this.wb()},t.vc=function(){this.wb()},t.ic=function(t){var e=this;return this.h.then((function(){return tl(e,Ie(t))}))},t.xc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(nl(e))}))},t.yc=function(t){var e=this;!function(t,e){t.O.push(e),ol(t,t.h.then((function(){!t.l&&z(t.O,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(rl(t)))})))}(this,(function(){t.next(nl(e))}))},t.Gc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then((function(){f(t)?t(nl(r)):f(t.next)&&t.next(nl(r))})),this.$b(t,e,n)},t.Fc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then((function(){r.W=r.getUid(),f(t)?t(nl(r)):f(t.next)&&t.next(nl(r))})),this.ac(t,e,n)},t.kc=function(t){var e=this;return ol(this,this.h.then((function(){return nl(e)?nl(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Rc=function(t){var e=this;return this.h.then((function(){return tl(e,Ka(e.b,Ba,{token:t}))})).then((function(t){var n=t.user;return Ih(n,"isAnonymous",!1),e.ca(n),t}))},t.Sc=function(t,e){var n=this;return this.h.then((function(){return tl(n,Ka(n.b,qa,{email:t,password:e}))}))},t.cc=function(t,e){var n=this;return this.h.then((function(){return tl(n,Ka(n.b,ma,{email:t,password:e}))}))},t.Ya=function(t){var e=this;return this.h.then((function(){return tl(e,t.ia(e.b))}))},t.Qc=function(t){return $r("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ya(t)},t.vb=function(){var t=this;return this.h.then((function(){var e=nl(t);if(e&&e.isAnonymous){var n=Gr({providerId:null,isNewUser:!1});return Gr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return tl(t,t.b.vb()).then((function(e){var n=e.user;return Ih(n,"isAnonymous",!0),t.ca(n),e}))}))},t.getUid=function(){return nl(this)&&nl(this).uid||null},t.bc=function(t){this.addAuthTokenListener(t),this.s++,0<this.s&&nl(this)&&ph(nl(this))},t.Nc=function(t){var e=this;F(this.m,(function(n){n==t&&e.s--})),0>this.s&&(this.s=0),0==this.s&&nl(this)&&dh(nl(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.m.push(t),ol(this,this.h.then((function(){e.l||z(e.m,t)&&t(rl(e))})))},t.removeAuthTokenListener=function(t){H(this.m,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(Bh("local"),t.a,this.oa),this.a&&(Ac(this.a,this),Mc(this.a.b)),Promise.resolve()},t.fc=function(t){return ol(this,function(t,e){return Ka(t,ga,{identifier:e,continueUri:Sr()?ir():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.b,t))},t.zc=function(t){return!!So(t)},t.sb=function(t,e){var n=this;return ol(this,Ie().then((function(){var t=new Ti(e);if(!t.c)throw new E("argument-error",Si+" must be true when sending sign in link to email");return Pi(t)})).then((function(e){return n.b.sb(t,e)})).then((function(){})))},t.fd=function(t){return this.Pa(t).then((function(t){return t.data.email}))},t.jb=function(t,e){return ol(this,this.b.jb(t,e).then((function(){})))},t.Pa=function(t){return ol(this,this.b.Pa(t).then((function(t){return new ti(t)})))},t.fb=function(t){return ol(this,this.b.fb(t).then((function(){})))},t.rb=function(t,e){var n=this;return ol(this,Ie().then((function(){return void 0===e||ht(e)?{}:Pi(new Ti(e))})).then((function(e){return n.b.rb(t,e)})).then((function(){})))},t.Uc=function(t,e){return ol(this,Bc(this,t,e,g(this.Ya,this)))},t.Tc=function(t,e){var n=this;return ol(this,Ie().then((function(){var r=e||ir(),i=Ao(t,r);if(!(r=So(r)))throw new E("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new E("tenant-id-mismatch");return n.Ya(i)})))},sl.prototype.render=function(){},sl.prototype.reset=function(){},sl.prototype.getResponse=function(){},sl.prototype.execute=function(){};var ul=null;function cl(t,e){return(e=hl(e))&&t.a[e]||null}function hl(t){return(t=void 0===t?1e12:t)?t.toString():null}function ll(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=re(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():rn(this.f,"click",this.i)}function fl(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function pl(){}function dl(){}al.prototype.render=function(t,e){return this.a[this.b.toString()]=new ll(t,e),this.b++},al.prototype.reset=function(t){var e=cl(this,t);t=hl(t),e&&t&&(e.delete(),delete this.a[t])},al.prototype.getResponse=function(t){return(t=cl(this,t))?t.getResponse():null},al.prototype.execute=function(t){(t=cl(this,t))&&t.execute()},ll.prototype.getResponse=function(){return fl(this),this.b},ll.prototype.execute=function(){fl(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()}),6e4)}),500))},ll.prototype.delete=function(){fl(this),this.g=!0,clearTimeout(this.a),this.a=null,an(this.f,"click",this.i)},qr(pl,"FACTOR_ID","phone"),dl.prototype.g=function(){return ul||(ul=new al),Ie(ul)},dl.prototype.c=function(){};var vl=null;function yl(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var ml=new vt(gt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),gl=new Rr(3e4,6e4);yl.prototype.g=function(t){var e=this;return new me((function(n,r){var i=setTimeout((function(){r(new E("network-request-failed"))}),gl.get());!s.grecaptcha||t!==e.f&&!e.b?(s[e.a]=function(){if(s.grecaptcha){e.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new E("internal-error"));delete s[e.a]},Ie(Ms(Et(ml,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new E("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},yl.prototype.c=function(){this.b--};var bl=null;function wl(t,e,n,r,i,o,a){if(qr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.u=e,this.g=null,a?(vl||(vl=new dl),a=vl):(bl||(bl=new yl),a=bl),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Tl])throw new E("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Il],!s.document)throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!re(e)||!this.i&&re(e).hasChildNodes())throw new E("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new qs(t,o||null,i||null),this.w=r||function(){return null};var u=this;this.l=[];var c=this.a[_l];this.a[_l]=function(t){if(Al(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Tr(c,s);"function"==typeof e&&e(t)}};var h=this.a[El];this.a[El]=function(){if(Al(u,null),"function"==typeof h)h();else if("string"==typeof h){var t=Tr(h,s);"function"==typeof t&&t()}}}var _l="callback",El="expired-callback",Tl="sitekey",Il="size";function Al(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function Sl(t,e){return t.h.push(e),e.ma((function(){G(t.h,e)})),e}function Nl(t){if(t.D)throw new E("internal-error","RecaptchaVerifier instance has been destroyed.")}function Ol(t,e,n){var r=!1;try{this.b=n||Re.app()}catch(t){throw new E("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new E("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ea()}catch(t){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=Re.SDK_VERSION?_r(Re.SDK_VERSION,o):null,wl.call(this,n,t,e,(function(){try{var t=i.b.auth().ja()}catch(e){t=null}return t}),o,O(I),r)}function kl(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new E("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],0>i||i>=Cl.length)throw new E("internal-error","Argument validator received an unsupported number of arguments.");n=Cl[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new E("argument-error",t+" failed: "+r)}(t=wl.prototype).Ga=function(){var t=this;return this.f?this.f:this.f=Sl(this,Ie().then((function(){if(Sr()&&!dr())return lr();throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.w())})).then((function(e){return t.g=e,Ka(t.s,Da,{})})).then((function(e){t.a[Tl]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){Nl(this);var t=this;return Sl(this,this.Ga().then((function(){if(null===t.c){var e=t.u;if(!t.i){var n=re(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!ne&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Vt(s.name),'"'),s.type){o.push(' type="',Vt(s.type),'"');var a={};pt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=ce(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ie(o,s)),2<r.length&&ue(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Nl(this);var t=this;return Sl(this,this.render().then((function(e){return new me((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){H(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Nl(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Nl(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=re(this.u);for(var e;e=t.firstChild;)t.removeChild(e)}},_(Ol,wl);var Cl="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Dl(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function xl(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function Pl(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:p}}function Ll(t,e){return{name:t||"",J:"a function",optional:!!e,K:f}}function Rl(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function Ml(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ia||!n)}}}function jl(t,e){return p(t)&&"string"==typeof t.type&&t.type===e&&f(t.Fa)}function Ul(t){return p(t)&&"string"==typeof t.uid}function Vl(){return{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||!f(t.verify))}}}function Fl(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function $l(t,e){for(var n in e){var r=e[n].name;t[r]=zl(r,t[n],e[n].j)}}function Bl(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:b((function(t){return this[t]}),n),set:b((function(t,e,n,r){kl(t,[n],[r],!0),this[e]=r}),r,n,e[n].gb),enumerable:!0})}}function ql(t,e,n,r){t[e]=zl(e,n,r)}function zl(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return kl(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}$l(Wh.prototype,{fb:{name:"applyActionCode",j:[Dl("code")]},Pa:{name:"checkActionCode",j:[Dl("code")]},jb:{name:"confirmPasswordReset",j:[Dl("code"),Dl("newPassword")]},cc:{name:"createUserWithEmailAndPassword",j:[Dl("email"),Dl("password")]},fc:{name:"fetchSignInMethodsForEmail",j:[Dl("email")]},pa:{name:"getRedirectResult",j:[]},zc:{name:"isSignInWithEmailLink",j:[Dl("emailLink")]},Fc:{name:"onAuthStateChanged",j:[Fl(Pl(),Ll(),"nextOrObserver"),Ll("opt_error",!0),Ll("opt_completed",!0)]},Gc:{name:"onIdTokenChanged",j:[Fl(Pl(),Ll(),"nextOrObserver"),Ll("opt_error",!0),Ll("opt_completed",!0)]},rb:{name:"sendPasswordResetEmail",j:[Dl("email"),Fl(Pl("opt_actionCodeSettings",!0),Rl(null,!0),"opt_actionCodeSettings",!0)]},sb:{name:"sendSignInLinkToEmail",j:[Dl("email"),Pl("actionCodeSettings")]},tb:{name:"setPersistence",j:[Dl("persistence")]},Qc:{name:"signInAndRetrieveDataWithCredential",j:[Ml()]},vb:{name:"signInAnonymously",j:[]},Ya:{name:"signInWithCredential",j:[Ml()]},Rc:{name:"signInWithCustomToken",j:[Dl("token")]},Sc:{name:"signInWithEmailAndPassword",j:[Dl("email"),Dl("password")]},Tc:{name:"signInWithEmailLink",j:[Dl("email"),Dl("emailLink",!0)]},Uc:{name:"signInWithPhoneNumber",j:[Dl("phoneNumber"),Vl()]},Vc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Wc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},bd:{name:"updateCurrentUser",j:[Fl({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof uh)}},Rl(),"user")]},wb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Dl(null,!0)]},dd:{name:"useDeviceLanguage",j:[]},fd:{name:"verifyPasswordResetCode",j:[Dl("code")]}}),Bl(Wh.prototype,{lc:{name:"languageCode",gb:Fl(Dl(),Rl(),"languageCode")},ti:{name:"tenantId",gb:Fl(Dl(),Rl(),"tenantId")}}),Wh.Persistence=qu,Wh.Persistence.LOCAL="local",Wh.Persistence.SESSION="session",Wh.Persistence.NONE="none",$l(uh.prototype,{delete:{name:"delete",j:[]},mc:{name:"getIdTokenResult",j:[xl("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[xl("opt_forceRefresh",!0)]},Ac:{name:"linkAndRetrieveDataWithCredential",j:[Ml()]},mb:{name:"linkWithCredential",j:[Ml()]},Bc:{name:"linkWithPhoneNumber",j:[Dl("phoneNumber"),Vl()]},Cc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Jc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Ml()]},pb:{name:"reauthenticateWithCredential",j:[Ml()]},Kc:{name:"reauthenticateWithPhoneNumber",j:[Dl("phoneNumber"),Vl()]},Lc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},qb:{name:"sendEmailVerification",j:[Fl(Pl("opt_actionCodeSettings",!0),Rl(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Dl(null,!0)]},ad:{name:"unlink",j:[Dl("provider")]},xb:{name:"updateEmail",j:[Dl("email")]},yb:{name:"updatePassword",j:[Dl("password")]},cd:{name:"updatePhoneNumber",j:[Ml("phone")]},zb:{name:"updateProfile",j:[Pl("profile")]},Ab:{name:"verifyBeforeUpdateEmail",j:[Dl("email"),Fl(Pl("opt_actionCodeSettings",!0),Rl(null,!0),"opt_actionCodeSettings",!0)]}}),$l(al.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),$l(sl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),$l(me.prototype,{ma:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Bl(Fc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",gb:xl("appVerificationDisabledForTesting")}}),$l($c.prototype,{confirm:{name:"confirm",j:[Dl("verificationCode")]}}),ql(no,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[co,To,Oo,so],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Fl(Dl(),Pl(),"json")]),ql(Io,"credential",(function(t,e){return new Eo(t,e)}),[Dl("email"),Dl("password")]),$l(Eo.prototype,{v:{name:"toJSON",j:[Dl(null,!0)]}}),$l(po.prototype,{Aa:{name:"addScope",j:[Dl("scope")]},Ia:{name:"setCustomParameters",j:[Pl("customOAuthParameters")]}}),ql(po,"credential",vo,[Fl(Dl(),Pl(),"token")]),ql(Io,"credentialWithLink",Ao,[Dl("email"),Dl("emailLink")]),$l(yo.prototype,{Aa:{name:"addScope",j:[Dl("scope")]},Ia:{name:"setCustomParameters",j:[Pl("customOAuthParameters")]}}),ql(yo,"credential",mo,[Fl(Dl(),Pl(),"token")]),$l(go.prototype,{Aa:{name:"addScope",j:[Dl("scope")]},Ia:{name:"setCustomParameters",j:[Pl("customOAuthParameters")]}}),ql(go,"credential",bo,[Fl(Dl(),Fl(Pl(),Rl()),"idToken"),Fl(Dl(),Rl(),"accessToken",!0)]),$l(wo.prototype,{Ia:{name:"setCustomParameters",j:[Pl("customOAuthParameters")]}}),ql(wo,"credential",_o,[Fl(Dl(),Pl(),"token"),Dl("secret",!0)]),$l(fo.prototype,{Aa:{name:"addScope",j:[Dl("scope")]},credential:{name:"credential",j:[Fl(Dl(),Fl(Pl(),Rl()),"optionsOrIdToken"),Fl(Dl(),Rl(),"accessToken",!0)]},Ia:{name:"setCustomParameters",j:[Pl("customOAuthParameters")]}}),$l(ao.prototype,{v:{name:"toJSON",j:[Dl(null,!0)]}}),$l(io.prototype,{v:{name:"toJSON",j:[Dl(null,!0)]}}),ql(Co,"credential",Do,[Dl("verificationId"),Dl("verificationCode")]),$l(Co.prototype,{cb:{name:"verifyPhoneNumber",j:[Fl(Dl(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?jl(t.session,to)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?jl(t.session,eo)&&Ul(t.multiFactorHint):t.session&&t.multiFactorUid?jl(t.session,eo)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),Vl()]}}),$l(No.prototype,{v:{name:"toJSON",j:[Dl(null,!0)]}}),$l(E.prototype,{toJSON:{name:"toJSON",j:[Dl(null,!0)]}}),$l(Fo.prototype,{toJSON:{name:"toJSON",j:[Dl(null,!0)]}}),$l(Vo.prototype,{toJSON:{name:"toJSON",j:[Dl(null,!0)]}}),$l(Wc.prototype,{toJSON:{name:"toJSON",j:[Dl(null,!0)]}}),$l(zc.prototype,{Pc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}}]}}),$l(Qc.prototype,{Ob:{name:"getSession",j:[]},dc:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}},Dl("displayName",!0)]},$c:{name:"unenroll",j:[Fl({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Ul},Dl(),"multiFactorInfoIdentifier")]}}),$l(Ol.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),ql(di,"parseLink",Ei,[Dl("link")]),ql(pl,"assertion",(function(t){return new Jc(t)}),[Ml("phone")]),function(){if(void 0===Re||!Re.INTERNAL||!Re.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ni,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ei,VERIFY_AND_CHANGE_EMAIL:ri,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Wh,AuthCredential:no,Error:E};ql(t,"EmailAuthProvider",Io,[]),ql(t,"FacebookAuthProvider",po,[]),ql(t,"GithubAuthProvider",yo,[]),ql(t,"GoogleAuthProvider",go,[]),ql(t,"TwitterAuthProvider",wo,[]),ql(t,"OAuthProvider",fo,[Dl("providerId")]),ql(t,"SAMLAuthProvider",lo,[Dl("providerId")]),ql(t,"PhoneAuthProvider",Co,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof Wh)}}]),ql(t,"RecaptchaVerifier",Ol,[Fl(Dl(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Pl("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof Re.app.App)}}]),ql(t,"ActionCodeURL",di,[]),ql(t,"PhoneMultiFactorGenerator",pl,[]),Re.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new Wh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),Re.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:g((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:g(t.kc,t),addAuthTokenListener:g(t.bc,t),removeAuthTokenListener:g(t.Nc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Re.registerVersion("@firebase/auth","0.14.4"),Re.INTERNAL.extendNamespace({User:uh})}()}.apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var or,sr=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(or||(or={}));var ar={debug:or.DEBUG,verbose:or.VERBOSE,info:or.INFO,warn:or.WARN,error:or.ERROR,silent:or.SILENT},ur=or.INFO,cr=((rr={})[or.DEBUG]="log",rr[or.VERBOSE]="log",rr[or.INFO]="info",rr[or.WARN]="warn",rr[or.ERROR]="error",rr),hr=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=cr[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,ir(["["+i+"]  "+t.name+":"],n))}},lr=function(){function t(t){this.name=t,this._logLevel=ur,this._logHandler=hr,this._userLogHandler=null,sr.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in or))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,ir([this,or.DEBUG],t)),this._logHandler.apply(this,ir([this,or.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,ir([this,or.VERBOSE],t)),this._logHandler.apply(this,ir([this,or.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,ir([this,or.INFO],t)),this._logHandler.apply(this,ir([this,or.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,ir([this,or.WARN],t)),this._logHandler.apply(this,ir([this,or.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,ir([this,or.ERROR],t)),this._logHandler.apply(this,ir([this,or.ERROR],t))},t}();var fr=Object.freeze({__proto__:null,get LogLevel(){return or},Logger:lr,setLogLevel:function(t){var e="string"==typeof t?ar[t]:t;sr.forEach((function(t){t.logLevel=e}))},setUserLogHandler:function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=ar[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:or[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=sr;r<i.length;r++){n(i[r])}}}),pr=he((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var n={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},r=function(t,e){if(!t)throw i(e)},i=function(t){return new Error("Firebase Database ("+n.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},o=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=o>>2,l=(3&o)<<4|a>>4,f=(15&a)<<2|c>>6,p=63&c;u||(p=64,s||(f=64)),r.push(n[h],n[l],n[f],n[p])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(o(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();var c=o<<2|s>>4;if(r.push(c),64!==a){var h=s<<4&240|a>>2;if(r.push(h),64!==u){var l=a<<6&192|u;r.push(l)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},a=function(t){try{return s.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function u(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=u(t[n],e[n]));return t}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var c=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function h(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var l=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,f.prototype.create),i}return _e.__extends(e,t),e}(Error),f=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?p(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new l(i,a),c=0,h=Object.keys(r);c<h.length;c++){var f=h[c];"_"!==f.slice(-1)&&(f in u&&console.warn('Overwriting FirebaseError base field "'+f+'" can cause unexpected behavior.'),u[f]=r[f])}return u},t}();function p(t,e){return t.replace(d,(function(t,n){var r=e[n];return null!=r?r.toString():"<"+n+"?>"}))}var d=/\{\$([^}]+)}/g;
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function v(t){return JSON.parse(t)}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var y=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=v(a(o[0])||""),n=v(a(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:i}};
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var m=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,s,a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],h=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=h^u&(c^h),s=1518500249):(o=u^c^h,s=1859775393):r<60?(o=u&c|h&(u|c),s=2400959708):(o=u^c^h,s=3395469782);i=(a<<5|a>>>27)+o+l+s+n[r]&4294967295;l=h,h=c,c=4294967295&(u<<30|u>>>2),u=a,a=i}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();var g=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=b),void 0===r.error&&(r.error=b),void 0===r.complete&&(r.complete=b);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function b(){}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function w(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument "}e.CONSTANTS=n,e.Deferred=c,e.ErrorFactory=f,e.FirebaseError=l,e.Sha1=m,e.assert=r,e.assertionError=i,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=s,e.base64Decode=a,e.base64Encode=function(t){var e=o(t);return s.encodeByteArray(e,!0)},e.contains=
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new g(t,e);return n.subscribe.bind(n)},e.decode=y,e.deepCopy=
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function(t){return u(void 0,t)},e.deepExtend=u,e.errorPrefix=w,e.getUA=h,e.isAdmin=function(t){var e=y(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return h().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=h();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())},e.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(ue.process)}catch(t){return!1}},e.isNodeSdk=function(){return!0===n.NODE_CLIENT||!0===n.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isUWP=function(){return h().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=y(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=y(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=y(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=v,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */,e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);if(o>=55296&&o<=56319){var s=o-55296;i++,r(i<t.length,"Surrogate pair missing trail surrogate."),o=65536+(s<<10)+(t.charCodeAt(i)-56320)}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(w(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(w(t,e,r)+"must be a valid context object.")}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */,e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(w(t,e,r)+"must be a valid firebase namespace.")}}));ce(pr);pr.CONSTANTS,pr.Deferred,pr.ErrorFactory,pr.FirebaseError,pr.Sha1,pr.assert,pr.assertionError,pr.async,pr.base64,pr.base64Decode,pr.base64Encode,pr.contains,pr.createSubscribe,pr.decode,pr.deepCopy,pr.deepExtend,pr.errorPrefix,pr.getUA,pr.isAdmin,pr.isBrowser,pr.isBrowserExtension,pr.isElectron,pr.isEmpty,pr.isIE,pr.isMobileCordova,pr.isNode,pr.isNodeSdk,pr.isReactNative,pr.isUWP,pr.isValidFormat,pr.isValidTimestamp,pr.issuedAtTime,pr.jsonEval,pr.map,pr.querystring,pr.querystringDecode,pr.safeGet,pr.stringLength,pr.stringToByteArray,pr.stringify,pr.validateArgCount,pr.validateCallback,pr.validateContextObject,pr.validateNamespace;var dr=he((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),r=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new pr.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=_e.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);try{var o=this.getOrInitializeService(i);if(!o){if(r)return null;throw Error("Service "+this.name+" is not available")}return o}catch(t){if(r)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t))try{this.getOrInitializeService("[DEFAULT]")}catch(t){}try{for(var r=_e.__values(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=_e.__read(i.value,2),s=o[0],a=o[1],u=this.normalizeInstanceIdentifier(s);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return _e.__awaiter(this,void 0,void 0,(function(){var t;return _e.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}();
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var i=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new r(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=n,e.ComponentContainer=i,e.Provider=r}));ce(dr);dr.Component,dr.ComponentContainer,dr.Provider;var vr,yr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},mr=mr||{},gr=yr;function br(t){return"string"==typeof t}function wr(t){return"number"==typeof t}function _r(t,e){t=t.split("."),e=e||gr;for(var n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function Er(){}function Tr(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function Ir(t){return"array"==Tr(t)}function Ar(t){var e=Tr(t);return"array"==e||"object"==e&&"number"==typeof t.length}function Sr(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Nr="closure_uid_"+(1e9*Math.random()>>>0),Or=0;function kr(t,e,n){return t.call.apply(t.bind,arguments)}function Cr(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Dr(t,e,n){return(Dr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?kr:Cr).apply(null,arguments)}function xr(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var Pr=Date.now||function(){return+new Date};function Lr(t,e){function n(){}n.prototype=e.prototype,t.N=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.yb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Rr(){this.j=this.j,this.i=this.i}Rr.prototype.j=!1,Rr.prototype.la=function(){if(!this.j&&(this.j=!0,this.G(),0))this[Nr]||(this[Nr]=++Or)},Rr.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Mr=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(br(t))return br(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},jr=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=br(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Ur(t){return Array.prototype.concat.apply([],arguments)}function Vr(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Fr(t){return/^[\s\xa0]*$/.test(t)}var $r,Br=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function qr(t,e){return-1!=t.indexOf(e)}function zr(t,e){return t<e?-1:t>e?1:0}t:{var Gr=gr.navigator;if(Gr){var Hr=Gr.userAgent;if(Hr){$r=Hr;break t}}$r=""}function Wr(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Kr(t){var e,n={};for(e in t)n[e]=t[e];return n}var Yr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xr(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Yr.length;o++)n=Yr[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Jr(t){return Jr[" "](t),t}Jr[" "]=Er;var Zr,Qr,ti=qr($r,"Opera"),ei=qr($r,"Trident")||qr($r,"MSIE"),ni=qr($r,"Edge"),ri=ni||ei,ii=qr($r,"Gecko")&&!(qr($r.toLowerCase(),"webkit")&&!qr($r,"Edge"))&&!(qr($r,"Trident")||qr($r,"MSIE"))&&!qr($r,"Edge"),oi=qr($r.toLowerCase(),"webkit")&&!qr($r,"Edge");function si(){var t=gr.document;return t?t.documentMode:void 0}t:{var ai="",ui=(Qr=$r,ii?/rv:([^\);]+)(\)|;)/.exec(Qr):ni?/Edge\/([\d\.]+)/.exec(Qr):ei?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Qr):oi?/WebKit\/(\S+)/.exec(Qr):ti?/(?:Version)[ \/]?(\S+)/.exec(Qr):void 0);if(ui&&(ai=ui?ui[1]:""),ei){var ci=si();if(null!=ci&&ci>parseFloat(ai)){Zr=String(ci);break t}}Zr=ai}var hi,li={};function fi(t){return function(t,e){var n=li;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=Br(String(Zr)).split("."),r=Br(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=zr(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||zr(0==s[2].length,0==a[2].length)||zr(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var pi=gr.document;hi=pi&&ei?si()||("CSS1Compat"==pi.compatMode?parseInt(Zr,10):5):void 0;var di=!ei||9<=Number(hi),vi=ei&&!fi("9"),yi=function(){if(!gr.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{gr.addEventListener("test",Er,e),gr.removeEventListener("test",Er,e)}catch(t){}return t}();function mi(t,e){this.type=t,this.a=this.target=e,this.Ia=!0}function gi(t,e){if(mi.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(ii){t:{try{Jr(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=br(t.pointerType)?t.pointerType:bi[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}mi.prototype.b=function(){this.Ia=!1},Lr(gi,mi);var bi={2:"touch",3:"pen",4:"mouse"};gi.prototype.b=function(){gi.N.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,vi)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var wi="closure_listenable_"+(1e6*Math.random()|0),_i=0;function Ei(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.da=i,this.key=++_i,this.X=this.Z=!1}function Ti(t){t.X=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function Ii(t){this.src=t,this.a={},this.b=0}function Ai(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Mr(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Ti(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Si(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.X&&o.listener==e&&o.capture==!!n&&o.da==r)return i}return-1}Ii.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Si(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Ei(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Ni="closure_lm_"+(1e6*Math.random()|0),Oi={};function ki(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Ir(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=ji(r),e&&e[wi]?e.Aa(n,r,Sr(i)?!!i.capture:!!i,o):Ci(e,n,r,!0,i,o)}(t,e,n,r,i);if(Ir(e)){for(var o=0;o<e.length;o++)ki(t,e[o],n,r,i);return null}return n=ji(n),t&&t[wi]?t.za(e,n,Sr(r)?!!r.capture:!!r,i):Ci(t,e,n,!1,r,i)}function Ci(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Sr(i)?!!i.capture:!!i;if(s&&!di)return null;var a=Ri(t);if(a||(t[Ni]=a=new Ii(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Li,e=di?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)yi||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(xi(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Di(t){if(!wr(t)&&t&&!t.X){var e=t.src;if(e&&e[wi])Ai(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(xi(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ri(e))?(Ai(n,t),0==n.b&&(n.src=null,e[Ni]=null)):Ti(t)}}}function xi(t){return t in Oi?Oi[t]:Oi[t]="on"+t}function Pi(t,e){var n=t.listener,r=t.da||t.src;return t.Z&&Di(t),n.call(r,e)}function Li(t,e){return!!t.X||(di?Pi(t,new gi(e,this)):Pi(t,e=new gi(e||_r("window.event"),this)))}function Ri(t){return(t=t[Ni])instanceof Ii?t:null}var Mi="__closure_events_fn_"+(1e9*Math.random()>>>0);function ji(t){return"function"==Tr(t)?t:(t[Mi]||(t[Mi]=function(e){return t.handleEvent(e)}),t[Mi])}function Ui(){Rr.call(this),this.c=new Ii(this),this.J=this,this.B=null}function Vi(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.X&&s.capture==n){var a=s.listener,u=s.da||s.src;s.Z&&Ai(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&0!=r.Ia}Lr(Ui,Rr),Ui.prototype[wi]=!0,(vr=Ui.prototype).addEventListener=function(t,e,n,r){ki(this,t,e,n,r)},vr.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Ir(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=Sr(i)?!!i.capture:!!i,r=ji(r),e&&e[wi]?(e=e.c,(n=String(n).toString())in e.a&&(-1<(r=Si(s=e.a[n],r,i,o))&&(Ti(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--)))):e&&(e=Ri(e))&&(n=e.a[n.toString()],e=-1,n&&(e=Si(n,r,i,o)),(r=-1<e?n[e]:null)&&Di(r))}(this,t,e,n,r)},vr.dispatchEvent=function(t){var e,n=this.B;if(n)for(e=[];n;n=n.B)e.push(n);n=this.J;var r=t.type||t;if(br(t))t=new mi(t,n);else if(t instanceof mi)t.target=t.target||n;else{var i=t;Xr(t=new mi(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.a=e[o];i=Vi(s,r,!0,t)&&i}if(i=Vi(s=t.a=n,r,!0,t)&&i,i=Vi(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Vi(s=t.a=e[o],r,!1,t)&&i;return i},vr.G=function(){if(Ui.N.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ti(n[r]);delete e.a[t],e.b--}}this.B=null},vr.za=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},vr.Aa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Fi=gr.JSON.stringify;function $i(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function Bi(){this.b=this.a=null}$i.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var qi,zi=new $i((function(){return new Hi}),(function(t){t.reset()}));function Gi(){var t=Xi,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Hi(){this.next=this.b=this.a=null}function Wi(t){gr.setTimeout((function(){throw t}),0)}function Ki(t,e){qi||function(){var t=gr.Promise.resolve(void 0);qi=function(){t.then(Ji)}}(),Yi||(qi(),Yi=!0),Xi.add(t,e)}Bi.prototype.add=function(t,e){var n=zi.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Hi.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Hi.prototype.reset=function(){this.next=this.b=this.a=null};var Yi=!1,Xi=new Bi;function Ji(){for(var t;t=Gi();){try{t.a.call(t.b)}catch(t){Wi(t)}var e=zi;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Yi=!1}function Zi(t,e){Ui.call(this),this.b=t||1,this.a=e||gr,this.f=Dr(this.gb,this),this.g=Pr()}function Qi(t){t.ba=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function to(t,e,n){if("function"==Tr(t))n&&(t=Dr(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Dr(t.handleEvent,t)}return 2147483647<Number(e)?-1:gr.setTimeout(t,e||0)}function eo(t,e,n){Rr.call(this),this.f=null!=n?Dr(t,n):t,this.c=e,this.b=Dr(this.$a,this),this.a=[]}function no(t){t.U=to(t.b,t.c),t.f.apply(null,t.a)}function ro(t){Rr.call(this),this.b=t,this.a={}}Lr(Zi,Ui),(vr=Zi.prototype).ba=!1,vr.L=null,vr.gb=function(){if(this.ba){var t=Pr()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(Qi(this),this.start()))}},vr.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=Pr())},vr.G=function(){Zi.N.G.call(this),Qi(this),delete this.a},Lr(eo,Rr),(vr=eo.prototype).ea=!1,vr.U=null,vr.Ta=function(t){this.a=arguments,this.U?this.ea=!0:no(this)},vr.G=function(){eo.N.G.call(this),this.U&&(gr.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},vr.$a=function(){this.U=null,this.ea&&(this.ea=!1,no(this))},Lr(ro,Rr);var io=[];function oo(t,e,n,r){Ir(n)||(n&&(io[0]=n.toString()),n=io);for(var i=0;i<n.length;i++){var o=ki(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function so(t){Wr(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Di(t)}),t),t.a={}}function ao(){}ro.prototype.G=function(){ro.N.G.call(this),so(this)},ro.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var uo=new Ui;function co(t){mi.call(this,"serverreachability",t)}function ho(t){uo.dispatchEvent(new co(uo,t))}function lo(t){mi.call(this,"statevent",t)}function fo(t){uo.dispatchEvent(new lo(uo,t))}function po(t){mi.call(this,"timingevent",t)}function vo(t,e){if("function"!=Tr(t))throw Error("Fn must not be null and must be a function");return gr.setTimeout((function(){t()}),e)}Lr(co,mi),Lr(lo,mi),Lr(po,mi);var yo={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,La:7,TIMEOUT:8,sb:9},mo={jb:"complete",wb:"success",Ma:"error",La:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};function go(){}function bo(t){var e;return(e=t.a)||(e=t.a={}),e}function wo(){}go.prototype.a=null;var _o,Eo={OPEN:"a",ib:"b",Ma:"c",rb:"d"};function To(){mi.call(this,"d")}function Io(){mi.call(this,"c")}function Ao(){}function So(t,e,n){this.g=t,this.W=e,this.V=n||1,this.I=new ro(this),this.O=No,t=ri?125:void 0,this.P=new Zi(t),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}Lr(To,mi),Lr(Io,mi),Lr(Ao,go),_o=new Ao;var No=45e3,Oo={},ko={};function Co(t,e,n){t.F=1,t.f=es(Ko(e)),t.l=n,t.H=!0,xo(t,null)}function Do(t,e,n,r){t.F=1,t.f=es(Ko(e)),t.l=null,t.H=n,xo(t,r)}function xo(t,e){t.v=Pr(),Ro(t),t.D=Ko(t.f),ts(t.D,"t",t.V),t.A=0,t.a=t.g.$(t.g.Y()?e:null),0<t.J&&(t.B=new eo(Dr(t.Ja,t,t.a),t.J)),oo(t.I,t.a,"readystatechange",t.cb),e=t.h?Kr(t.h):{},t.l?(t.w||(t.w="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ca(t.D,t.w,t.l,e)):(t.w="GET",t.a.ca(t.D,t.w,null,e)),ho(1)}function Po(t,e,n){for(var r=!0;!t.m&&t.A<n.length;){var i=Lo(t,n);if(i==ko){4==e&&(t.c=4,fo(14),r=!1);break}if(i==Oo){t.c=4,fo(15),r=!1;break}Fo(t,i)}4==e&&0==n.length&&(t.c=1,fo(16),r=!1),t.b=t.b&&r,r||(Vo(t),Uo(t))}function Lo(t,e){var n=t.A,r=e.indexOf("\n",n);return-1==r?ko:(n=Number(e.substring(n,r)),isNaN(n)?Oo:(r+=1)+n>e.length?ko:(e=e.substr(r,n),t.A=r+n,e))}function Ro(t){t.R=Pr()+t.O,Mo(t,t.O)}function Mo(t,e){if(null!=t.i)throw Error("WatchDog timer not null");t.i=vo(Dr(t.ab,t),e)}function jo(t){t.i&&(gr.clearTimeout(t.i),t.i=null)}function Uo(t){t.g.Ca()||t.m||t.g.na(t)}function Vo(t){jo(t);var e=t.B;e&&"function"==typeof e.la&&e.la(),t.B=null,Qi(t.P),so(t.I),t.a&&(e=t.a,t.a=null,e.abort(),e.la())}function Fo(t,e){try{t.g.Fa(t,e),ho(4)}catch(t){}}function $o(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Ar(t)||br(t))jr(t,e,void 0);else{if(t.K&&"function"==typeof t.K)var n=t.K();else if(t.C&&"function"==typeof t.C)n=void 0;else if(Ar(t)||br(t)){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.C&&"function"==typeof t.C)return t.C();if(br(t))return t.split("");if(Ar(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Bo(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Bo)for(n=t.K(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function qo(t,e){Go(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&zo(t))}function zo(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Go(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Go(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Go(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(vr=So.prototype).setTimeout=function(t){this.O=t},vr.cb=function(t){t=t.target;var e=this.B;e&&3==Ws(t)?e.Ta():this.Ja(t)},vr.Ja=function(t){try{if(t==this.a)t:{var e=Ws(this.a),n=this.a.ya(),r=this.a.T();if(!(3>e||3==e&&!ri&&!this.a.aa())){this.m||4!=e||7==n||ho(8==n||0>=r?3:2),jo(this);var i=this.a.T();this.o=i;var o=this.a.aa();if(this.b=200==i){if(this.S&&!this.s){e:{if(this.a){var s=Ks(this.a,"X-HTTP-Initial-Response");if(s&&!Fr(s)){var a=s;break e}}a=null}if(!a){this.b=!1,this.c=3,fo(12),Vo(this),Uo(this);break t}this.s=!0,Fo(this,a)}this.H?(Po(this,e,o),ri&&this.b&&3==e&&(oo(this.I,this.P,"tick",this.bb),this.P.start())):Fo(this,o),4==e&&Vo(this),this.b&&!this.m&&(4==e?this.g.na(this):(this.b=!1,Ro(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.c=3,fo(12)):(this.c=0,fo(13)),Vo(this),Uo(this)}}}catch(t){}},vr.bb=function(){if(this.a){var t=Ws(this.a),e=this.a.aa();this.A<e.length&&(jo(this),Po(this,t,e),this.b&&4!=t&&Ro(this))}},vr.cancel=function(){this.m=!0,Vo(this)},vr.ab=function(){this.i=null;var t=Pr();0<=t-this.R?(2!=this.F&&(ho(3),fo(17)),Vo(this),this.c=2,Uo(this)):Mo(this,this.R-t)},(vr=Bo.prototype).C=function(){zo(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},vr.K=function(){return zo(this),this.a.concat()},vr.get=function(t,e){return Go(this.b,t)?this.b[t]:e},vr.set=function(t,e){Go(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},vr.forEach=function(t,e){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ho=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Wo(t,e){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,t instanceof Wo?(this.h=void 0!==e?e:t.h,Yo(this,t.f),this.j=t.j,Xo(this,t.b),Jo(this,t.i),this.a=t.a,Zo(this,vs(t.c)),this.g=t.g):t&&(n=String(t).match(Ho))?(this.h=!!e,Yo(this,n[1]||"",!0),this.j=ns(n[2]||""),Xo(this,n[3]||"",!0),Jo(this,n[4]),this.a=ns(n[5]||"",!0),Zo(this,n[6]||"",!0),this.g=ns(n[7]||"")):(this.h=!!e,this.c=new hs(null,this.h))}function Ko(t){return new Wo(t)}function Yo(t,e,n){t.f=n?ns(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Xo(t,e,n){t.b=n?ns(e,!0):e}function Jo(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function Zo(t,e,n){e instanceof hs?(t.c=e,function(t,e){e&&!t.f&&(ls(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(fs(this,e),ds(this,n,t))}),t)),t.f=e}(t.c,t.h)):(n||(e=rs(e,us)),t.c=new hs(e,t.h))}function Qo(t,e,n){t.c.set(e,n)}function ts(t,e,n){Ir(n)||(n=[String(n)]),ds(t.c,e,n)}function es(t){return Qo(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Pr()).toString(36)),t}function ns(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function rs(t,e,n){return br(t)?(t=encodeURI(t).replace(e,is),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function is(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Wo.prototype.toString=function(){var t=[],e=this.f;e&&t.push(rs(e,os,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(rs(e,os,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(rs(n,"/"==n.charAt(0)?as:ss,!0))),(n=this.c.toString())&&t.push("?",n),(n=this.g)&&t.push("#",rs(n,cs)),t.join("")},Wo.prototype.resolve=function(t){var e=Ko(this),n=!!t.f;n?Yo(e,t.f):n=!!t.j,n?e.j=t.j:n=!!t.b,n?Xo(e,t.b):n=null!=t.i;var r=t.a;if(n)Jo(e,t.i);else if(n=!!t.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var i=e.a.lastIndexOf("/");-1!=i&&(r=e.a.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(qr(i,"./")||qr(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.a=r:n=""!==t.c.toString(),n?Zo(e,vs(t.c)):n=!!t.g,n&&(e.g=t.g),e};var os=/[#\/\?@]/g,ss=/[#\?:]/g,as=/[#\?]/g,us=/[#\?@]/g,cs=/#/g;function hs(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function ls(t){t.a||(t.a=new Bo,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function fs(t,e){ls(t),e=ys(t,e),Go(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,qo(t.a,e))}function ps(t,e){return ls(t),e=ys(t,e),Go(t.a.b,e)}function ds(t,e,n){fs(t,e),0<n.length&&(t.c=null,t.a.set(ys(t,e),Vr(n)),t.b+=n.length)}function vs(t){var e=new hs;return e.c=t.c,t.a&&(e.a=new Bo(t.a),e.b=t.b),e}function ys(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function ms(t){this.a=t,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function gs(t){var e=t.a.F.a;if(null!=e)fo(4),e?(fo(10),sa(t.a,t,!1)):(fo(11),sa(t.a,t,!0));else{t.b=new So(t,void 0,void 0),t.b.h=t.h,e=la(e=t.a,e.Y()?t.f:null,t.i),fo(4),ts(e,"TYPE","xmlhttp");var n=t.a.j,r=t.a.I;n&&r&&Qo(e,n,r),Do(t.b,e,!1,t.f)}}function bs(){this.a=this.b=null}function ws(){this.a=new Bo}function _s(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[Nr]||(t[Nr]=++Or)):e.charAt(0)+t}function Es(t,e){this.b=t,this.a=e}function Ts(t){this.g=t||Is,gr.PerformanceNavigationTiming?t=0<(t=gr.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(gr.ka&&gr.ka.Da&&gr.ka.Da()&&gr.ka.Da().zb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new ws),this.b=null,this.c=[]}(vr=hs.prototype).add=function(t,e){ls(this),this.c=null,t=ys(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},vr.forEach=function(t,e){ls(this),this.a.forEach((function(n,r){jr(n,(function(n){t.call(e,n,r,this)}),this)}),this)},vr.K=function(){ls(this);for(var t=this.a.C(),e=this.a.K(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},vr.C=function(t){ls(this);var e=[];if(br(t))ps(this,t)&&(e=Ur(e,this.a.get(ys(this,t))));else{t=this.a.C();for(var n=0;n<t.length;n++)e=Ur(e,t[n])}return e},vr.set=function(t,e){return ls(this),this.c=null,ps(this,t=ys(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},vr.get=function(t,e){return t&&0<(t=this.C(t)).length?String(t[0]):e},vr.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.C(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")},Lr((function(){}),(function(){})),(vr=ms.prototype).M=null,vr.$=function(t){return this.a.$(t)},vr.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},vr.Ca=function(){return!1},vr.Fa=function(t,e){if(this.c=t.o,0==this.M){if(!this.a.o&&(t=t.a)){var n=Ks(t,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(t=Ks(t,"X-HTTP-Session-Id"))&&(this.a.I=t)}if(e){try{var r=this.a.ja.a.parse(e)}catch(t){return(e=this.a).m=this.c,void ca(e,2)}this.f=r[0]}else(e=this.a).m=this.c,ca(e,2)}else 1==this.M&&(this.g?fo(6):"11111"==e?(fo(5),this.g=!0,(!ei||10<=Number(hi))&&(this.c=200,this.b.cancel(),fo(11),sa(this.a,this,!0))):(fo(7),this.g=!1))},vr.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,gs(this)):1==this.M&&(this.g?(fo(11),sa(this.a,this,!0)):(fo(10),sa(this.a,this,!1)));else{0==this.M?fo(8):1==this.M&&fo(9);var t=this.a;t.m=this.c,ca(t,2)}},vr.Y=function(){return this.a.Y()},vr.ma=function(){return this.a.ma()},ws.prototype.add=function(t){this.a.set(_s(t),t)},ws.prototype.C=function(){return this.a.C()};var Is=10;function As(t,e){!t.a&&(qr(e,"spdy")||qr(e,"quic")||qr(e,"h2"))&&(t.f=t.g,t.a=new ws,t.b&&(ks(t,t.b),t.b=null))}function Ss(t){return!!t.b||!!t.a&&t.a.a.c>=t.f}function Ns(t){return t.b?1:t.a?t.a.a.c:0}function Os(t,e){return t.b?t=t.b==e:t.a?(e=_s(e),t=Go(t.a.a.b,e)):t=!1,t}function ks(t,e){t.a?t.a.add(e):t.b=e}function Cs(t,e){var n;t.b&&t.b==e?t.b=null:((n=t.a)&&(n=_s(e),n=Go(t.a.a.b,n)),n&&qo(t.a.a,_s(e)))}function Ds(t){if(null!=t.b)return t.c.concat(t.b.j);if(null!=t.a&&0!=t.a.a.c){var e=t.c;return jr(t.a.C(),(function(t){e=e.concat(t.j)})),e}return Vr(t.c)}function xs(){}function Ps(){this.a=new xs}function Ls(t,e,n){var r=n||"";try{$o(t,(function(t,n){var i=t;Sr(t)&&(i=Fi(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function Rs(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}Ts.prototype.cancel=function(){this.c=Ds(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(jr(this.a.C(),(function(t){t.cancel()})),function(t){t.b={},t.a.length=0,t.c=0}(this.a.a))},xs.prototype.stringify=function(t){return gr.JSON.stringify(t,void 0)},xs.prototype.parse=function(t){return gr.JSON.parse(t,void 0)};var Ms=gr.JSON.parse;function js(t){Ui.call(this),this.headers=new Bo,this.H=t||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=Us,this.D=this.F=!1}Lr(js,Ui);var Us="",Vs=/^https?$/i,Fs=["POST","PUT"];function $s(t){return"content-type"==t.toLowerCase()}function Bs(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,qs(t),Gs(t)}function qs(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function zs(t){if(t.b&&void 0!==mr&&(!t.s[1]||4!=Ws(t)||2!=t.T()))if(t.l&&4==Ws(t))to(t.Ea,0,t);else if(t.dispatchEvent("readystatechange"),4==Ws(t)){t.b=!1;try{var e,n=t.T();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.A).match(Ho)[1]||null;if(!o&&gr.self&&gr.self.location){var s=gr.self.location.protocol;o=s.substr(0,s.length-1)}i=!Vs.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var a=2<Ws(t)?t.a.statusText:""}catch(t){a=""}t.f=a+" ["+t.T()+"]",qs(t)}}finally{Gs(t)}}}function Gs(t,e){if(t.a){Hs(t);var n=t.a,r=t.s[0]?Er:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){}}}function Hs(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(gr.clearTimeout(t.m),t.m=null)}function Ws(t){return t.a?t.a.readyState:0}function Ks(t,e){return t.a?t.a.getResponseHeader(e):null}function Ys(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}if(r)return t;if(n=function(t){var e="";return Wr(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),br(t)){if(e=encodeURIComponent(String(e)),e+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=t.indexOf("#"))&&(n=t.length),0>(r=t.indexOf("?"))||r>n){r=n;var i=""}else i=t.substring(r+1,n);n=(t=[t.substr(0,r),i,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return Qo(t,e,n),t}function Xs(t){this.f=[],this.F=new bs,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Qa=this.P=0,this.Oa=!!_r("internalChannelParams.failFast",t),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Na=_r("internalChannelParams.baseRetryDelayMs",t)||5e3,this.Ra=_r("internalChannelParams.retryDelaySeedMs",t)||1e4,this.Pa=_r("internalChannelParams.forwardChannelMaxRetries",t)||2,this.qa=_r("internalChannelParams.forwardChannelRequestTimeoutMs",t)||2e4,this.Ka=t&&t.Ab||void 0,this.D=void 0,this.R=t&&t.supportsCrossDomainXhr||!1,this.H="",this.b=new Ts(t&&t.concurrentRequestLimit),this.ja=new Ps,this.o=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.W=t&&t.fastHandshake||!1)&&!this.o&&(this.o=!0),t&&t.forceLongPolling&&(this.oa=!1),this.fa=void 0}function Js(t){if(Zs(t),3==t.u){var e=t.P++,n=Ko(t.B);Qo(n,"SID",t.H),Qo(n,"RID",e),Qo(n,"TYPE","terminate"),na(t,n),(e=new So(t,e,void 0)).F=2,e.f=es(Ko(n)),n=!1,gr.navigator&&gr.navigator.sendBeacon&&(n=gr.navigator.sendBeacon(e.f.toString(),"")),!n&&gr.Image&&((new Image).src=e.f,n=!0),n||(e.a=e.g.$(null),e.a.ca(e.f)),e.v=Pr(),Ro(e)}ha(t)}function Zs(t){t.w&&(t.w.abort(),t.w=null),t.a&&(t.a.cancel(),t.a=null),t.l&&(gr.clearTimeout(t.l),t.l=null),aa(t),t.b.cancel(),t.h&&(wr(t.h)&&gr.clearTimeout(t.h),t.h=null)}function Qs(t,e){t.f.push(new Es(t.Qa++,e)),3==t.u&&ta(t)}function ta(t){Ss(t.b)||t.h||(t.h=!0,Ki(t.Ha,t),t.A=0)}function ea(t,e){var n;n=e?e.W:t.P++;var r=Ko(t.B);Qo(r,"SID",t.H),Qo(r,"RID",n),Qo(r,"AID",t.O),na(t,r),t.g&&t.i&&Ys(r,t.g,t.i),n=new So(t,n,t.A+1),null===t.g&&(n.h=t.i),e&&(t.f=e.j.concat(t.f)),e=ra(t,n,1e3),n.setTimeout(Math.round(.5*t.qa)+Math.round(.5*t.qa*Math.random())),ks(t.b,n),Co(n,r,e)}function na(t,e){t.c&&$o({},(function(t,n){Qo(e,n,t)}))}function ra(t,e,n){n=Math.min(t.f.length,n);var r=t.c?Dr(t.c.Sa,t.c,t):null;t:for(var i=t.f,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,h=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{Ls(h,s,"req"+c+"_")}catch(t){r&&r(h)}}if(a){r=s.join("&");break t}}return t=t.f.splice(0,n),e.j=t,r}function ia(t){t.a||t.l||(t.S=1,Ki(t.Ga,t),t.v=0)}function oa(t){return!(t.a||t.l||3<=t.v)&&(t.S++,t.l=vo(Dr(t.Ga,t),ua(t,t.v)),t.v++,!0)}function sa(t,e,n){var r=e.l;r&&As(t.b,r),t.ia=t.oa&&n,t.m=e.c,t.B=la(t,null,t.ha),ta(t)}function aa(t){null!=t.s&&(gr.clearTimeout(t.s),t.s=null)}function ua(t,e){var n=t.Na+Math.floor(Math.random()*t.Ra);return t.ma()||(n*=2),n*e}function ca(t,e){if(2==e){var n=null;t.c&&(n=null);var r=Dr(t.eb,t);n||(n=new Wo("//www.google.com/images/cleardot.gif"),gr.location&&"http"==gr.location.protocol||Yo(n,"https"),es(n)),function(t,e){var n=new ao;if(gr.Image){var r=new Image;r.onload=xr(Rs,n,r,"TestLoadImage: loaded",!0,e),r.onerror=xr(Rs,n,r,"TestLoadImage: error",!1,e),r.onabort=xr(Rs,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=xr(Rs,n,r,"TestLoadImage: timeout",!1,e),gr.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else fo(2);t.u=0,t.c&&t.c.ta(e),ha(t),Zs(t)}function ha(t){t.u=0,t.m=-1,t.c&&(0==Ds(t.b).length&&0==t.f.length||(t.b.c.length=0,Vr(t.f),t.f.length=0),t.c.sa())}function la(t,e,n){var r=function(t){return t instanceof Wo?Ko(t):new Wo(t,void 0)}(n);if(""!=r.b)e&&Xo(r,e+"."+r.b),Jo(r,r.i);else{var i,o=gr.location;i=e?e+"."+o.hostname:o.hostname,r=function(t,e,n,r){var i=new Wo(null,void 0);return t&&Yo(i,t),e&&Xo(i,e),n&&Jo(i,n),r&&(i.a=r),i}(o.protocol,i,+o.port,n)}return t.V&&Wr(t.V,(function(t,e){Qo(r,e,t)})),e=t.j,n=t.I,e&&n&&Qo(r,e,n),Qo(r,"VER",t.wa),na(t,r),r}function fa(){}function pa(){if(ei&&!(10<=Number(hi)))throw Error("Environmental error: no available transport.")}function da(t,e){Ui.call(this),this.a=new Xs(e),this.g=t,this.m=e&&e.fb?e.fb:function(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var r,i=arguments[n];if(0==i.lastIndexOf("/",0))e=i;else(r=""==e)||(r=0<=(r=e.length-1)&&e.indexOf("/",r)==r),e+=r?i:"/"+i}return e}(this.g,"test"),this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.i=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.xa&&(t?t["X-WebChannel-Client-Profile"]=e.xa:t={"X-WebChannel-Client-Profile":e.xa}),this.a.J=t,(t=e&&e.httpHeadersOverwriteParam)&&!Fr(t)&&(this.a.g=t),this.l=e&&e.supportsCrossDomainXhr||!1,this.h=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Fr(e)&&(this.a.j=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new ma(this)}function va(t){To.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function ya(){Io.call(this),this.status=1}function ma(t){this.a=t}(vr=js.prototype).ca=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+t);e=e?e.toUpperCase():"GET",this.A=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?bo(this.H):bo(_o),this.a.onreadystatechange=Dr(this.Ea,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(t){return void Bs(this,t)}t=n||"";var i=new Bo(this.headers);r&&$o(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=$s,n=t.length,r=br(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:br(t)?t.charAt(e):t[e]}(i.K()),n=gr.FormData&&t instanceof gr.FormData,!(0<=Mr(Fs,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Hs(this),0<this.o&&((this.D=function(t){return ei&&fi(9)&&wr(t.timeout)&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Dr(this.Ba,this)):this.m=to(this.Ba,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){Bs(this,t)}},vr.Ba=function(){void 0!==mr&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},vr.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Gs(this))},vr.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Gs(this,!0)),js.N.G.call(this)},vr.Ea=function(){this.j||(this.w||this.l||this.g?zs(this):this.Za())},vr.Za=function(){zs(this)},vr.T=function(){try{return 2<Ws(this)?this.a.status:-1}catch(t){return-1}},vr.aa=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},vr.Ua=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Ms(e)}},vr.ya=function(){return this.h},vr.Xa=function(){return br(this.f)?this.f:String(this.f)},(vr=Xs.prototype).wa=8,vr.u=1,vr.Ca=function(){return 0==this.u},vr.Ha=function(t){if(this.h)if(this.h=null,1==this.u){if(!t){this.P=Math.floor(1e5*Math.random());var e,n=new So(this,t=this.P++,void 0),r=this.i;if(this.J&&(r?Xr(r=Kr(r),this.J):r=this.J),null===this.g&&(n.h=r),this.W)t:{for(var i=e=0;i<this.f.length;i++){var o=this.f[i];if(void 0===(o="__data__"in o.a&&br(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.f.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=ra(this,n,e),Qo(i=Ko(this.B),"RID",t),Qo(i,"CVER",22),this.o&&this.j&&Qo(i,"X-HTTP-Session-Id",this.j),na(this,i),this.g&&r&&Ys(i,this.g,r),ks(this.b,n),this.W?(Qo(i,"$req",e),Qo(i,"SID","null"),n.S=!0,Co(n,i,null)):Co(n,i,e),this.u=2}}else 3==this.u&&(t?ea(this,t):0==this.f.length||Ss(this.b)||ea(this))},vr.Ga=function(){this.l=null,this.a=new So(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var t=Ko(this.pa);Qo(t,"RID","rpc"),Qo(t,"SID",this.H),Qo(t,"CI",this.ia?"0":"1"),Qo(t,"AID",this.O),na(this,t),Qo(t,"TYPE","xmlhttp"),this.g&&this.i&&Ys(t,this.g,this.i),this.D&&this.a.setTimeout(this.D),Do(this.a,t,!0,this.ga)},vr.Fa=function(t,e){if(0!=this.u&&(this.a==t||Os(this.b,t)))if(this.m=t.o,!t.s&&Os(this.b,t)&&3==this.u){try{var n=this.ja.a.parse(e)}catch(t){n=null}if(Ir(n)&&3==n.length){if(0==(e=n)[0]){t:if(!this.l){if(this.a){if(!(this.a.v+3e3<t.v))break t;aa(this),this.a.cancel(),this.a=null}oa(this),fo(18)}}else this.ra=e[1],0<this.ra-this.O&&37500>e[2]&&this.ia&&0==this.v&&!this.s&&(this.s=vo(Dr(this.Ya,this),6e3));if(1>=Ns(this.b)&&this.fa){try{this.fa()}catch(t){}this.fa=void 0}}else ca(this,11)}else if((t.s||this.a==t)&&aa(this),!Fr(e))for(e=n=this.ja.a.parse(e),n=0;n<e.length;n++){var r=e[n];if(this.O=r[0],r=r[1],2==this.u)if("c"==r[0]){this.H=r[1],this.ga=r[2];var i=r[3];null!=i&&(this.wa=i),null!=(r=r[5])&&wr(r)&&0<r&&(this.D=1.5*r),this.o&&(r=t.a)&&((i=Ks(r,"X-Client-Wire-Protocol"))&&As(this.b,i),this.j&&(r=Ks(r,"X-HTTP-Session-Id")))&&(this.I=r,Qo(this.B,this.j,r)),this.u=3,this.c&&this.c.va(),r=t,this.pa=la(this,this.Y()?this.ga:null,this.ha),r.s?(Cs(this.b,r),(i=this.D)&&r.setTimeout(i),r.i&&(jo(r),Ro(r)),this.a=r):ia(this),0<this.f.length&&ta(this)}else"stop"!=r[0]&&"close"!=r[0]||ca(this,7);else 3==this.u&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?ca(this,7):Js(this):"noop"!=r[0]&&this.c&&this.c.ua(r),this.v=0)}},vr.Ya=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,oa(this),fo(19))},vr.na=function(t){var e=null;if(this.a==t){aa(this),this.a=null;var n=2}else{if(!Os(this.b,t))return;e=t.j,Cs(this.b,t),n=1}if(this.m=t.o,0!=this.u)if(t.b)1==n?(e=Pr()-t.v,uo.dispatchEvent(new po(uo,t.l?t.l.length:0,e,this.A)),ta(this)):ia(this);else{var r=t.c;if(3==r||0==r&&0<this.m||!(1==n&&function(t,e){return!(Ns(t.b)>=t.b.f-(t.h?1:0))&&(t.h?(t.f=e.j.concat(t.f),!0):!(1==t.u||2==t.u||t.A>=(t.Oa?0:t.Pa))&&(t.h=vo(Dr(t.Ha,t,e),ua(t,t.A)),t.A++,!0))}(this,t)||2==n&&oa(this)))switch(e&&0<e.length&&(t=this.b,t.c=t.c.concat(e)),r){case 1:ca(this,5);break;case 4:ca(this,10);break;case 3:ca(this,6);break;default:ca(this,2)}}},vr.eb=function(t){fo(t?2:1)},vr.$=function(t){if(t&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new js(this.Ka)).F=this.R,t},vr.ma=function(){return!!this.c&&!0},vr.Y=function(){return this.R},(vr=fa.prototype).va=function(){},vr.ua=function(){},vr.ta=function(){},vr.sa=function(){},vr.Sa=function(){},pa.prototype.a=function(t,e){return new da(t,e)},Lr(da,Ui),(vr=da.prototype).addEventListener=function(t,e,n,r){da.N.addEventListener.call(this,t,e,n,r)},vr.removeEventListener=function(t,e,n,r){da.N.removeEventListener.call(this,t,e,n,r)},vr.Va=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var t=this.a,e=this.m,n=this.g,r=this.b||void 0;fo(0),t.ha=n,t.V=r||{},t.o&&(t.F.b=[],t.F.a=!1),t.w=new ms(t),null===t.g&&(t.w.h=t.i),n=e,t.g&&t.i&&(n=Ys(e,t.g,t.i)),(t=t.w).i=n,e=la(t.a,null,t.i),fo(3),null!=(n=t.a.F.b)?(t.f=n[0],t.M=1,gs(t)):(ts(e,"MODE","init"),!t.a.o&&t.a.j&&ts(e,"X-HTTP-Session-Id",t.a.j),t.b=new So(t,void 0,void 0),t.b.h=t.h,Do(t.b,e,!1,null),t.M=0)},vr.close=function(){Js(this.a)},vr.Wa=function(t){if(br(t)){var e={};e.__data__=t,Qs(this.a,e)}else this.h?((e={}).__data__=Fi(t),Qs(this.a,e)):Qs(this.a,t)},vr.G=function(){this.a.c=null,delete this.f,Js(this.a),delete this.a,da.N.G.call(this)},Lr(va,To),Lr(ya,Io),Lr(ma,fa),ma.prototype.va=function(){this.a.dispatchEvent("a")},ma.prototype.ua=function(t){this.a.dispatchEvent(new va(t))},ma.prototype.ta=function(t){this.a.dispatchEvent(new ya(t))},ma.prototype.sa=function(){this.a.dispatchEvent("b")};var ga=xr((function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r}),pa);pa.prototype.createWebChannel=pa.prototype.a,da.prototype.send=da.prototype.Wa,da.prototype.open=da.prototype.Va,da.prototype.close=da.prototype.close,yo.NO_ERROR=0,yo.TIMEOUT=8,yo.HTTP_ERROR=6,mo.COMPLETE="complete",wo.EventType=Eo,Eo.OPEN="a",Eo.CLOSE="b",Eo.ERROR="c",Eo.MESSAGE="d",Ui.prototype.listen=Ui.prototype.za,js.prototype.listenOnce=js.prototype.Aa,js.prototype.getLastError=js.prototype.Xa,js.prototype.getLastErrorCode=js.prototype.ya,js.prototype.getStatus=js.prototype.T,js.prototype.getResponseJson=js.prototype.Ua,js.prototype.getResponseText=js.prototype.aa,js.prototype.send=js.prototype.ca;var ba={createWebChannelTransport:ga,ErrorCode:yo,EventType:mo,WebChannel:wo,XhrIo:js},wa=he((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n,r=_e,i=(n=Le)&&"object"==typeof n&&"default"in n?n.default:n,o=fr,s=pr,a=dr,u=ba,c=i.SDK_VERSION,h=function(){function t(t){this.uid=t}return t.prototype.t=function(){return null!=this.uid},t.prototype.s=function(){return this.t()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();h.UNAUTHENTICATED=new h(null),h.i=new h("google-credentials-uid"),h.h=new h("first-party-uid");
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var l={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},f=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return r.__extends(e,t),e}(Error),p=function(t,e){this.user=e,this.type="OAuth",this.o={},this.o.Authorization="Bearer "+t},d=function(){function t(){this.u=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype._=function(){},t.prototype.l=function(t){this.u=t,t(h.UNAUTHENTICATED)},t.prototype.T=function(){this.u=null},t}(),v=function(){function t(t){var e=this;this.I=null,this.currentUser=h.UNAUTHENTICATED,this.R=!1,this.A=0,this.u=null,this.forceRefresh=!1,this.I=function(){e.A++,e.currentUser=e.m(),e.R=!0,e.u&&e.u(e.currentUser)},this.A=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.I):(this.I(null),t.get().then((function(t){e.auth=t,e.I&&e.auth.addAuthTokenListener(e.I)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.A,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){if(t.A!==e)throw new f(l.ABORTED,"getToken aborted due to token change.");return n?(Ie("string"==typeof n.accessToken),new p(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype._=function(){this.forceRefresh=!0},t.prototype.l=function(t){this.u=t,this.R&&t(this.currentUser)},t.prototype.T=function(){this.auth&&this.auth.removeAuthTokenListener(this.I),this.I=null,this.u=null},t.prototype.m=function(){var t=this.auth&&this.auth.getUid();return Ie(null===t||"string"==typeof t),new h(t)},t}(),y=function(){function t(t,e){this.P=t,this.V=e,this.type="FirstParty",this.user=h.h}return Object.defineProperty(t.prototype,"o",{get:function(){var t={"X-Goog-AuthUser":this.V},e=this.P.auth.g([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),t}(),m=function(){function t(t,e){this.P=t,this.V=e}return t.prototype.getToken=function(){return Promise.resolve(new y(this.P,this.V))},t.prototype.l=function(t){t(h.h)},t.prototype.T=function(){},t.prototype._=function(){},t}(),g=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new f(l.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new f(l.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new f(l.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new f(l.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.p=function(t){return this.seconds===t.seconds?Se(this.nanoseconds,t.nanoseconds):Se(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),b=function(){function t(t){this.timestamp=t}return t.v=function(e){return new t(e)},t.S=function(){return t.MIN},t.prototype.D=function(t){return this.timestamp.p(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.C=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.F=function(){return this.timestamp},t}();b.MIN=new b(new g(0,0));var w=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Te(),void 0===n?n=t.length-e:n>t.length-e&&Te(),this.segments=t,this.offset=e,this.N=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.N},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.k(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.$(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.M=function(t){return t=void 0===t?1:t,this.$(this.segments,this.offset+t,this.length-t)},t.prototype.L=function(){return this.$(this.segments,this.offset,this.length-1)},t.prototype.O=function(){return this.segments[this.offset]},t.prototype.B=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.q=function(){return 0===this.length},t.prototype.U=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.W=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.j=function(){return this.segments.slice(this.offset,this.limit())},t.k=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.$=function(t,n,r){return new e(t,n,r)},e.prototype.K=function(){return this.j().join("/")},e.prototype.toString=function(){return this.K()},e.G=function(t){if(t.indexOf("//")>=0)throw new f(l.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter((function(t){return t.length>0})))},e}(w);_.H=new _([]);var E=/^[_a-zA-Z][_a-zA-Z0-9]*$/,T=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.$=function(t,n,r){return new e(t,n,r)},e.Y=function(t){return E.test(t)},e.prototype.K=function(){return this.j().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.Y(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.K()},e.prototype.J=function(){return 1===this.length&&"__name__"===this.get(0)},e.X=function(){return new e(["__name__"])},e.Z=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new f(l.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new f(l.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new f(l.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new f(l.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e}(w);T.H=new T([]);
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var I=function(){function t(t){this.path=t}return t.tt=function(e){return new t(_.G(e).M(5))},t.prototype.et=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===_.k(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.k=function(t,e){return _.k(t.path,e.path)},t.st=function(t){return t.length%2==0},t.it=function(e){return new t(new _(e.slice()))},t}();I.EMPTY=new I(new _([]));
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var A=function(){function t(t,e){this.k=t,this.root=e||N.EMPTY}return t.prototype.nt=function(e,n){return new t(this.k,this.root.nt(e,n,this.k).rt(null,null,N.ht,null,null))},t.prototype.remove=function(e){return new t(this.k,this.root.remove(e,this.k).rt(null,null,N.ht,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.q();){var n=this.k(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.q();){var r=this.k(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.q=function(){return this.root.q()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.ot=function(){return this.root.ot()},t.prototype.at=function(){return this.root.at()},t.prototype.ut=function(t){return this.root.ut(t)},t.prototype.forEach=function(t){this.ut((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.ut((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.ct=function(t){return this.root.ct(t)},t.prototype._t=function(){return new S(this.root,null,this.k,!1)},t.prototype.lt=function(t){return new S(this.root,t,this.k,!1)},t.prototype.dt=function(){return new S(this.root,null,this.k,!0)},t.prototype.ft=function(t){return new S(this.root,t,this.k,!0)},t}(),S=function(){function t(t,e,n,r){this.Tt=r,this.Et=[];for(var i=1;!t.q();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.Tt?t.left:t.right;else{if(0===i){this.Et.push(t);break}this.Et.push(t),t=this.Tt?t.right:t.left}}return t.prototype.It=function(){var t=this.Et.pop(),e={key:t.key,value:t.value};if(this.Tt)for(t=t.left;!t.q();)this.Et.push(t),t=t.right;else for(t=t.right;!t.q();)this.Et.push(t),t=t.left;return e},t.prototype.wt=function(){return this.Et.length>0},t.prototype.Rt=function(){if(0===this.Et.length)return null;var t=this.Et[this.Et.length-1];return{key:t.key,value:t.value}},t}(),N=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.rt=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.q=function(){return!1},t.prototype.ut=function(t){return this.left.ut(t)||t(this.key,this.value)||this.right.ut(t)},t.prototype.ct=function(t){return this.right.ct(t)||t(this.key,this.value)||this.left.ct(t)},t.prototype.min=function(){return this.left.q()?this:this.left.min()},t.prototype.ot=function(){return this.min().key},t.prototype.at=function(){return this.right.q()?this.key:this.right.at()},t.prototype.nt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.rt(null,null,null,r.left.nt(t,e,n),null):0===i?r.rt(null,e,null,null,null):r.rt(null,null,null,null,r.right.nt(t,e,n))).At()},t.prototype.Pt=function(){if(this.left.q())return t.EMPTY;var e=this;return e.left.Vt()||e.left.left.Vt()||(e=e.gt()),(e=e.rt(null,null,null,e.left.Pt(),null)).At()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.q()||i.left.Vt()||i.left.left.Vt()||(i=i.gt()),i=i.rt(null,null,null,i.left.remove(e,n),null);else{if(i.left.Vt()&&(i=i.pt()),i.right.q()||i.right.Vt()||i.right.left.Vt()||(i=i.yt()),0===n(e,i.key)){if(i.right.q())return t.EMPTY;r=i.right.min(),i=i.rt(r.key,r.value,null,null,i.right.Pt())}i=i.rt(null,null,null,null,i.right.remove(e,n))}return i.At()},t.prototype.Vt=function(){return this.color},t.prototype.At=function(){var t=this;return t.right.Vt()&&!t.left.Vt()&&(t=t.bt()),t.left.Vt()&&t.left.left.Vt()&&(t=t.pt()),t.left.Vt()&&t.right.Vt()&&(t=t.vt()),t},t.prototype.gt=function(){var t=this.vt();return t.right.left.Vt()&&(t=(t=(t=t.rt(null,null,null,null,t.right.pt())).bt()).vt()),t},t.prototype.yt=function(){var t=this.vt();return t.left.left.Vt()&&(t=(t=t.pt()).vt()),t},t.prototype.bt=function(){var e=this.rt(null,null,t.RED,null,this.right.left);return this.right.rt(null,null,this.color,e,null)},t.prototype.pt=function(){var e=this.rt(null,null,t.RED,this.left.right,null);return this.left.rt(null,null,this.color,null,e)},t.prototype.vt=function(){var t=this.left.rt(null,null,!this.left.color,null,null),e=this.right.rt(null,null,!this.right.color,null,null);return this.rt(null,null,!this.color,t,e)},t.prototype.St=function(){var t=this.Dt();return Math.pow(2,t)<=this.size+1},t.prototype.Dt=function(){if(this.Vt()&&this.left.Vt())throw Te();if(this.right.Vt())throw Te();var t=this.left.Dt();if(t!==this.right.Dt())throw Te();return t+(this.Vt()?0:1)},t}();N.EMPTY=null,N.RED=!0,N.ht=!1,N.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Te()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Te()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Te()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Te()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Te()},enumerable:!0,configurable:!0}),t.prototype.rt=function(t,e,n,r,i){return this},t.prototype.nt=function(t,e,n){return new N(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.q=function(){return!0},t.prototype.ut=function(t){return!1},t.prototype.ct=function(t){return!1},t.prototype.ot=function(){return null},t.prototype.at=function(){return null},t.prototype.Vt=function(){return!1},t.prototype.St=function(){return!0},t.prototype.Dt=function(){return 0},t}());
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var O=function(){function t(t){this.k=t,this.data=new A(this.k)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.ot()},t.prototype.last=function(){return this.data.at()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ut((function(e,n){return t(e),!1}))},t.prototype.Ct=function(t,e){for(var n=this.data.lt(t[0]);n.wt();){var r=n.It();if(this.k(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ft=function(t,e){var n;for(n=void 0!==e?this.data.lt(e):this.data._t();n.wt();)if(!t(n.It().key))return},t.prototype.Nt=function(t){var e=this.data.lt(t);return e.wt()?e.It().key:null},t.prototype._t=function(){return new k(this.data._t())},t.prototype.lt=function(t){return new k(this.data.lt(t))},t.prototype.add=function(t){return this.rt(this.data.remove(t).nt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.rt(this.data.remove(t)):this},t.prototype.q=function(){return this.data.q()},t.prototype.kt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data._t(),r=e.data._t();n.wt();){var i=n.It().key,o=r.It().key;if(0!==this.k(i,o))return!1}return!0},t.prototype.j=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.rt=function(e){var n=new t(this.k);return n.data=e,n},t}(),k=function(){function t(t){this.$t=t}return t.prototype.It=function(){return this.$t.It().key},t.prototype.wt=function(){return this.$t.wt()},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function C(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function D(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function x(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var P=function(){function t(t){this.Mt=t}return t.fromBase64String=function(e){return new t(ve.Lt().atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return ve.Lt().btoa(this.Mt)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.Mt)},t.prototype.Ot=function(){return 2*this.Mt.length},t.prototype.D=function(t){return Se(this.Mt,t.Mt)},t.prototype.isEqual=function(t){return this.Mt===t.Mt},t}();function L(t){return null==t}function R(t){return-0===t&&1/t==-1/0}function M(t){return"number"==typeof t&&Number.isInteger(t)&&!R(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function j(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function U(t){var e=H(t.mapValue.fields.__local_write_time__.timestampValue);return new g(e.seconds,e.nanos)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */P.xt=new P("");var V=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function F(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?j(t)?4:10:Te()}function $(t,e){var n=F(t);if(n!==F(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return U(t).isEqual(U(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=H(t.timestampValue),r=H(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return K(t.bytesValue).isEqual(K(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return W(t.geoPointValue.latitude)===W(e.geoPointValue.latitude)&&W(t.geoPointValue.longitude)===W(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return W(t.integerValue)===W(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=W(t.doubleValue),r=W(e.doubleValue);return n===r?R(n)===R(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Ne(t.arrayValue.values||[],e.arrayValue.values||[],$);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(C(n)!==C(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!$(n[i],r[i])))return!1;return!0}(t,e);default:return Te()}}function B(t,e){return void 0!==(t.values||[]).find((function(t){return $(t,e)}))}function q(t,e){var n=F(t),r=F(e);if(n!==r)return Se(n,r);switch(n){case 0:return 0;case 1:return Se(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=W(t.integerValue||t.doubleValue),r=W(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return z(t.timestampValue,e.timestampValue);case 4:return z(U(t),U(e));case 5:return Se(t.stringValue,e.stringValue);case 6:return function(t,e){var n=K(t),r=K(e);return n.D(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Se(n[i],r[i]);if(0!==o)return o}return Se(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Se(W(t.latitude),W(e.latitude));return 0!==n?n:Se(W(t.longitude),W(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=q(n[i],r[i]);if(o)return o}return Se(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Se(r[s],o[s]);if(0!==a)return a;var u=q(n[r[s]],i[o[s]]);if(0!==u)return u}return Se(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Te()}}function z(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Se(t,e);var n=H(t),r=H(e),i=Se(n.seconds,r.seconds);return 0!==i?i:Se(n.nanos,r.nanos)}function G(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=H(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?K(e.bytesValue).toBase64():"referenceValue"in e?(r=e.referenceValue,I.tt(r).toString()):"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=t(s)}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):Te();var n,r}(t)}function H(t){if(Ie(!!t),"string"==typeof t){var e=0,n=V.exec(t);if(Ie(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:W(t.seconds),nanos:W(t.nanos)}}function W(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function K(t){return"string"==typeof t?P.fromBase64String(t):P.fromUint8Array(t)}function Y(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.K()}}function X(t){return!!t&&"integerValue"in t}function J(t){return!!t&&"arrayValue"in t}function Z(t){return!!t&&"nullValue"in t}function Q(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function tt(t){return!!t&&"mapValue"in t}
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var et=function(){function t(){}return t.prototype.Bt=function(t,e){return function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(e,t)},t.prototype.qt=function(t,e){return e},t.prototype.Ut=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t},t}();et.instance=new et;var nt=function(){function t(t){this.elements=t}return t.prototype.Bt=function(t,e){return this.apply(t)},t.prototype.qt=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=ot(t),n=function(t){e.some((function(e){return $(e,t)}))||e.push(t)},r=0,i=this.elements;r<i.length;r++)n(i[r]);return{arrayValue:{values:e}}},t.prototype.Ut=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&Ne(this.elements,e.elements,$)},t}(),rt=function(){function t(t){this.elements=t}return t.prototype.Bt=function(t,e){return this.apply(t)},t.prototype.qt=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=ot(t),n=function(t){e=e.filter((function(e){return!$(e,t)}))},r=0,i=this.elements;r<i.length;r++)n(i[r]);return{arrayValue:{values:e}}},t.prototype.Ut=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&Ne(this.elements,e.elements,$)},t}(),it=function(){function t(t,e){this.serializer=t,this.Qt=e}return t.prototype.Bt=function(t,e){var n=this.Ut(t),r=this.asNumber(n)+this.asNumber(this.Qt);return X(n)&&X(this.Qt)?this.serializer.Wt(r):this.serializer.jt(r)},t.prototype.qt=function(t,e){return e},t.prototype.Ut=function(t){return X(e=t)||function(t){return!!t&&"doubleValue"in t}(e)?t:{integerValue:0};var e},t.prototype.isEqual=function(e){return e instanceof t&&$(this.Qt,e.Qt)},t.prototype.asNumber=function(t){return W(t.integerValue||t.doubleValue)},t}();function ot(t){return J(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var st=function(){function t(t){this.fields=t}return t.Kt=function(e){return new t(e)},t.Gt=function(e){var n=new O(T.k);return e.forEach((function(t){return n=n.add(t)})),new t(n)},t.prototype.zt=function(t){var e=!1;return this.fields.forEach((function(n){n.U(t)&&(e=!0)})),e},t.prototype.isEqual=function(t){return this.fields.isEqual(t.fields)},t}(),at=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),ut=function(t,e){this.version=t,this.transformResults=e},ct=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Ht",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.Yt=function(t){return void 0!==this.updateTime?t instanceof bt&&t.version.isEqual(this.updateTime):void 0===this.exists||this.exists===t instanceof bt},t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();ct.NONE=new ct;var ht=function(){function t(){}return t.prototype.Jt=function(t){},t.Xt=function(t){return t instanceof bt?t.version:b.MIN},t}(),lt=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.Zt=r,i.type=0,i}return r.__extends(e,t),e.prototype.qt=function(t,e){this.Jt(t);var n=e.version;return new bt(this.key,n,this.value,{hasCommittedMutations:!0})},e.prototype.Bt=function(t,e,n){if(this.Jt(t),!this.Zt.Yt(t))return t;var r=ht.Xt(t);return new bt(this.key,r,this.value,{te:!0})},e.prototype.ee=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.Zt.isEqual(t.Zt)},e}(ht),ft=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.se=r,o.Zt=i,o.type=1,o}return r.__extends(e,t),e.prototype.qt=function(t,e){if(this.Jt(t),!this.Zt.Yt(t))return new _t(this.key,e.version);var n=this.ie(t);return new bt(this.key,e.version,n,{hasCommittedMutations:!0})},e.prototype.Bt=function(t,e,n){if(this.Jt(t),!this.Zt.Yt(t))return t;var r=ht.Xt(t),i=this.ie(t);return new bt(this.key,r,i,{te:!0})},e.prototype.ee=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.se.isEqual(t.se)&&this.Zt.isEqual(t.Zt)},e.prototype.ie=function(t){var e;return e=t instanceof bt?t.data():yt.EMPTY,this.ne(e)},e.prototype.ne=function(t){var e=this,n=t.re();return this.se.fields.forEach((function(t){if(!t.q()){var r=e.data.field(t);null!==r?n.set(t,r):n.delete(t)}})),n.he()},e}(ht),pt=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.Zt=ct.exists(!0),r}return r.__extends(e,t),e.prototype.qt=function(t,e){if(this.Jt(t),Ie(null!=e.transformResults),!this.Zt.Yt(t))return new _t(this.key,e.version);var n=this.oe(t),r=this.ae(t,e.transformResults),i=e.version,o=this.ue(n.data(),r);return new bt(this.key,i,o,{hasCommittedMutations:!0})},e.prototype.Bt=function(t,e,n){if(this.Jt(t),!this.Zt.Yt(t))return t;var r=this.oe(t),i=this.ce(n,t,e),o=this.ue(r.data(),i);return new bt(this.key,r.version,o,{te:!0})},e.prototype.ee=function(t){for(var e=null,n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],o=t instanceof bt?t.field(i.field):void 0,s=i.transform.Ut(o||null);null!=s&&(e=null==e?yt._e().set(i.field,s):e.set(i.field,s))}return e?e.he():null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&Ne(this.fieldTransforms,t.fieldTransforms,(function(t,e){return t.isEqual(e)}))&&this.Zt.isEqual(t.Zt)},e.prototype.oe=function(t){return t},e.prototype.ae=function(t,e){var n=[];Ie(this.fieldTransforms.length===e.length);for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],o=i.transform,s=null;t instanceof bt&&(s=t.field(i.field)),n.push(o.qt(s,e[r]))}return n},e.prototype.ce=function(t,e,n){for(var r=[],i=0,o=this.fieldTransforms;i<o.length;i++){var s=o[i],a=s.transform,u=null;e instanceof bt&&(u=e.field(s.field)),null===u&&n instanceof bt&&(u=n.field(s.field)),r.push(a.Bt(u,t))}return r},e.prototype.ue=function(t,e){for(var n=t.re(),r=0;r<this.fieldTransforms.length;r++){var i=this.fieldTransforms[r].field;n.set(i,e[r])}return n.he()},e}(ht),dt=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Zt=n,r.type=3,r}return r.__extends(e,t),e.prototype.qt=function(t,e){return this.Jt(t),new wt(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.Bt=function(t,e,n){return this.Jt(t),this.Zt.Yt(t)?new wt(this.key,b.S()):t},e.prototype.ee=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.Zt.isEqual(t.Zt)},e}(ht),vt=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Zt=n,r.type=4,r}return r.__extends(e,t),e.prototype.qt=function(t,e){Te()},e.prototype.Bt=function(t,e,n){Te()},e.prototype.ee=function(t){Te()},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.Zt.isEqual(t.Zt)},e}(ht),yt=function(){function t(t){this.proto=t}return t._e=function(){return t.EMPTY.re()},t.prototype.field=function(t){if(t.q())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!tt(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.B()])||null},t.prototype.se=function(){return this.le(this.proto.mapValue)},t.prototype.le=function(t){var e=this,n=new O(T.k);return D(t.fields||{},(function(t,r){var i=new T([t]);if(10===F(r)){var o=e.le(r.mapValue).fields;o.q()?n=n.add(i):o.forEach((function(t){n=n.add(i.child(t))}))}else n=n.add(i)})),st.Kt(n)},t.prototype.isEqual=function(t){return $(this.proto,t.proto)},t.prototype.re=function(){return new mt(this)},t}();yt.EMPTY=new yt({mapValue:{}});var mt=function(){function t(t){this.de=t,this.fe=new Map}return t.prototype.set=function(t,e){return this.Te(t,e),this},t.prototype.delete=function(t){return this.Te(t,null),this},t.prototype.Te=function(t,e){for(var n=this.fe,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===F(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.B(),e)},t.prototype.he=function(){var t=this.Ee(T.H,this.fe);return null!=t?new yt(t):this.de},t.prototype.Ee=function(t,e){var n=this,r=!1,i=this.de.field(t),o=tt(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.Ee(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}(),gt=function(){function t(t,e){this.key=t,this.version=e}return t.Ie=function(t,e){return I.k(t.key,e.key)},t}(),bt=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).we=r,o.te=!!i.te,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return r.__extends(e,t),e.prototype.field=function(t){return this.we.field(t)},e.prototype.data=function(){return this.we},e.prototype.Re=function(){return this.we.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.te===t.te&&this.hasCommittedMutations===t.hasCommittedMutations&&this.we.isEqual(t.we)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.we.toString()+", {hasLocalMutations: "+this.te+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.te||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.Ae=function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?q(r,i):Te()},e}(gt),wt=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return r.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(gt),_t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(gt),Et=function(){function t(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.me=null}return t.prototype.canonicalId=function(){if(null===this.me){var t=this.path.K();null!==this.collectionGroup&&(t+="|cg:"+this.collectionGroup),t+="|f:",t+=this.filters.map((function(t){return t.canonicalId()})).join(","),t+="|ob:",t+=this.orderBy.map((function(t){return t.canonicalId()})).join(","),L(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.me=t}return this.me},t.prototype.toString=function(){var t=this.path.K();return null!==this.collectionGroup&&(t+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),L(this.limit)||(t+=", limit: "+this.limit),this.orderBy.length>0&&(t+=", orderBy: ["+this.orderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),"Target("+t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(var n=0;n<this.filters.length;n++)if(!this.filters[n].isEqual(t.filters[n]))return!1;return this.collectionGroup===t.collectionGroup&&!!this.path.isEqual(t.path)&&!!(null!==this.startAt?this.startAt.isEqual(t.startAt):null===t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},t.prototype.Pe=function(){return I.st(this.path)&&null===this.collectionGroup&&0===this.filters.length},t}(),Tt=function(){function t(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Ve=n,this.filters=r,this.limit=i,this.ge=o,this.startAt=s,this.endAt=a,this.pe=null,this.ye=null,this.startAt&&this.be(this.startAt),this.endAt&&this.be(this.endAt)}return t.ve=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.pe){var t=this.Se(),e=this.De();if(null!==t&&null===e)t.J()?this.pe=[Mt]:this.pe=[new Rt(t),Mt];else{this.pe=[];for(var n=!1,r=0,i=this.Ve;r<i.length;r++){var o=i[r];this.pe.push(o),o.field.J()&&(n=!0)}if(!n){var s=this.Ve.length>0?this.Ve[this.Ve.length-1].dir:Dt.ASCENDING;this.pe.push(s===Dt.ASCENDING?Mt:jt)}}}return this.pe},enumerable:!0,configurable:!0}),t.prototype.Ce=function(e){var n=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.Ve.slice(),n,this.limit,this.ge,this.startAt,this.endAt)},t.prototype.Fe=function(e){var n=this.Ve.concat([e]);return new t(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.ge,this.startAt,this.endAt)},t.prototype.Ne=function(e){return new t(this.path,this.collectionGroup,this.Ve.slice(),this.filters.slice(),e,"F",this.startAt,this.endAt)},t.prototype.ke=function(e){return new t(this.path,this.collectionGroup,this.Ve.slice(),this.filters.slice(),e,"L",this.startAt,this.endAt)},t.prototype.$e=function(e){return new t(this.path,this.collectionGroup,this.Ve.slice(),this.filters.slice(),this.limit,this.ge,e,this.endAt)},t.prototype.Me=function(e){return new t(this.path,this.collectionGroup,this.Ve.slice(),this.filters.slice(),this.limit,this.ge,this.startAt,e)},t.prototype.Le=function(e){return new t(e,null,this.Ve.slice(),this.filters.slice(),this.limit,this.ge,this.startAt,this.endAt)},t.prototype.Oe=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.Ve.length||1===this.Ve.length&&this.Ve[0].field.J())},t.prototype.canonicalId=function(){return this.xe().canonicalId()+"|lt:"+this.ge},t.prototype.toString=function(){return"Query(target="+this.xe().toString()+"; limitType="+this.ge+")"},t.prototype.isEqual=function(t){return this.xe().isEqual(t.xe())&&this.ge===t.ge},t.prototype.Be=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],s=o.compare(t,e);if(0!==s)return s;n=n||o.field.J()}return 0},t.prototype.matches=function(t){return this.qe(t)&&this.Ue(t)&&this.Qe(t)&&this.We(t)},t.prototype.je=function(){return!L(this.limit)&&"F"===this.ge},t.prototype.Ke=function(){return!L(this.limit)&&"L"===this.ge},t.prototype.De=function(){return this.Ve.length>0?this.Ve[0].field:null},t.prototype.Se=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof At&&n.Ge())return n.field}return null},t.prototype.ze=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(r instanceof At&&t.indexOf(r.op)>=0)return r.op}return null},t.prototype.Pe=function(){return this.xe().Pe()},t.prototype.He=function(){return null!==this.collectionGroup},t.prototype.xe=function(){if(!this.ye)if("F"===this.ge)this.ye=new Et(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var t=[],e=0,n=this.orderBy;e<n.length;e++){var r=n[e],i=r.dir===Dt.DESCENDING?Dt.ASCENDING:Dt.DESCENDING;t.push(new Rt(r.field,i))}var o=this.endAt?new Lt(this.endAt.position,!this.endAt.before):null,s=this.startAt?new Lt(this.startAt.position,!this.startAt.before):null;this.ye=new Et(this.path,this.collectionGroup,t,this.filters,this.limit,o,s)}return this.ye},t.prototype.qe=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.et(this.collectionGroup)&&this.path.U(e):I.st(this.path)?this.path.isEqual(e):this.path.W(e)},t.prototype.Ue=function(t){for(var e=0,n=this.Ve;e<n.length;e++){var r=n[e];if(!r.field.J()&&null===t.field(r.field))return!1}return!0},t.prototype.Qe=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.We=function(t){return!(this.startAt&&!this.startAt.Ye(this.orderBy,t)||this.endAt&&this.endAt.Ye(this.orderBy,t))},t.prototype.be=function(t){},t}(),It=function(){function t(t){this.name=t}return t.G=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;case"array-contains":return t.ARRAY_CONTAINS;case"in":return t.IN;case"array-contains-any":return t.ARRAY_CONTAINS_ANY;default:return Te()}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */It.LESS_THAN=new It("<"),It.LESS_THAN_OR_EQUAL=new It("<="),It.EQUAL=new It("=="),It.GREATER_THAN=new It(">"),It.GREATER_THAN_OR_EQUAL=new It(">="),It.ARRAY_CONTAINS=new It("array-contains"),It.IN=new It("in"),It.ARRAY_CONTAINS_ANY=new It("array-contains-any");var At=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return r.__extends(e,t),e.create=function(t,n,r){if(t.J())return n===It.IN?new Nt(t,r):new St(t,n,r);if(Z(r)){if(n!==It.EQUAL)throw new f(l.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new e(t,n,r)}if(Q(r)){if(n!==It.EQUAL)throw new f(l.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new e(t,n,r)}return n===It.ARRAY_CONTAINS?new Ot(t,r):n===It.IN?new kt(t,r):n===It.ARRAY_CONTAINS_ANY?new Ct(t,r):new e(t,n,r)},e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&F(this.value)===F(e)&&this.Je(q(e,this.value))},e.prototype.Je=function(t){switch(this.op){case It.LESS_THAN:return t<0;case It.LESS_THAN_OR_EQUAL:return t<=0;case It.EQUAL:return 0===t;case It.GREATER_THAN:return t>0;case It.GREATER_THAN_OR_EQUAL:return t>=0;default:return Te()}},e.prototype.Ge=function(){return[It.LESS_THAN,It.LESS_THAN_OR_EQUAL,It.GREATER_THAN,It.GREATER_THAN_OR_EQUAL].indexOf(this.op)>=0},e.prototype.canonicalId=function(){return this.field.K()+this.op.toString()+G(this.value)},e.prototype.isEqual=function(t){return t instanceof e&&this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&$(this.value,t.value)},e.prototype.toString=function(){return this.field.K()+" "+this.op+" "+G(this.value)},e}((function(){})),St=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=I.tt(r.referenceValue),i}return r.__extends(e,t),e.prototype.matches=function(t){var e=I.k(t.key,this.key);return this.Je(e)},e}(At),Nt=function(t){function e(e,n){var r=this;return(r=t.call(this,e,It.IN,n)||this).keys=(n.arrayValue.values||[]).map((function(t){return I.tt(t.referenceValue)})),r}return r.__extends(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(At),Ot=function(t){function e(e,n){return t.call(this,e,It.ARRAY_CONTAINS,n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return J(e)&&B(e.arrayValue,this.value)},e}(At),kt=function(t){function e(e,n){return t.call(this,e,It.IN,n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&B(this.value.arrayValue,e)},e}(At),Ct=function(t){function e(e,n){return t.call(this,e,It.ARRAY_CONTAINS_ANY,n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!J(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return B(e.value.arrayValue,t)}))},e}(At),Dt=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t}();Dt.ASCENDING=new Dt("asc"),Dt.DESCENDING=new Dt("desc");var xt,Pt,Lt=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){return(this.before?"b":"a")+":"+this.position.map((function(t){return G(t)})).join(",")},t.prototype.Ye=function(t,e){for(var n=0,r=0;r<this.position.length;r++){var i=t[r],o=this.position[r];if(n=i.field.J()?I.k(I.tt(o.referenceValue),e.key):q(o,e.field(i.field)),i.dir===Dt.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++)if(!$(this.position[e],t.position[e]))return!1;return!0},t}(),Rt=function(){function t(t,e){this.field=t,void 0===e&&(e=Dt.ASCENDING),this.dir=e,this.Xe=t.J()}return t.prototype.compare=function(t,e){var n=this.Xe?bt.Ie(t,e):bt.Ae(this.field,t,e);switch(this.dir){case Dt.ASCENDING:return n;case Dt.DESCENDING:return-1*n;default:return Te()}},t.prototype.canonicalId=function(){return this.field.K()+this.dir.toString()},t.prototype.toString=function(){return this.field.K()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),Mt=new Rt(T.X(),Dt.ASCENDING),jt=new Rt(T.X(),Dt.DESCENDING),Ut=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=b.MIN),void 0===o&&(o=b.MIN),void 0===s&&(s=P.xt),this.target=t,this.targetId=e,this.Ze=n,this.sequenceNumber=r,this.ts=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.es=function(e){return new t(this.target,this.targetId,this.Ze,e,this.ts,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.ss=function(e,n){return new t(this.target,this.targetId,this.Ze,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.ns=function(e){return new t(this.target,this.targetId,this.Ze,this.sequenceNumber,this.ts,e,this.resumeToken)},t}(),Vt=function(t){this.count=t};function Ft(t){switch(t){case l.OK:return Te();case l.CANCELLED:case l.UNKNOWN:case l.DEADLINE_EXCEEDED:case l.RESOURCE_EXHAUSTED:case l.INTERNAL:case l.UNAVAILABLE:case l.UNAUTHENTICATED:return!1;case l.INVALID_ARGUMENT:case l.NOT_FOUND:case l.ALREADY_EXISTS:case l.PERMISSION_DENIED:case l.FAILED_PRECONDITION:case l.ABORTED:case l.OUT_OF_RANGE:case l.UNIMPLEMENTED:case l.DATA_LOSS:return!0;default:return Te()}}function $t(t){if(void 0===t)return we("GRPC error has no .code"),l.UNKNOWN;switch(t){case xt.OK:return l.OK;case xt.CANCELLED:return l.CANCELLED;case xt.UNKNOWN:return l.UNKNOWN;case xt.DEADLINE_EXCEEDED:return l.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return l.RESOURCE_EXHAUSTED;case xt.INTERNAL:return l.INTERNAL;case xt.UNAVAILABLE:return l.UNAVAILABLE;case xt.UNAUTHENTICATED:return l.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return l.INVALID_ARGUMENT;case xt.NOT_FOUND:return l.NOT_FOUND;case xt.ALREADY_EXISTS:return l.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return l.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return l.FAILED_PRECONDITION;case xt.ABORTED:return l.ABORTED;case xt.OUT_OF_RANGE:return l.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return l.UNIMPLEMENTED;case xt.DATA_LOSS:return l.DATA_LOSS;default:return Te()}}(Pt=xt||(xt={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Bt=new A(I.k);function qt(){return Bt}function zt(){return qt()}var Gt=new A(I.k);function Ht(){return Gt}var Wt=new A(I.k);function Kt(){return Wt}var Yt=new O(I.k);function Xt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Yt,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Jt=new O(Se);function Zt(){return Jt}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Qt=function(){function t(t){this.k=t?function(e,n){return t(e,n)||I.k(e.key,n.key)}:function(t,e){return I.k(t.key,e.key)},this.rs=Ht(),this.hs=new A(this.k)}return t.os=function(e){return new t(e.k)},t.prototype.has=function(t){return null!=this.rs.get(t)},t.prototype.get=function(t){return this.rs.get(t)},t.prototype.first=function(){return this.hs.ot()},t.prototype.last=function(){return this.hs.at()},t.prototype.q=function(){return this.hs.q()},t.prototype.indexOf=function(t){var e=this.rs.get(t);return e?this.hs.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.hs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.hs.ut((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.rt(e.rs.nt(t.key,t),e.hs.nt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.rt(this.rs.remove(t),this.hs.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.hs._t(),r=e.hs._t();n.wt();){var i=n.It().key,o=r.It().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.rt=function(e,n){var r=new t;return r.k=this.k,r.rs=e,r.hs=n,r},t}(),te=function(){function t(){this.as=new A(I.k)}return t.prototype.track=function(t){var e=t.doc.key,n=this.as.get(e);n?0!==t.type&&3===n.type?this.as=this.as.nt(e,t):3===t.type&&1!==n.type?this.as=this.as.nt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.as=this.as.nt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.as=this.as.nt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.as=this.as.remove(e):1===t.type&&2===n.type?this.as=this.as.nt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.as=this.as.nt(e,{type:2,doc:t.doc}):Te():this.as=this.as.nt(e,t)},t.prototype.us=function(){var t=[];return this.as.ut((function(e,n){t.push(n)})),t},t}(),ee=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.cs=n,this.docChanges=r,this._s=i,this.fromCache=o,this.ls=s,this.ds=a}return t.fs=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Qt.os(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this._s.q()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.ls===t.ls&&this._s.isEqual(t._s)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.cs.isEqual(t.cs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),ne=function(){function t(t,e,n,r,i){this.ts=t,this.Ts=e,this.Es=n,this.Is=r,this.ws=i}return t.Rs=function(e,n){var r=new Map;return r.set(e,re.As(e,n)),new t(b.MIN,r,Zt(),qt(),Xt())},t}(),re=function(){function t(t,e,n,r,i){this.resumeToken=t,this.ms=e,this.Ps=n,this.Vs=r,this.gs=i}return t.As=function(e,n){return new t(P.xt,n,Xt(),Xt(),Xt())},t}(),ie=function(t,e,n,r){this.ps=t,this.removedTargetIds=e,this.key=n,this.ys=r},oe=function(t,e){this.targetId=t,this.bs=e},se=function(t,e,n,r){void 0===n&&(n=P.xt),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},ae=function(){function t(){this.vs=0,this.Ss=he(),this.Ds=P.xt,this.Cs=!1,this.Fs=!0}return Object.defineProperty(t.prototype,"ms",{get:function(){return this.Cs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Ds},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Ns",{get:function(){return 0!==this.vs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ks",{get:function(){return this.Fs},enumerable:!0,configurable:!0}),t.prototype.$s=function(t){t.Ot()>0&&(this.Fs=!0,this.Ds=t)},t.prototype.Ms=function(){var t=Xt(),e=Xt(),n=Xt();return this.Ss.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Te()}})),new re(this.Ds,this.Cs,t,e,n)},t.prototype.Ls=function(){this.Fs=!1,this.Ss=he()},t.prototype.Os=function(t,e){this.Fs=!0,this.Ss=this.Ss.nt(t,e)},t.prototype.xs=function(t){this.Fs=!0,this.Ss=this.Ss.remove(t)},t.prototype.Bs=function(){this.vs+=1},t.prototype.qs=function(){this.vs-=1},t.prototype.Us=function(){this.Fs=!0,this.Cs=!0},t}(),ue=function(){function t(t){this.Qs=t,this.Ws=new Map,this.js=qt(),this.Ks=ce(),this.Gs=new O(Se)}return t.prototype.zs=function(t){for(var e=0,n=t.ps;e<n.length;e++){var r=n[e];t.ys instanceof bt?this.Hs(r,t.ys):t.ys instanceof wt&&this.Ys(r,t.key,t.ys)}for(var i=0,o=t.removedTargetIds;i<o.length;i++){var s=o[i];this.Ys(s,t.key,t.ys)}},t.prototype.Js=function(t){var e=this;this.Xs(t,(function(n){var r=e.Zs(n);switch(t.state){case 0:e.ti(n)&&r.$s(t.resumeToken);break;case 1:r.qs(),r.Ns||r.Ls(),r.$s(t.resumeToken);break;case 2:r.qs(),r.Ns||e.removeTarget(n);break;case 3:e.ti(n)&&(r.Us(),r.$s(t.resumeToken));break;case 4:e.ti(n)&&(e.ei(n),r.$s(t.resumeToken));break;default:Te()}}))},t.prototype.Xs=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Ws.forEach((function(t,r){n.ti(r)&&e(r)}))},t.prototype.si=function(t){var e=t.targetId,n=t.bs.count,r=this.ii(e);if(r){var i=r.target;if(i.Pe())if(0===n){var o=new I(i.path);this.Ys(e,o,new wt(o,b.S()))}else Ie(1===n);else this.ni(e)!==n&&(this.ei(e),this.Gs=this.Gs.add(e))}},t.prototype.ri=function(t){var e=this,n=new Map;this.Ws.forEach((function(r,i){var o=e.ii(i);if(o){if(r.ms&&o.target.Pe()){var s=new I(o.target.path);null!==e.js.get(s)||e.hi(i,s)||e.Ys(i,s,new wt(s,t))}r.ks&&(n.set(i,r.Ms()),r.Ls())}}));var r=Xt();this.Ks.forEach((function(t,n){var i=!0;n.Ft((function(t){var n=e.ii(t);return!n||2===n.Ze||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new ne(t,n,this.Gs,this.js,r);return this.js=qt(),this.Ks=ce(),this.Gs=new O(Se),i},t.prototype.Hs=function(t,e){if(this.ti(t)){var n=this.hi(t,e.key)?2:0;this.Zs(t).Os(e.key,n),this.js=this.js.nt(e.key,e),this.Ks=this.Ks.nt(e.key,this.oi(e.key).add(t))}},t.prototype.Ys=function(t,e,n){if(this.ti(t)){var r=this.Zs(t);this.hi(t,e)?r.Os(e,1):r.xs(e),this.Ks=this.Ks.nt(e,this.oi(e).delete(t)),n&&(this.js=this.js.nt(e,n))}},t.prototype.removeTarget=function(t){this.Ws.delete(t)},t.prototype.ni=function(t){var e=this.Zs(t).Ms();return this.Qs.ai(t).size+e.Ps.size-e.gs.size},t.prototype.Bs=function(t){this.Zs(t).Bs()},t.prototype.Zs=function(t){var e=this.Ws.get(t);return e||(e=new ae,this.Ws.set(t,e)),e},t.prototype.oi=function(t){var e=this.Ks.get(t);return e||(e=new O(Se),this.Ks=this.Ks.nt(t,e)),e},t.prototype.ti=function(t){var e=null!==this.ii(t);return e||be("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ii=function(t){var e=this.Ws.get(t);return e&&e.Ns?null:this.Qs.ui(t)},t.prototype.ei=function(t){var e=this;this.Ws.set(t,new ae),this.Qs.ai(t).forEach((function(n){e.Ys(t,n,null)}))},t.prototype.hi=function(t,e){return this.Qs.ai(t).has(e)},t}();
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ce(){return new A(I.k)}function he(){return new A(I.k)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var le=function(){var t={};return t[Dt.ASCENDING.name]="ASCENDING",t[Dt.DESCENDING.name]="DESCENDING",t}(),fe=function(){var t={};return t[It.LESS_THAN.name]="LESS_THAN",t[It.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",t[It.GREATER_THAN.name]="GREATER_THAN",t[It.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",t[It.EQUAL.name]="EQUAL",t[It.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",t[It.IN.name]="IN",t[It.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",t}(),pe=function(){function t(t,e){this.ci=t,this.options=e}return t.prototype._i=function(t){var e=void 0===t.code?l.UNKNOWN:$t(t.code);return new f(e,t.message||"")},t.prototype.li=function(t){return this.options.di||L(t)?t:{value:t}},t.prototype.fi=function(t){var e;return L(e="object"==typeof t?t.value:t)?null:e},t.prototype.Wt=function(t){return{integerValue:""+t}},t.prototype.jt=function(t){if(this.options.di){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:R(t)?"-0":t}},t.prototype.Ti=function(t){return M(t)?this.Wt(t):this.jt(t)},t.prototype.F=function(t){return this.options.di?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}},t.prototype.v=function(t){var e=H(t);return new g(e.seconds,e.nanos)},t.prototype.Ei=function(t){return this.options.di?t.toBase64():t.toUint8Array()},t.prototype.Ii=function(t){return this.options.di?(Ie(void 0===t||"string"==typeof t),P.fromBase64String(t||"")):(Ie(void 0===t||t instanceof Uint8Array),P.fromUint8Array(t||new Uint8Array))},t.prototype.toVersion=function(t){return this.F(t.F())},t.prototype.fromVersion=function(t){return Ie(!!t),b.v(this.v(t))},t.prototype.wi=function(t,e){return this.Ri(e||this.ci).child("documents").child(t).K()},t.prototype.Ai=function(t){var e=_.G(t);return Ie(de(e)),e},t.prototype.mi=function(t){return this.wi(t.path)},t.prototype.tt=function(t){var e=this.Ai(t);return Ie(e.get(1)===this.ci.projectId),Ie(!e.get(3)&&!this.ci.database||e.get(3)===this.ci.database),new I(this.Pi(e))},t.prototype.Vi=function(t){return this.wi(t)},t.prototype.gi=function(t){var e=this.Ai(t);return 4===e.length?_.H:this.Pi(e)},Object.defineProperty(t.prototype,"pi",{get:function(){return new _(["projects",this.ci.projectId,"databases",this.ci.database]).K()},enumerable:!0,configurable:!0}),t.prototype.Ri=function(t){return new _(["projects",t.projectId,"databases",t.database])},t.prototype.Pi=function(t){return Ie(t.length>4&&"documents"===t.get(4)),t.M(5)},t.prototype.yi=function(t,e){return{name:this.mi(t),fields:e.proto.mapValue.fields}},t.prototype.bi=function(t){return{name:this.mi(t.key),fields:t.Re().mapValue.fields,updateTime:this.F(t.version.F())}},t.prototype.vi=function(t,e){var n=this.tt(t.name),r=this.fromVersion(t.updateTime),i=new yt({mapValue:{fields:t.fields}});return new bt(n,r,i,{hasCommittedMutations:!!e})},t.prototype.Si=function(t){Ie(!!t.found),t.found.name,t.found.updateTime;var e=this.tt(t.found.name),n=this.fromVersion(t.found.updateTime),r=new yt({mapValue:{fields:t.found.fields}});return new bt(e,n,r,{})},t.prototype.Di=function(t){Ie(!!t.missing),Ie(!!t.readTime);var e=this.tt(t.missing),n=this.fromVersion(t.readTime);return new wt(e,n)},t.prototype.Ci=function(t){return"found"in t?this.Si(t):"missing"in t?this.Di(t):Te()},t.prototype.Fi=function(t){var e;if("targetChange"in t){t.targetChange;var n=this.Ni(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],i=this.Ii(t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&this._i(o);e=new se(n,r,i,s||null)}else if("documentChange"in t){t.documentChange;var a=t.documentChange;a.document,a.document.name,a.document.updateTime;var u=this.tt(a.document.name),c=this.fromVersion(a.document.updateTime),h=new yt({mapValue:{fields:a.document.fields}}),l=new bt(u,c,h,{}),f=a.targetIds||[],p=a.removedTargetIds||[];e=new ie(f,p,l.key,l)}else if("documentDelete"in t){t.documentDelete;var d=t.documentDelete;d.document;var v=this.tt(d.document),y=d.readTime?this.fromVersion(d.readTime):b.S(),m=new wt(v,y),g=d.removedTargetIds||[];e=new ie([],g,m.key,m)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var _=this.tt(w.document),E=w.removedTargetIds||[];e=new ie([],E,_,null)}else{if(!("filter"in t))return Te();t.filter;var T=t.filter;T.targetId;var I=T.count||0,A=new Vt(I),S=T.targetId;e=new oe(S,A)}return e},t.prototype.Ni=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Te()},t.prototype.ki=function(t){if(!("targetChange"in t))return b.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?b.MIN:e.readTime?this.fromVersion(e.readTime):b.MIN},t.prototype.$i=function(t){var e,n=this;if(t instanceof lt)e={update:this.yi(t.key,t.value)};else if(t instanceof dt)e={delete:this.mi(t.key)};else if(t instanceof ft)e={update:this.yi(t.key,t.data),updateMask:this.Mi(t.se)};else if(t instanceof pt)e={transform:{document:this.mi(t.key),fieldTransforms:t.fieldTransforms.map((function(t){return n.Li(t)}))}};else{if(!(t instanceof vt))return Te();e={verify:this.mi(t.key)}}return t.Zt.Ht||(e.currentDocument=this.Oi(t.Zt)),e},t.prototype.xi=function(t){var e=this,n=t.currentDocument?this.Bi(t.currentDocument):ct.NONE;if(t.update){t.update.name;var r=this.tt(t.update.name),i=new yt({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=this.qi(t.updateMask);return new ft(r,i,o,n)}return new lt(r,i,n)}if(t.delete){var s=this.tt(t.delete);return new dt(s,n)}if(t.transform){var a=this.tt(t.transform.document),u=t.transform.fieldTransforms.map((function(t){return e.Ui(t)}));return Ie(!0===n.exists),new pt(a,u)}if(t.verify){var c=this.tt(t.verify);return new vt(c,n)}return Te()},t.prototype.Oi=function(t){return void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Te()},t.prototype.Bi=function(t){return void 0!==t.updateTime?ct.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?ct.exists(t.exists):ct.NONE},t.prototype.Qi=function(t,e){var n=t.updateTime?this.fromVersion(t.updateTime):this.fromVersion(e);n.isEqual(b.MIN)&&(n=this.fromVersion(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new ut(n,r)},t.prototype.Wi=function(t,e){var n=this;return t&&t.length>0?(Ie(void 0!==e),t.map((function(t){return n.Qi(t,e)}))):[]},t.prototype.Li=function(t){var e=t.transform;if(e instanceof et)return{fieldPath:t.field.K(),setToServerValue:"REQUEST_TIME"};if(e instanceof nt)return{fieldPath:t.field.K(),appendMissingElements:{values:e.elements}};if(e instanceof rt)return{fieldPath:t.field.K(),removeAllFromArray:{values:e.elements}};if(e instanceof it)return{fieldPath:t.field.K(),increment:e.Qt};throw Te()},t.prototype.Ui=function(t){var e=null;if("setToServerValue"in t)Ie("REQUEST_TIME"===t.setToServerValue),e=et.instance;else if("appendMissingElements"in t){var n=t.appendMissingElements.values||[];e=new nt(n)}else if("removeAllFromArray"in t){var r=t.removeAllFromArray.values||[];e=new rt(r)}else"increment"in t?e=new it(this,t.increment):Te();var i=T.Z(t.fieldPath);return new at(i,e)},t.prototype.ji=function(t){return{documents:[this.Vi(t.path)]}},t.prototype.Ki=function(t){Ie(1===t.documents.length);var e=t.documents[0];return Tt.ve(this.gi(e)).xe()},t.prototype.Gi=function(t){var e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(e.parent=this.Vi(n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=this.Vi(n.L()),e.structuredQuery.from=[{collectionId:n.B()}]);var r=this.zi(t.filters);r&&(e.structuredQuery.where=r);var i=this.Hi(t.orderBy);i&&(e.structuredQuery.orderBy=i);var o=this.li(t.limit);return null!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.Yi(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.Yi(t.endAt)),e},t.prototype.Ji=function(t){var e=this.gi(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ie(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=this.Xi(n.where));var a=[];n.orderBy&&(a=this.Zi(n.orderBy));var u=null;n.limit&&(u=this.fi(n.limit));var c=null;n.startAt&&(c=this.tn(n.startAt));var h=null;return n.endAt&&(h=this.tn(n.endAt)),new Tt(e,i,a,s,u,"F",c,h).xe()},t.prototype.en=function(t){var e=this.sn(t.Ze);return null==e?null:{"goog-listen-tags":e}},t.prototype.sn=function(t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Te()}},t.prototype.xe=function(t){var e,n=t.target;return(e=n.Pe()?{documents:this.ji(n)}:{query:this.Gi(n)}).targetId=t.targetId,t.resumeToken.Ot()>0&&(e.resumeToken=this.Ei(t.resumeToken)),e},t.prototype.zi=function(t){var e=this;if(0!==t.length){var n=t.map((function(t){return t instanceof At?e.in(t):Te()}));return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.Xi=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.nn(t)]:void 0!==t.fieldFilter?[this.rn(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e.Xi(t)})).reduce((function(t,e){return t.concat(e)})):Te():[]},t.prototype.Hi=function(t){var e=this;if(0!==t.length)return t.map((function(t){return e.hn(t)}))},t.prototype.Zi=function(t){var e=this;return t.map((function(t){return e.on(t)}))},t.prototype.Yi=function(t){return{before:t.before,values:t.position}},t.prototype.tn=function(t){var e=!!t.before,n=t.values||[];return new Lt(n,e)},t.prototype.an=function(t){return le[t.name]},t.prototype.un=function(t){switch(t){case"ASCENDING":return Dt.ASCENDING;case"DESCENDING":return Dt.DESCENDING;default:return}},t.prototype.cn=function(t){return fe[t.name]},t.prototype._n=function(t){switch(t){case"EQUAL":return It.EQUAL;case"GREATER_THAN":return It.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return It.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return It.LESS_THAN;case"LESS_THAN_OR_EQUAL":return It.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return It.ARRAY_CONTAINS;case"IN":return It.IN;case"ARRAY_CONTAINS_ANY":return It.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":default:return Te()}},t.prototype.ln=function(t){return{fieldPath:t.K()}},t.prototype.dn=function(t){return T.Z(t.fieldPath)},t.prototype.hn=function(t){return{field:this.ln(t.field),direction:this.an(t.dir)}},t.prototype.on=function(t){return new Rt(this.dn(t.field),this.un(t.direction))},t.prototype.rn=function(t){return At.create(this.dn(t.fieldFilter.field),this._n(t.fieldFilter.op),t.fieldFilter.value)},t.prototype.in=function(t){if(t.op===It.EQUAL){if(Q(t.value))return{unaryFilter:{field:this.ln(t.field),op:"IS_NAN"}};if(Z(t.value))return{unaryFilter:{field:this.ln(t.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.ln(t.field),op:this.cn(t.op),value:t.value}}},t.prototype.nn=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.dn(t.unaryFilter.field);return At.create(e,It.EQUAL,{doubleValue:NaN});case"IS_NULL":var n=this.dn(t.unaryFilter.field);return At.create(n,It.EQUAL,{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Te()}},t.prototype.Mi=function(t){var e=[];return t.fields.forEach((function(t){return e.push(t.K())})),{fieldPaths:e}},t.prototype.qi=function(t){var e=(t.fieldPaths||[]).map((function(t){return T.Z(t)}));return st.Gt(e)},t}();function de(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ve=function(){function t(){}return t.fn=function(e){t.platform&&Te(),t.platform=e},t.Lt=function(){return t.platform||Te(),t.platform},t}(),ye=new o.Logger("@firebase/firestore");
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function me(){return ye.logLevel}function ge(t){ye.logLevel=t}function be(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ye.logLevel<=o.LogLevel.DEBUG){var i=e.map(Ee);ye.debug.apply(ye,r.__spreadArrays(["Firestore ("+c+"): "+t],i))}}function we(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ye.logLevel<=o.LogLevel.ERROR){var i=e.map(Ee);ye.error.apply(ye,r.__spreadArrays(["Firestore ("+c+"): "+t],i))}}function Ee(t){if("string"==typeof t)return t;var e=ve.Lt();try{return e.Tn(t)}catch(e){return t}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Te(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE ("+c+") INTERNAL ASSERTION FAILED: "+t;throw we(e),new Error(e)}function Ie(t,e){t||Te()}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ae=function(){function t(){}return t.En=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},t}();function Se(t,e){return t<e?-1:t>e?1:0}function Ne(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Oe(t){return t+"\0"}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ke=function(t,e,n,r,i){this.ci=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i},Ce=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"In",{get:function(){return"(default)"===this.database},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.D=function(t){return Se(this.projectId,t.projectId)||Se(this.database,t.database)},t}(),De=function(){function t(t){this.wn=t,this.Rn={}}return t.prototype.get=function(t){var e=this.wn(t),n=this.Rn[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];if(s.isEqual(t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.wn(t),r=this.Rn[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.Rn[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.wn(t),n=this.Rn[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.Rn[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){D(this.Rn,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];t(s,a)}}))},t.prototype.q=function(){return x(this.Rn)},t}(),xe=function(){function t(t,e,n,r){this.batchId=t,this.An=e,this.baseMutations=n,this.mutations=r}return t.prototype.qt=function(t,e,n){for(var r=n.mn,i=0;i<this.mutations.length;i++){var o=this.mutations[i];if(o.key.isEqual(t)){var s=r[i];e=o.qt(e,s)}}return e},t.prototype.Bt=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=i.Bt(e,e,this.An))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(t)&&(e=u.Bt(e,o,this.An))}return e},t.prototype.Pn=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.Bt(r.key,t.get(r.key));i&&(n=n.nt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Xt())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Ne(this.mutations,t.mutations,(function(t,e){return t.isEqual(e)}))&&Ne(this.baseMutations,t.baseMutations,(function(t,e){return t.isEqual(e)}))},t}(),Pe=function(){function t(t,e,n,r,i){this.batch=t,this.Vn=e,this.mn=n,this.streamToken=r,this.gn=i}return t.from=function(e,n,r,i){Ie(e.mutations.length===r.length);for(var o=Kt(),s=e.mutations,a=0;a<s.length;a++)o=o.nt(s[a].key,r[a].version);return new t(e,n,r,i,o)},t}(),Re=function(){function t(){this.pn=new O(Me.Ie),this.yn=new O(Me.bn)}return t.prototype.q=function(){return this.pn.q()},t.prototype.vn=function(t,e){var n=new Me(t,e);this.pn=this.pn.add(n),this.yn=this.yn.add(n)},t.prototype.Sn=function(t,e){var n=this;t.forEach((function(t){return n.vn(t,e)}))},t.prototype.Dn=function(t,e){this.Cn(new Me(t,e))},t.prototype.Fn=function(t,e){var n=this;t.forEach((function(t){return n.Dn(t,e)}))},t.prototype.Nn=function(t){var e=this,n=I.EMPTY,r=new Me(n,t),i=new Me(n,t+1),o=[];return this.yn.Ct([r,i],(function(t){e.Cn(t),o.push(t.key)})),o},t.prototype.kn=function(){var t=this;this.pn.forEach((function(e){return t.Cn(e)}))},t.prototype.Cn=function(t){this.pn=this.pn.delete(t),this.yn=this.yn.delete(t)},t.prototype.$n=function(t){var e=I.EMPTY,n=new Me(e,t),r=new Me(e,t+1),i=Xt();return this.yn.Ct([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Mn=function(t){var e=new Me(t,0),n=this.pn.Nt(e);return null!==n&&t.isEqual(n.key)},t}(),Me=function(){function t(t,e){this.key=t,this.Ln=e}return t.Ie=function(t,e){return I.k(t.key,e.key)||Se(t.Ln,e.Ln)},t.bn=function(t,e){return Se(t.Ln,e.Ln)||I.k(t.key,e.key)},t}(),je=function(){function t(t){var e=this;this.On=null,this.xn=null,this.result=void 0,this.error=void 0,this.Bn=!1,this.qn=!1,t((function(t){e.Bn=!0,e.result=t,e.On&&e.On(t)}),(function(t){e.Bn=!0,e.error=t,e.xn&&e.xn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.qn&&Te(),this.qn=!0,this.Bn?this.error?this.Un(n,this.error):this.Qn(e,this.result):new t((function(t,i){r.On=function(n){r.Qn(e,n).next(t,i)},r.xn=function(e){r.Un(n,e).next(t,i)}}))},t.prototype.Wn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.jn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Qn=function(e,n){return e?this.jn((function(){return e(n)})):t.resolve(n)},t.prototype.Un=function(e,n){return e?this.jn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.Kn=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Gn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.Kn(r)},t}(),Ue=function(){function t(){this.zn=new De((function(t){return t.toString()})),this.Hn=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.Yn},set:function(t){this.Yn=t},enumerable:!0,configurable:!0}),t.prototype.Jn=function(t,e){this.Xn(),this.readTime=e,this.zn.set(t.key,t)},t.prototype.Zn=function(t,e){this.Xn(),e&&(this.readTime=e),this.zn.set(t,null)},t.prototype.tr=function(t,e){this.Xn();var n=this.zn.get(e);return void 0!==n?je.resolve(n):this.er(t,e)},t.prototype.getEntries=function(t,e){return this.sr(t,e)},t.prototype.apply=function(t){return this.Xn(),this.Hn=!0,this.ir(t)},t.prototype.Xn=function(){},t}(),Ve="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Fe=function(){function t(){this.nr=[]}return t.prototype.rr=function(t){this.nr.push(t)},t.prototype.hr=function(){this.nr.forEach((function(t){return t()}))},t}(),$e=function(){function t(t,e,n){this.or=t,this.ar=e,this.ur=n}return t.prototype.cr=function(t,e){var n=this;return this.ar._r(t,e).next((function(r){return n.lr(t,e,r)}))},t.prototype.lr=function(t,e,n){return this.or.tr(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Bt(e,t);return t}))},t.prototype.dr=function(t,e,n){var r=zt();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Bt(t,e);r=r.nt(t,e)})),r},t.prototype.Tr=function(t,e){var n=this;return this.or.getEntries(t,e).next((function(e){return n.Er(t,e)}))},t.prototype.Er=function(t,e){var n=this;return this.ar.Ir(t,e).next((function(r){var i=n.dr(t,e,r),o=qt();return i.forEach((function(t,e){e||(e=new wt(t,b.S())),o=o.nt(t,e)})),o}))},t.prototype.wr=function(t,e,n){return e.Pe()?this.Rr(t,e.path):e.He()?this.Ar(t,e,n):this.mr(t,e,n)},t.prototype.Rr=function(t,e){return this.cr(t,new I(e)).next((function(t){var e=Ht();return t instanceof bt&&(e=e.nt(t.key,t)),e}))},t.prototype.Ar=function(t,e,n){var r=this,i=e.collectionGroup,o=Ht();return this.ur.Pr(t,i).next((function(s){return je.forEach(s,(function(s){var a=e.Le(s.child(i));return r.mr(t,a,n).next((function(t){t.forEach((function(t,e){o=o.nt(t,e)}))}))})).next((function(){return o}))}))},t.prototype.mr=function(t,e,n){var r,i,o=this;return this.or.wr(t,e,n).next((function(n){return r=n,o.ar.Vr(t,e)})).next((function(e){return i=e,o.gr(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,h=r.get(c),l=u.Bt(h,h,o.An);r=l instanceof bt?r.nt(c,l):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){e.matches(n)||(r=r.remove(t))})),r}))},t.prototype.gr=function(t,e,n){for(var r=Xt(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof ft&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.or.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof bt&&(c=c.nt(t,e))})),c}))},t}(),Be=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.pr=n,this.yr=r}return t.br=function(e,n){for(var r=Xt(),i=Xt(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),qe=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.vr=function(t){return n.Sr(t)},this.Dr=function(t){return e.Cr(t)})}return t.prototype.Sr=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.Dr&&this.Dr(t),t},t}();qe.Fr=-1;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var ze=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Ge=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Nr=t,this.kr=e,this.$r=n,this.Mr=r,this.Lr=i,this.Or=0,this.xr=null,this.Br=Date.now(),this.reset()}return t.prototype.reset=function(){this.Or=0},t.prototype.qr=function(){this.Or=this.Lr},t.prototype.Ur=function(t){var e=this;this.cancel();var n=Math.floor(this.Or+this.Qr()),r=Math.max(0,Date.now()-this.Br),i=Math.max(0,n-r);i>0&&be("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Or+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.xr=this.Nr.Wr(this.kr,i,(function(){return e.Br=Date.now(),t()})),this.Or*=this.Mr,this.Or<this.$r&&(this.Or=this.$r),this.Or>this.Lr&&(this.Or=this.Lr)},t.prototype.cancel=function(){null!==this.xr&&(this.xr.cancel(),this.xr=null)},t.prototype.Qr=function(){return(Math.random()-.5)*this.Or},t}(),He=function(){function t(t,e,n,r,i){this.jr=t,this.kr=e,this.Kr=n,this.op=r,this.Gr=i,this.zr=new ze,this.then=this.zr.promise.then.bind(this.zr.promise),this.catch=this.zr.promise.catch.bind(this.zr.promise),this.zr.promise.catch((function(t){}))}return t.Hr=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.Yr=setTimeout((function(){return e.Jr()}),t)},t.prototype.Xr=function(){return this.Jr()},t.prototype.cancel=function(t){null!==this.Yr&&(this.clearTimeout(),this.zr.reject(new f(l.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Jr=function(){var t=this;this.jr.Zr((function(){return null!==t.Yr?(t.clearTimeout(),t.op().then((function(e){return t.zr.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.Yr&&(this.Gr(this),clearTimeout(this.Yr),this.Yr=null)},t}(),We=function(){function t(){var t=this;this.th=Promise.resolve(),this.eh=Promise.resolve(),this.sh=!1,this.ih=[],this.nh=null,this.rh=!1,this.hh=[],this.oh=new Ge(this,"async_queue_retry"),this.ah=function(){t.uh("async_queue_retry")};var e=ve.Lt().window;e&&e.addEventListener("visibilitychange",this.ah)}return Object.defineProperty(t.prototype,"_h",{get:function(){return this.sh},enumerable:!0,configurable:!0}),t.prototype.Zr=function(t){this.enqueue(t)},t.prototype.lh=function(t){this.dh(),this.fh(t)},t.prototype.Th=function(t){return this.dh(),this.fh(t)},t.prototype.Eh=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return this.dh(),this.sh?[3,2]:(this.sh=!0,(e=ve.Lt().window)&&e.removeEventListener("visibilitychange",this.ah),[4,this.Th(t)]);case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},t.prototype.enqueue=function(t){return this.dh(),this.sh?new Promise((function(t){})):this.fh(t)},t.prototype.Ih=function(t){var e=this;this.dh(),this.sh||(this.eh=this.eh.then((function(){var n=new ze,i=function(){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,t()];case 1:return r.sent(),n.resolve(),this.oh.reset(),[3,3];case 2:if("IndexedDbTransactionError"!==(e=r.sent()).name)throw n.resolve(),e;return be("AsyncQueue","Operation failed with retryable error: "+e),this.oh.Ur(i),[3,3];case 3:return[2]}}))}))};return e.Zr(i),n.promise})))},t.prototype.fh=function(t){var e=this,n=this.th.then((function(){return e.rh=!0,t().catch((function(t){throw e.nh=t,e.rh=!1,we("INTERNAL UNHANDLED ERROR: ",t.stack||t.message||""),t})).then((function(t){return e.rh=!1,t}))}));return this.th=n,n},t.prototype.Wr=function(t,e,n){var r=this;this.dh(),this.hh.indexOf(t)>-1&&(e=0);var i=He.Hr(this,t,e,n,(function(t){return r.wh(t)}));return this.ih.push(i),i},t.prototype.dh=function(){this.nh&&Te()},t.prototype.Rh=function(){},t.prototype.Ah=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return[4,t=this.th];case 1:e.sent(),e.label=2;case 2:if(t!==this.th)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.mh=function(t){for(var e=0,n=this.ih;e<n.length;e++)if(n[e].kr===t)return!0;return!1},t.prototype.uh=function(t){var e=this;return this.Ah().then((function(){e.ih.sort((function(t,e){return t.Kr-e.Kr}));for(var n=0,r=e.ih;n<r.length;n++){var i=r[n];if(i.Xr(),"all"!==t&&i.kr===t)break}return e.Ah()}))},t.prototype.Ph=function(t){this.hh.push(t)},t.prototype.wh=function(t){var e=this.ih.indexOf(t);this.ih.splice(e,1)},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ke(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=Se(n,i);return 0===s?Se(r,o):s}var Ye=function(){function t(t){this.Vh=t,this.buffer=new O(Ke),this.gh=0}return t.prototype.ph=function(){return++this.gh},t.prototype.yh=function(t){var e=[t,this.ph()];if(this.buffer.size<this.Vh)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Ke(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),Xe={bh:!1,vh:0,Sh:0,Dh:0},Je=function(){function t(t,e,n){this.Ch=t,this.Fh=e,this.Nh=n}return t.kh=function(e){return new t(e,t.$h,t.Mh)},t}();Je.Lh=-1,Je.Oh=1048576,Je.xh=41943040,Je.$h=10,Je.Mh=1e3,Je.Bh=new Je(Je.xh,Je.$h,Je.Mh),Je.DISABLED=new Je(Je.Lh,0,0);var Ze=function(){function t(t,e){this.qh=t,this.jr=e,this.Uh=!1,this.Qh=null}return t.prototype.start=function(t){this.qh.Wh.Ch!==Je.Lh&&this.jh(t)},t.prototype.stop=function(){this.Qh&&(this.Qh.cancel(),this.Qh=null)},Object.defineProperty(t.prototype,"Kh",{get:function(){return null!==this.Qh},enumerable:!0,configurable:!0}),t.prototype.jh=function(t){var e=this,n=this.Uh?3e5:6e4;be("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Qh=this.jr.Wr("lru_garbage_collection",n,(function(){return e.Qh=null,e.Uh=!0,t.Gh(e.qh).then((function(){return e.jh(t)})).catch(ur)}))},t}(),Qe=function(){function t(t,e){this.zh=t,this.Wh=e}return t.prototype.Hh=function(t,e){return this.zh.Yh(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Jh=function(t,e){var n=this;if(0===e)return je.resolve(qe.Fr);var r=new Ye(e);return this.zh.Xs(t,(function(t){return r.yh(t.sequenceNumber)})).next((function(){return n.zh.Xh(t,(function(t){return r.yh(t)}))})).next((function(){return r.maxValue}))},t.prototype.Zh=function(t,e,n){return this.zh.Zh(t,e,n)},t.prototype.to=function(t,e){return this.zh.to(t,e)},t.prototype.eo=function(t,e){var n=this;return this.Wh.Ch===Je.Lh?(be("LruGarbageCollector","Garbage collection skipped; disabled"),je.resolve(Xe)):this.so(t).next((function(r){return r<n.Wh.Ch?(be("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.Wh.Ch),Xe):n.io(t,e)}))},t.prototype.so=function(t){return this.zh.so(t)},t.prototype.io=function(t,e){var n,r,i,s,a,u,c,h=this,l=Date.now();return this.Hh(t,this.Wh.Fh).next((function(e){return e>h.Wh.Nh?(be("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+h.Wh.Nh+" from "+e),r=h.Wh.Nh):r=e,s=Date.now(),h.Jh(t,r)})).next((function(r){return n=r,a=Date.now(),h.Zh(t,n,e)})).next((function(e){return i=e,u=Date.now(),h.to(t,n)})).next((function(t){return c=Date.now(),me()<=o.LogLevel.DEBUG&&be("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-s)+"ms\n\tRemoved "+i+" targets in "+(u-a)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-l)+"ms"),je.resolve({bh:!0,vh:r,Sh:i,Dh:t})}))},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function tn(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=nn(e)),e=en(t.get(n),e);return nn(e)}function en(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function nn(t){return t+""}function rn(t){var e=t.length;if(Ie(e>=2),2===e)return Ie(""===t.charAt(0)&&""===t.charAt(1)),_.H;for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("",o);switch((s<0||s>n)&&Te(),t.charAt(s+1)){case"":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:Te()}o=s+2}return new _(r)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var on=function(){function t(e){this.db=e,12.2===t.no(s.getUA())&&we("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.ro=function(e,n,r){return be("SimpleDb","Opening database:",e),new je((function(i,o){var s=window.indexedDB.open(e,n);s.onsuccess=function(e){var n=e.target.result;i(new t(n))},s.onblocked=function(){o(new f(l.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=function(t){var e=t.target.error;"VersionError"===e.name?o(new f(l.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o(e)},s.onupgradeneeded=function(t){be("SimpleDb",'Database "'+e+'" requires upgrade from version:',t.oldVersion);var n=t.target.result;r.createOrUpgrade(n,s.transaction,t.oldVersion,xn).next((function(){be("SimpleDb","Database upgrade to version "+xn+" complete")}))}})).Wn()},t.delete=function(t){return be("SimpleDb","Removing database:",t),hn(window.indexedDB.deleteDatabase(t)).Wn()},t.ho=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(t.oo())return!0;if(void 0===window.navigator)return!1;var e=s.getUA(),n=t.no(e),r=0<n&&n<10,i=t.ao(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.oo=function(){var t;return"undefined"!=typeof __PRIVATE_process&&"YES"===(null===(t=__PRIVATE_process.__PRIVATE_env)||void 0===t?void 0:t.uo)},t.co=function(t,e){return t.store(e)},t.no=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.ao=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype._o=function(t){this.db.onversionchange=function(e){return t(e)}},t.prototype.runTransaction=function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s,a,u;return r.__generator(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,s=function(){var t,s,u,c,h;return r.__generator(this,(function(r){switch(r.label){case 0:++o,t=un.open(a.db,i?"readonly":"readwrite",e),r.label=1;case 1:return r.trys.push([1,3,,4]),s=n(t).catch((function(e){return t.abort(e),je.reject(e)})).Wn(),u={},s.catch((function(){})),[4,t.lo];case 2:return[2,(u.value=(r.sent(),s),u)];case 3:return c=r.sent(),h="FirebaseError"!==c.name&&o<3,be("SimpleDb","Transaction failed with error: %s. Retrying: %s.",c.message,h),h?[3,4]:[2,{value:Promise.reject(c)}];case 4:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db.close()},t}(),sn=function(){function t(t){this.do=t,this.fo=!1,this.To=null}return Object.defineProperty(t.prototype,"Bn",{get:function(){return this.fo},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Eo",{get:function(){return this.To},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.do=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.fo=!0},t.prototype.Io=function(t){this.To=t},t.prototype.delete=function(){return hn(this.do.delete())},t}(),an=function(t){function e(e){var n=this;return(n=t.call(this,l.UNAVAILABLE,"IndexedDB transaction failed: "+e)||this).name="IndexedDbTransactionError",n}return r.__extends(e,t),e}(f),un=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.wo=new ze,this.transaction.oncomplete=function(){e.wo.resolve()},this.transaction.onabort=function(){t.error?e.wo.reject(new an(t.error)):e.wo.resolve()},this.transaction.onerror=function(t){var n=fn(t.target.error);e.wo.reject(new an(n))}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"lo",{get:function(){return this.wo.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.wo.reject(t),this.aborted||(be("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new cn(e)},t}(),cn=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(be("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(be("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),hn(n)},t.prototype.add=function(t){return be("SimpleDb","ADD",this.store.name,t,t),hn(this.store.add(t))},t.prototype.get=function(t){var e=this;return hn(this.store.get(t)).next((function(n){return void 0===n&&(n=null),be("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return be("SimpleDb","DELETE",this.store.name,t),hn(this.store.delete(t))},t.prototype.count=function(){return be("SimpleDb","COUNT",this.store.name),hn(this.store.count())},t.prototype.Ro=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.Ao(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.mo=function(t,e){be("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Po=!1;var r=this.cursor(n);return this.Ao(r,(function(t,e,n){return n.delete()}))},t.prototype.Vo=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.Ao(r,e)},t.prototype.po=function(t){var e=this.cursor({});return new je((function(n,r){e.onerror=function(t){var e=fn(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.Ao=function(t,e){var n=[];return new je((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new sn(i),s=e(i.primaryKey,i.value,o);if(s instanceof je){var a=s.catch((function(t){return o.done(),je.reject(t)}));n.push(a)}o.Bn?r():null===o.Eo?i.continue():i.continue(o.Eo)}else r()}})).next((function(){return je.Kn(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Po?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function hn(t){return new je((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=fn(t.target.error);n(e)}}))}var ln=!1;function fn(t){var e=on.no(s.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new f("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ln||(ln=!0,setTimeout((function(){throw r}),0)),r}}return t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var pn=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.ur=n,this.yo=r,this.bo={}}return t.vo=function(e,n,r,i){return Ie(""!==e.uid),new t(e.t()?e.uid:"",n,r,i)},t.prototype.So=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return yn(t).Vo({index:jn.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Do=function(t,e,n){return this.Co(t).next((function(e){return e.lastStreamToken=n.toBase64(),gn(t).put(e)}))},t.prototype.Fo=function(t){return this.Co(t).next((function(t){return P.fromBase64String(t.lastStreamToken)}))},t.prototype.No=function(t,e){return this.Co(t).next((function(n){return n.lastStreamToken=e.toBase64(),gn(t).put(n)}))},t.prototype.ko=function(t,e,n,r){var i=this,o=mn(t),s=yn(t);return s.add({}).next((function(a){Ie("number"==typeof a);for(var u=new xe(a,e,n,r),c=i.serializer.$o(i.userId,u),h=[],l=new O((function(t,e){return Se(t.K(),e.K())})),f=0,p=r;f<p.length;f++){var d=p[f],v=Un.key(i.userId,d.key.path,a);l=l.add(d.key.path.L()),h.push(s.put(c)),h.push(o.put(v,Un.PLACEHOLDER))}return l.forEach((function(e){h.push(i.ur.Mo(t,e))})),t.rr((function(){i.bo[a]=u.keys()})),je.Kn(h).next((function(){return u}))}))},t.prototype.Lo=function(t,e){var n=this;return yn(t).get(e).next((function(t){return t?(Ie(t.userId===n.userId),n.serializer.Oo(t)):null}))},t.prototype.xo=function(t,e){var n=this;return this.bo[e]?je.resolve(this.bo[e]):this.Lo(t,e).next((function(t){if(t){var r=t.keys();return n.bo[e]=r,r}return null}))},t.prototype.Bo=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return yn(t).Vo({index:jn.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Ie(e.batchId>=r),o=n.serializer.Oo(e)),i.done()})).next((function(){return o}))},t.prototype.qo=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return yn(t).Vo({index:jn.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.Uo=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return yn(t).Ro(jn.userMutationsIndex,n).next((function(t){return t.map((function(t){return e.serializer.Oo(t)}))}))},t.prototype._r=function(t,e){var n=this,r=Un.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return mn(t).Vo({range:i},(function(r,i,s){var a=r[0],u=r[1],c=r[2],h=rn(u);if(a===n.userId&&e.path.isEqual(h))return yn(t).get(c).next((function(t){if(!t)throw Te();Ie(t.userId===n.userId),o.push(n.serializer.Oo(t))}));s.done()})).next((function(){return o}))},t.prototype.Ir=function(t,e){var n=this,r=new O(Se),i=[];return e.forEach((function(e){var o=Un.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=mn(t).Vo({range:s},(function(t,i,o){var s=t[0],a=t[1],u=t[2],c=rn(a);s===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(a)})),je.Kn(i).next((function(){return n.Qo(t,r)}))},t.prototype.Vr=function(t,e){var n=this,r=e.path,i=r.length+1,o=Un.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new O(Se);return mn(t).Vo({range:s},(function(t,e,o){var s=t[0],u=t[1],c=t[2],h=rn(u);s===n.userId&&r.U(h)?h.length===i&&(a=a.add(c)):o.done()})).next((function(){return n.Qo(t,a)}))},t.prototype.Qo=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(yn(t).get(e).next((function(t){if(null===t)throw Te();Ie(t.userId===n.userId),r.push(n.serializer.Oo(t))})))})),je.Kn(i).next((function(){return r}))},t.prototype.Wo=function(t,e){var n=this;return vn(t.jo,this.userId,e).next((function(r){return t.rr((function(){n.Ko(e.batchId)})),je.forEach(r,(function(e){return n.yo.Go(t,e)}))}))},t.prototype.Ko=function(t){delete this.bo[t]},t.prototype.zo=function(t){var e=this;return this.So(t).next((function(n){if(!n)return je.resolve();var r=IDBKeyRange.lowerBound(Un.prefixForUser(e.userId)),i=[];return mn(t).Vo({range:r},(function(t,n,r){if(t[0]===e.userId){var o=rn(t[1]);i.push(o)}else r.done()})).next((function(){Ie(0===i.length)}))}))},t.prototype.Mn=function(t,e){return dn(t,this.userId,e)},t.prototype.Co=function(t){var e=this;return gn(t).get(this.userId).next((function(t){return t||new Mn(e.userId,-1,"")}))},t}();function dn(t,e,n){var r=Un.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return mn(t).Vo({range:o,Po:!0},(function(t,n,r){var o=t[0],a=t[1];t[2],o===e&&a===i&&(s=!0),r.done()})).next((function(){return s}))}function vn(t,e,n){var r=t.store(jn.store),i=t.store(Un.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.Vo({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){Ie(1===a)})));for(var c=[],h=0,l=n.mutations;h<l.length;h++){var f=l[h],p=Un.key(e,f.key.path,n.batchId);o.push(i.delete(p)),c.push(f.key)}return je.Kn(o).next((function(){return c}))}function yn(t){return er.co(t,jn.store)}function mn(t){return er.co(t,Un.store)}function gn(t){return er.co(t,Mn.store)}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var bn=function(){function t(t){this.Ho=t}return t.prototype.next=function(){return this.Ho+=2,this.Ho},t.Yo=function(){return new t(0)},t.Jo=function(){return new t(-1)},t}(),wn=function(){function t(t,e){this.yo=t,this.serializer=e}return t.prototype.Xo=function(t){var e=this;return this.Zo(t).next((function(n){var r=new bn(n.highestTargetId);return n.highestTargetId=r.next(),e.ta(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.ea=function(t){return this.Zo(t).next((function(t){return b.v(new g(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.sa=function(t){return Tn(t.jo)},t.prototype.ia=function(t,e,n){var r=this;return this.Zo(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.F()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.ta(t,i)}))},t.prototype.na=function(t,e){var n=this;return this.ra(t,e).next((function(){return n.Zo(t).next((function(r){return r.targetCount+=1,n.ha(e,r),n.ta(t,r)}))}))},t.prototype.oa=function(t,e){return this.ra(t,e)},t.prototype.aa=function(t,e){var n=this;return this.ua(t,e.targetId).next((function(){return _n(t).delete(e.targetId)})).next((function(){return n.Zo(t)})).next((function(e){return Ie(e.targetCount>0),e.targetCount-=1,n.ta(t,e)}))},t.prototype.Zh=function(t,e,n){var r=this,i=0,o=[];return _n(t).Vo((function(s,a){var u=r.serializer.ca(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.aa(t,u)))})).next((function(){return je.Kn(o)})).next((function(){return i}))},t.prototype.Xs=function(t,e){var n=this;return _n(t).Vo((function(t,r){var i=n.serializer.ca(r);e(i)}))},t.prototype.Zo=function(t){return En(t.jo)},t.prototype.ta=function(t,e){return(n=t,er.co(n,Gn.store)).put(Gn.key,e);var n},t.prototype.ra=function(t,e){return _n(t).put(this.serializer._a(e))},t.prototype.ha=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.la=function(t){return this.Zo(t).next((function(t){return t.targetCount}))},t.prototype.da=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return _n(t).Vo({range:i,index:qn.queryTargetsIndexName},(function(t,r,i){var s=n.serializer.ca(r);e.isEqual(s.target)&&(o=s,i.done())})).next((function(){return o}))},t.prototype.fa=function(t,e,n){var r=this,i=[],o=In(t);return e.forEach((function(e){var s=tn(e.path);i.push(o.put(new zn(n,s))),i.push(r.yo.vn(t,e))})),je.Kn(i)},t.prototype.Ta=function(t,e,n){var r=this,i=In(t);return je.forEach(e,(function(e){var o=tn(e.path);return je.Kn([i.delete([n,o]),r.yo.Dn(t,e)])}))},t.prototype.ua=function(t,e){var n=In(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.Ea=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=In(t),i=Xt();return r.Vo({range:n,Po:!0},(function(t,e,n){var r=rn(t[1]),o=new I(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Mn=function(t,e){var n=tn(e.path),r=IDBKeyRange.bound([n],[Oe(n)],!1,!0),i=0;return In(t).Vo({index:zn.documentTargetsIndex,Po:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.ui=function(t,e){var n=this;return _n(t).get(e).next((function(t){return t?n.serializer.ca(t):null}))},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function _n(t){return er.co(t,qn.store)}function En(t){return on.co(t,Gn.store).get(Gn.key).next((function(t){return Ie(null!==t),t}))}function Tn(t){return En(t).next((function(t){return t.highestListenSequenceNumber}))}function In(t){return er.co(t,zn.store)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var An=function(){function t(t,e){this.serializer=t,this.ur=e}return t.prototype.Jn=function(t,e,n){return Nn(t).put(On(e),n)},t.prototype.Zn=function(t,e){var n=Nn(t),r=On(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Ia(t,r)}))},t.prototype.tr=function(t,e){var n=this;return Nn(t).get(On(e)).next((function(t){return n.wa(t)}))},t.prototype.Ra=function(t,e){var n=this;return Nn(t).get(On(e)).next((function(t){var e=n.wa(t);return e?{Aa:e,size:kn(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=zt();return this.ma(t,e,(function(t,e){var i=n.wa(e);r=r.nt(t,i)})).next((function(){return r}))},t.prototype.Pa=function(t,e){var n=this,r=zt(),i=new A(I.k);return this.ma(t,e,(function(t,e){var o=n.wa(e);o?(r=r.nt(t,o),i=i.nt(t,kn(e))):(r=r.nt(t,null),i=i.nt(t,0))})).next((function(){return{Va:r,ga:i}}))},t.prototype.ma=function(t,e,n){if(e.q())return je.resolve();var r=IDBKeyRange.bound(e.first().path.j(),e.last().path.j()),i=e._t(),o=i.It();return Nn(t).Vo({range:r},(function(t,e,r){for(var s=I.it(t);o&&I.k(o,s)<0;)n(o,null),o=i.It();o&&o.isEqual(s)&&(n(o,e),o=i.wt()?i.It():null),o?r.Io(o.path.j()):r.done()})).next((function(){for(;o;)n(o,null),o=i.wt()?i.It():null}))},t.prototype.wr=function(t,e,n){var r=this,i=Ht(),o=e.path.length+1,s={};if(n.isEqual(b.MIN)){var a=e.path.j();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.j(),c=this.serializer.pa(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=$n.collectionReadTimeIndex}return Nn(t).Vo(s,(function(t,n,s){if(t.length===o){var a=r.serializer.ya(n);e.path.U(a.key.path)?a instanceof bt&&e.matches(a)&&(i=i.nt(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.ba=function(t,e){var n=this,r=qt(),i=this.serializer.pa(e),o=Nn(t),s=IDBKeyRange.lowerBound(i,!0);return o.Vo({index:$n.readTimeIndex,range:s},(function(t,e){var o=n.serializer.ya(e);r=r.nt(o.key,o),i=e.readTime})).next((function(){return{va:r,readTime:n.serializer.Sa(i)}}))},t.prototype.Da=function(t){var e=this,n=Nn(t),r=b.MIN;return n.Vo({index:$n.readTimeIndex,reverse:!0},(function(t,n,i){n.readTime&&(r=e.serializer.Sa(n.readTime)),i.done()})).next((function(){return r}))},t.prototype.Ca=function(e){return new t.Fa(this,!!e&&e.Na)},t.prototype.ka=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Sn(t).get(Bn.key).next((function(t){return Ie(!!t),t}))},t.prototype.Ia=function(t,e){return Sn(t).put(Bn.key,e)},t.prototype.wa=function(t){if(t){var e=this.serializer.ya(t);return e instanceof wt&&e.version.isEqual(b.S())?null:e}return null},t}();function Sn(t){return er.co(t,Bn.store)}function Nn(t){return er.co(t,$n.store)}function On(t){return t.path.j()}function kn(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Te();e=t.noDocument}return JSON.stringify(e).length}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */An.Fa=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).$a=e,r.Na=n,r.Ma=new De((function(t){return t.toString()})),r}return r.__extends(e,t),e.prototype.ir=function(t){var e=this,n=[],r=0,i=new O((function(t,e){return Se(t.K(),e.K())}));return this.zn.forEach((function(o,s){var a=e.Ma.get(o);if(s){var u=e.$a.serializer.La(s,e.readTime);i=i.add(o.path.L());var c=kn(u);r+=c-a,n.push(e.$a.Jn(t,o,u))}else if(r-=a,e.Na){var h=e.$a.serializer.La(new wt(o,b.S()),e.readTime);n.push(e.$a.Jn(t,o,h))}else n.push(e.$a.Zn(t,o))})),i.forEach((function(r){n.push(e.$a.ur.Mo(t,r))})),n.push(this.$a.updateMetadata(t,r)),je.Kn(n)},e.prototype.er=function(t,e){var n=this;return this.$a.Ra(t,e).next((function(t){return null===t?(n.Ma.set(e,0),null):(n.Ma.set(e,t.size),t.Aa)}))},e.prototype.sr=function(t,e){var n=this;return this.$a.Pa(t,e).next((function(t){var e=t.Va;return t.ga.forEach((function(t,e){n.Ma.set(t,e)})),e}))},e}(Ue);var Cn=function(){function t(){this.Oa=new Dn}return t.prototype.Mo=function(t,e){return this.Oa.add(e),je.resolve()},t.prototype.Pr=function(t,e){return je.resolve(this.Oa.getEntries(e))},t}(),Dn=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.B(),n=t.L(),r=this.index[e]||new O(_.k),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.B(),n=t.L(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new O(_.k)).j()},t}(),xn=10,Pn=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;Ie(n<r&&n>=0&&r<=xn);var o=new un(e);n<1&&r>=1&&(function(t){t.createObjectStore(Rn.store)}(t),function(t){t.createObjectStore(Mn.store,{keyPath:Mn.keyPath}),t.createObjectStore(jn.store,{keyPath:jn.keyPath,autoIncrement:!0}).createIndex(jn.userMutationsIndex,jn.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Un.store)}(t),Wn(t),function(t){t.createObjectStore($n.store)}(t));var s=je.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(zn.store),t.deleteObjectStore(qn.store),t.deleteObjectStore(Gn.store)}(t),Wn(t)),s=s.next((function(){return function(t){var e=t.store(Gn.store),n=new Gn(0,0,b.MIN.F(),0);return e.put(Gn.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(jn.store).Ro().next((function(n){t.deleteObjectStore(jn.store),t.createObjectStore(jn.store,{keyPath:jn.keyPath,autoIncrement:!0}).createIndex(jn.userMutationsIndex,jn.userMutationsKeyPath,{unique:!0});var r=e.store(jn.store),i=n.map((function(t){return r.put(t)}));return je.Kn(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(Kn.store,{keyPath:Kn.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(Bn.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore($n.store);e.createIndex($n.readTimeIndex,$n.readTimeIndexPath,{unique:!1}),e.createIndex($n.collectionReadTimeIndex,$n.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.rewriteCanonicalIds(o)}))),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store($n.store).Vo((function(t,n){e+=kn(n)})).next((function(){var n=new Bn(e);return t.store(Bn.store).put(Bn.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Mn.store),r=t.store(jn.store);return n.Ro().next((function(n){return je.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Ro(jn.userMutationsIndex,i).next((function(r){return je.forEach(r,(function(r){Ie(r.userId===n.userId);var i=e.serializer.Oo(r);return vn(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(zn.store),n=t.store($n.store);return Tn(t).next((function(t){var r=[];return n.Vo((function(n,i){var o=new _(n),s=function(t){return[0,tn(t)]}(o);r.push(e.get(s).next((function(n){return n?je.resolve():function(n){return e.put(new zn(0,tn(n),t))}(o)})))})).next((function(){return je.Kn(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(Hn.store,{keyPath:Hn.keyPath});var n=e.store(Hn.store),r=new Dn,i=function(t){if(r.add(t)){var e=t.B(),i=t.L();return n.put({collectionId:e,parent:tn(i)})}};return e.store($n.store).Vo({Po:!0},(function(t,e){var n=new _(t);return i(n.L())})).next((function(){return e.store(Un.store).Vo({Po:!0},(function(t,e){t[0];var n=t[1],r=(t[2],rn(n));return i(r.L())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(qn.store);return n.Vo((function(t,r){var i=e.serializer.ca(r),o=e.serializer._a(i);return n.put(o)}))},t}(),Ln=function(t,e){this.seconds=t,this.nanoseconds=e},Rn=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Rn.store="owner",Rn.key="owner";var Mn=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Mn.store="mutationQueues",Mn.keyPath="userId";var jn=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};jn.store="mutations",jn.keyPath="batchId",jn.userMutationsIndex="userMutationsIndex",jn.userMutationsKeyPath=["userId","batchId"];var Un=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,tn(e)]},t.key=function(t,e,n){return[t,tn(e),n]},t}();Un.store="documentMutations",Un.PLACEHOLDER=new Un;var Vn=function(t,e){this.path=t,this.readTime=e},Fn=function(t,e){this.path=t,this.version=e},$n=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};$n.store="remoteDocuments",$n.readTimeIndex="readTimeIndex",$n.readTimeIndexPath="readTime",$n.collectionReadTimeIndex="collectionReadTimeIndex",$n.collectionReadTimeIndexPath=["parentPath","readTime"];var Bn=function(t){this.byteSize=t};Bn.store="remoteDocumentGlobal",Bn.key="remoteDocumentGlobalKey";var qn=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};qn.store="targets",qn.keyPath="targetId",qn.queryTargetsIndexName="queryTargetsIndex",qn.queryTargetsKeyPath=["canonicalId","targetId"];var zn=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};zn.store="targetDocuments",zn.keyPath=["targetId","path"],zn.documentTargetsIndex="documentTargetsIndex",zn.documentTargetsKeyPath=["path","targetId"];var Gn=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Gn.key="targetGlobalKey",Gn.store="targetGlobal";var Hn=function(t,e){this.collectionId=t,this.parent=e};function Wn(t){t.createObjectStore(zn.store,{keyPath:zn.keyPath}).createIndex(zn.documentTargetsIndex,zn.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(qn.store,{keyPath:qn.keyPath}).createIndex(qn.queryTargetsIndexName,qn.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Gn.store)}Hn.store="collectionParents",Hn.keyPath=["collectionId","parent"];var Kn=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Kn.store="clientMetadata",Kn.keyPath="clientId";var Yn=r.__spreadArrays(r.__spreadArrays(r.__spreadArrays([Mn.store,jn.store,Un.store,$n.store,qn.store,Rn.store,Gn.store,zn.store],[Kn.store]),[Bn.store]),[Hn.store]),Xn=function(){function t(){this.xa=new Dn}return t.prototype.Mo=function(t,e){var n=this;if(!this.xa.has(e)){var r=e.B(),i=e.L();t.rr((function(){n.xa.add(e)}));var o={collectionId:r,parent:tn(i)};return Jn(t).put(o)}return je.resolve()},t.prototype.Pr=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Oe(e),""],!1,!0);return Jn(t).Ro(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(rn(o.parent))}return n}))},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Jn(t){return er.co(t,Hn.store)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Zn=function(){function t(t){this.Ba=t}return t.prototype.ya=function(t){if(t.document)return this.Ba.vi(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=I.it(t.noDocument.path),n=this.qa(t.noDocument.readTime);return new wt(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){var r=I.it(t.unknownDocument.path),i=this.qa(t.unknownDocument.version);return new _t(r,i)}return Te()},t.prototype.La=function(t,e){var n=this.pa(e),r=t.key.path.L().j();if(t instanceof bt){var i=this.Ba.bi(t),o=t.hasCommittedMutations;return new $n(null,null,i,o,n,r)}if(t instanceof wt){var s=t.key.path.j(),a=this.Ua(t.version),u=t.hasCommittedMutations;return new $n(null,new Vn(s,a),null,u,n,r)}if(t instanceof _t){var c=t.key.path.j(),h=this.Ua(t.version);return new $n(new Fn(c,h),null,null,!0,n,r)}return Te()},t.prototype.pa=function(t){var e=t.F();return[e.seconds,e.nanoseconds]},t.prototype.Sa=function(t){var e=new g(t[0],t[1]);return b.v(e)},t.prototype.Ua=function(t){var e=t.F();return new Ln(e.seconds,e.nanoseconds)},t.prototype.qa=function(t){var e=new g(t.seconds,t.nanoseconds);return b.v(e)},t.prototype.$o=function(t,e){var n=this,r=e.baseMutations.map((function(t){return n.Ba.$i(t)})),i=e.mutations.map((function(t){return n.Ba.$i(t)}));return new jn(t,e.batchId,e.An.toMillis(),r,i)},t.prototype.Oo=function(t){var e=this,n=(t.baseMutations||[]).map((function(t){return e.Ba.xi(t)})),r=t.mutations.map((function(t){return e.Ba.xi(t)})),i=g.fromMillis(t.localWriteTimeMs);return new xe(t.batchId,i,n,r)},t.prototype.ca=function(t){var e,n=this.qa(t.readTime),r=void 0!==t.lastLimboFreeSnapshotVersion?this.qa(t.lastLimboFreeSnapshotVersion):b.MIN;return e=void 0!==t.query.documents?this.Ba.Ki(t.query):this.Ba.Ji(t.query),new Ut(e,t.targetId,0,t.lastListenSequenceNumber,n,r,P.fromBase64String(t.resumeToken))},t.prototype._a=function(t){var e,n=this.Ua(t.ts),r=this.Ua(t.lastLimboFreeSnapshotVersion);e=t.target.Pe()?this.Ba.ji(t.target):this.Ba.Gi(t.target);var i=t.resumeToken.toBase64();return new qn(t.targetId,t.target.canonicalId(),n,i,t.sequenceNumber,r,e)},t}(),Qn="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",tr=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jo=e,r.Qa=n,r}return r.__extends(e,t),e}(Fe),er=function(){function t(e,n,r,i,o,s,a,u){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Nr=s,this.Wa=u,this.ja=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ka=null,this.inForeground=!1,this.Ga=null,this.za=null,this.Ha=Number.NEGATIVE_INFINITY,this.Ya=function(t){return Promise.resolve()},!t.ho())throw new f(l.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");if(this.yo=new ir(this,o),this.Ja=n+t.Xa,this.serializer=new Zn(a),this.document=i.document,this.Za=new wn(this.yo,this.serializer),this.ur=new Xn,this.or=new An(this.serializer,this.ur),!i.window||!i.window.localStorage)throw new f(l.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=i.window,this.tu=this.window.localStorage}return t.co=function(t,e){if(t instanceof tr)return on.co(t.jo,e);throw Te()},t.prototype.start=function(){var t=this;return on.ro(this.Ja,xn,new Pn(this.serializer)).then((function(e){return t.eu=e,t.su()})).then((function(){return t.iu(),t.nu(),t.ru(),t.eu.runTransaction("readonly",[Gn.store],(function(t){return Tn(t)}))})).then((function(e){t.hu=new qe(e,t.Wa)})).then((function(){t.ja=!0})).catch((function(e){return t.eu&&t.eu.close(),Promise.reject(e)}))},t.prototype.ou=function(t){var e=this;return this.Ya=function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.Kh?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.au=function(t){var e=this;this.eu._o((function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.uu=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Nr.Zr((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.Kh?[4,this.su()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.su=function(){var t=this;return this.eu.runTransaction("readwrite",Yn,(function(e){return rr(e).put(new Kn(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.cu(e).next((function(e){e||(t.isPrimary=!1,t.Nr.Zr((function(){return t.Ya(!1)})))}))})).next((function(){return t._u(e)})).next((function(n){return t.isPrimary&&!n?t.lu(e).next((function(){return!1})):!!n&&t.du(e).next((function(){return!0}))}))})).catch((function(e){if(!t.allowTabSynchronization)throw e;return be("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Nr.Zr((function(){return t.Ya(e)})),t.isPrimary=e}))},t.prototype.cu=function(t){var e=this;return nr(t).get(Rn.key).next((function(t){return je.resolve(e.fu(t))}))},t.prototype.Tu=function(t){return rr(t).delete(this.clientId)},t.prototype.Eu=function(){return r.__awaiter(this,void 0,void 0,(function(){var e=this;return r.__generator(this,(function(n){switch(n.label){case 0:return!this.isPrimary||this.Iu(this.Ha,18e5)?[3,2]:(this.Ha=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(n){var r=t.co(n,Kn.store);return r.Ro().next((function(t){var n=e.wu(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return je.forEach(i,(function(t){return r.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:n.sent().forEach((function(t){e.window.localStorage.removeItem(e.Ru(t.clientId))})),n.label=2;case 2:return[2]}}))}))},t.prototype.ru=function(){var t=this;this.za=this.Nr.Wr("client_metadata_refresh",4e3,(function(){return t.su().then((function(){return t.Eu()})).then((function(){return t.ru()}))}))},t.prototype.fu=function(t){return!!t&&t.ownerId===this.clientId},t.prototype._u=function(t){var e=this;return nr(t).get(Rn.key).next((function(n){if(null!==n&&e.Iu(n.leaseTimestampMs,5e3)&&!e.Au(n.ownerId)){if(e.fu(n)&&e.networkEnabled)return!0;if(!e.fu(n)){if(!n.allowTabSynchronization)throw new f(l.FAILED_PRECONDITION,Qn);return!1}}return!(!e.networkEnabled||!e.inForeground)||rr(t).Ro().next((function(t){return void 0===e.wu(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&be("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.mu=function(){return r.__awaiter(this,void 0,void 0,(function(){var t=this;return r.__generator(this,(function(e){switch(e.label){case 0:return this.ja=!1,this.Pu(),this.za&&(this.za.cancel(),this.za=null),this.Vu(),this.gu(),[4,this.eu.runTransaction("readwrite",[Rn.store,Kn.store],(function(e){return t.lu(e).next((function(){return t.Tu(e)}))}))];case 1:return e.sent(),this.eu.close(),this.pu(),[2]}}))}))},t.prototype.wu=function(t,e){var n=this;return t.filter((function(t){return n.Iu(t.updateTimeMs,e)&&!n.Au(t.clientId)}))},t.prototype.yu=function(){var t=this;return this.eu.runTransaction("readonly",[Kn.store],(function(e){return rr(e).Ro().next((function(e){return t.wu(e,18e5).map((function(t){return t.clientId}))}))}))},t.clearPersistence=function(e){return r.__awaiter(this,void 0,void 0,(function(){var n;return r.__generator(this,(function(r){switch(r.label){case 0:return t.ho()?(n=e+t.Xa,[4,on.delete(n)]):[2,Promise.resolve()];case 1:return r.sent(),[2]}}))}))},Object.defineProperty(t.prototype,"Kh",{get:function(){return this.ja},enumerable:!0,configurable:!0}),t.prototype.bu=function(t){return pn.vo(t,this.serializer,this.ur,this.yo)},t.prototype.vu=function(){return this.Za},t.prototype.Su=function(){return this.or},t.prototype.Du=function(){return this.ur},t.prototype.runTransaction=function(t,e,n){var r=this;be("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.eu.runTransaction(o,Yn,(function(o){return i=new tr(o,r.hu.next()),"readwrite-primary"===e?r.cu(o).next((function(t){return!!t||r._u(o)})).next((function(e){if(!e)throw we("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Nr.Zr((function(){return r.Ya(!1)})),new f(l.FAILED_PRECONDITION,Ve);return n(i)})).next((function(t){return r.du(o).next((function(){return t}))})):r.Cu(o).next((function(){return n(i)}))})).then((function(t){return i.hr(),t}))},t.prototype.Cu=function(t){var e=this;return nr(t).get(Rn.key).next((function(t){if(null!==t&&e.Iu(t.leaseTimestampMs,5e3)&&!e.Au(t.ownerId)&&!e.fu(t)&&!t.allowTabSynchronization)throw new f(l.FAILED_PRECONDITION,Qn)}))},t.prototype.du=function(t){var e=new Rn(this.clientId,this.allowTabSynchronization,Date.now());return nr(t).put(Rn.key,e)},t.ho=function(){return on.ho()},t.Fu=function(t){var e=t.ci.projectId;return t.ci.In||(e+="."+t.ci.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.lu=function(t){var e=this,n=nr(t);return n.get(Rn.key).next((function(t){return e.fu(t)?(be("IndexedDbPersistence","Releasing primary lease."),n.delete(Rn.key)):je.resolve()}))},t.prototype.Iu=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(we("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.iu=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ga=function(){t.Nr.Zr((function(){return t.inForeground="visible"===t.document.visibilityState,t.su()}))},this.document.addEventListener("visibilitychange",this.Ga),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Vu=function(){this.Ga&&(this.document.removeEventListener("visibilitychange",this.Ga),this.Ga=null)},t.prototype.nu=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.Ka=function(){t.Pu(),t.Nr.Zr((function(){return t.mu()}))},this.window.addEventListener("unload",this.Ka))},t.prototype.gu=function(){this.Ka&&(this.window.removeEventListener("unload",this.Ka),this.Ka=null)},t.prototype.Au=function(t){try{var e=null!==this.tu.getItem(this.Ru(t));return be("IndexedDbPersistence","Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(t){return we("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Pu=function(){try{this.tu.setItem(this.Ru(this.clientId),String(Date.now()))}catch(t){we("Failed to set zombie client id.",t)}},t.prototype.pu=function(){try{this.tu.removeItem(this.Ru(this.clientId))}catch(t){}},t.prototype.Ru=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function nr(t){return t.store(Rn.store)}function rr(t){return t.store(Kn.store)}er.Xa="main";var ir=function(){function t(t,e){this.db=t,this.Nu=null,this.qh=new Qe(this,e)}return t.prototype.Yh=function(t){var e=this.ku(t);return this.db.vu().la(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.ku=function(t){var e=0;return this.Xh(t,(function(t){e++})).next((function(){return e}))},t.prototype.Xs=function(t,e){return this.db.vu().Xs(t,e)},t.prototype.Xh=function(t,e){return this.$u(t,(function(t,n){return e(n)}))},t.prototype.Mu=function(t){this.Nu=t},t.prototype.vn=function(t,e){return or(t,e)},t.prototype.Dn=function(t,e){return or(t,e)},t.prototype.Zh=function(t,e,n){return this.db.vu().Zh(t,e,n)},t.prototype.Go=function(t,e){return or(t,e)},t.prototype.Lu=function(t,e){return this.Nu.Mn(e)?je.resolve(!0):function(t,e){var n=!1;return gn(t).po((function(r){return dn(t,r,e).next((function(t){return t&&(n=!0),je.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.to=function(t,e){var n=this,r=this.db.Su().Ca(),i=[],o=0;return this.$u(t,(function(s,a){if(a<=e){var u=n.Lu(t,s).next((function(e){if(!e)return o++,r.tr(t,s).next((function(){return r.Zn(s),In(t).delete([0,tn(s.path)])}))}));i.push(u)}})).next((function(){return je.Kn(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.es(t.Qa);return this.db.vu().oa(t,n)},t.prototype.Ou=function(t,e){return or(t,e)},t.prototype.$u=function(t,e){var n,r=In(t),i=qe.Fr;return r.Vo({index:zn.documentTargetsIndex},(function(t,r){var o=t[0],s=(t[1],r.path),a=r.sequenceNumber;0===o?(i!==qe.Fr&&e(new I(rn(n)),i),i=a,n=s):i=qe.Fr})).next((function(){i!==qe.Fr&&e(new I(rn(n)),i)}))},t.prototype.so=function(t){return this.db.Su().ka(t)},t}();function or(t,e){return In(t).put(function(t,e){return new zn(0,tn(t.path),e)}(e,t.Qa))}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var sr=function(){function t(t,e,n){this.persistence=t,this.xu=e,this.Bu=new Re,this.qu=new A(Se),this.Uu=new De((function(t){return t.canonicalId()})),this.Qu=b.MIN,this.persistence.yo.Mu(this.Bu),this.ar=t.bu(n),this.Wu=t.Su(),this.Za=t.vu(),this.ju=new $e(this.Wu,this.ar,this.persistence.Du()),this.xu.Ku(this.ju)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Gu=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o=this;return r.__generator(this,(function(r){switch(r.label){case 0:return e=this.ar,n=this.ju,[4,this.persistence.runTransaction("Handle user change","readonly",(function(r){var i;return o.ar.Uo(r).next((function(s){return i=s,e=o.persistence.bu(t),n=new $e(o.Wu,e,o.persistence.Du()),e.Uo(r)})).next((function(t){for(var e=[],o=[],s=Xt(),a=0,u=i;a<u.length;a++){var c=u[a];e.push(c.batchId);for(var h=0,l=c.mutations;h<l.length;h++){var f=l[h];s=s.add(f.key)}}for(var p=0,d=t;p<d.length;p++){var v=d[p];o.push(v.batchId);for(var y=0,m=v.mutations;y<m.length;y++){var g=m[y];s=s.add(g.key)}}return n.Tr(r,s).next((function(t){return{zu:t,Hu:e,Yu:o}}))}))}))];case 1:return i=r.sent(),[2,(this.ar=e,this.ju=n,this.xu.Ku(this.ju),i)]}}))}))},t.prototype.Ju=function(t){var e,n=this,r=g.now(),i=t.reduce((function(t,e){return t.add(e.key)}),Xt());return this.persistence.runTransaction("Locally write mutations","readwrite",(function(o){return n.ju.Tr(o,i).next((function(i){e=i;for(var s=[],a=0,u=t;a<u.length;a++){var c=u[a],h=c.ee(e.get(c.key));null!=h&&s.push(new ft(c.key,h,h.se(),ct.exists(!0)))}return n.ar.ko(o,r,s,t)}))})).then((function(t){var n=t.Pn(e);return{batchId:t.batchId,zn:n}}))},t.prototype.Do=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(n){var r=t.batch.keys(),i=e.Wu.Ca({Na:!0});return e.ar.Do(n,t.batch,t.streamToken).next((function(){return e.Xu(n,t,i)})).next((function(){return i.apply(n)})).next((function(){return e.ar.zo(n)})).next((function(){return e.ju.Tr(n,r)}))}))},t.prototype.Zu=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",(function(n){var r;return e.ar.Lo(n,t).next((function(t){return Ie(null!==t),r=t.keys(),e.ar.Wo(n,t)})).next((function(){return e.ar.zo(n)})).next((function(){return e.ju.Tr(n,r)}))}))},t.prototype.qo=function(){var t=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.ar.qo(e)}))},t.prototype.Fo=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly",(function(e){return t.ar.Fo(e)}))},t.prototype.No=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",(function(n){return e.ar.No(n,t)}))},t.prototype.ea=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Za.ea(e)}))},t.prototype.tc=function(e){var n=this,r=e.ts,i=this.qu;return this.persistence.runTransaction("Apply remote event","readwrite-primary",(function(o){var s=n.Wu.Ca({Na:!0});i=n.qu;var a=[];e.Ts.forEach((function(e,s){var u=i.get(s);if(u){a.push(n.Za.Ta(o,e.gs,s).next((function(){return n.Za.fa(o,e.Ps,s)})));var c=e.resumeToken;if(c.Ot()>0){var h=u.ss(c,r).es(o.Qa);i=i.nt(s,h),t.ec(u,h,e)&&a.push(n.Za.oa(o,h))}}}));var u=qt(),c=Xt();if(e.Is.forEach((function(t,e){c=c.add(t)})),a.push(s.getEntries(o,c).next((function(t){e.Is.forEach((function(i,c){var h=t.get(i);c instanceof wt&&c.version.isEqual(b.MIN)?(s.Zn(i,r),u=u.nt(i,c)):null==h||c.version.D(h.version)>0||0===c.version.D(h.version)&&h.hasPendingWrites?(s.Jn(c,r),u=u.nt(i,c)):be("LocalStore","Ignoring outdated watch update for ",i,". Current version:",h.version," Watch version:",c.version),e.ws.has(i)&&a.push(n.persistence.yo.Ou(o,i))}))}))),!r.isEqual(b.MIN)){var h=n.Za.ea(o).next((function(t){return n.Za.ia(o,o.Qa,r)}));a.push(h)}return je.Kn(a).next((function(){return s.apply(o)})).next((function(){return n.ju.Er(o,u)}))})).then((function(t){return n.qu=i,t}))},t.ec=function(t,e,n){return Ie(e.resumeToken.Ot()>0),0===t.resumeToken.Ot()||e.ts.C()-t.ts.C()>=this.sc||n.Ps.size+n.Vs.size+n.gs.size>0},t.prototype.ic=function(t){for(var e=this,n=0,r=t;n<r.length;n++){var i=r[n],o=i.targetId;if(this.Bu.Sn(i.pr,o),this.Bu.Fn(i.yr,o),!i.fromCache){var s=this.qu.get(o),a=s.ts,u=s.ns(a);this.qu=this.qu.nt(o,u)}}return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(n){return je.forEach(t,(function(t){return je.forEach(t.yr,(function(t){return e.persistence.yo.Dn(n,t)}))}))}))},t.prototype.nc=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",(function(n){return void 0===t&&(t=-1),e.ar.Bo(n,t)}))},t.prototype.rc=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",(function(n){return e.ju.cr(n,t)}))},t.prototype.hc=function(t){var e=this;return this.persistence.runTransaction("Allocate target","readwrite",(function(n){var r;return e.Za.da(n,t).next((function(i){return i?(r=i,je.resolve(r)):e.Za.Xo(n).next((function(i){return r=new Ut(t,i,0,n.Qa),e.Za.na(n,r).next((function(){return r}))}))}))})).then((function(n){return null===e.qu.get(n.targetId)&&(e.qu=e.qu.nt(n.targetId,n),e.Uu.set(t,n.targetId)),n}))},t.prototype.da=function(t,e){var n=this.Uu.get(e);return void 0!==n?je.resolve(this.qu.get(n)):this.Za.da(t,e)},t.prototype.oc=function(t,e){var n=this,r=this.qu.get(t),i=e?"readwrite":"readwrite-primary";return this.persistence.runTransaction("Release target",i,(function(i){var o=n.Bu.Nn(t);return e?je.resolve():je.forEach(o,(function(t){return n.persistence.yo.Dn(i,t)})).next((function(){n.persistence.yo.removeTarget(i,r)}))})).then((function(){n.qu=n.qu.remove(t),n.Uu.delete(r.target)}))},t.prototype.ac=function(t,e){var n=this,r=b.MIN,i=Xt();return this.persistence.runTransaction("Execute query","readonly",(function(o){return n.da(o,t.xe()).next((function(t){if(t)return r=t.lastLimboFreeSnapshotVersion,n.Za.Ea(o,t.targetId).next((function(t){i=t}))})).next((function(){return n.xu.wr(o,t,e?r:b.MIN,e?i:Xt())})).next((function(t){return{documents:t,uc:i}}))}))},t.prototype.cc=function(t){var e=this;return this.persistence.runTransaction("Remote document keys","readonly",(function(n){return e.Za.Ea(n,t)}))},t.prototype.Xu=function(t,e,n){var r=this,i=e.batch,o=i.keys(),s=je.resolve();return o.forEach((function(r){s=s.next((function(){return n.tr(t,r)})).next((function(t){var o=t,s=e.gn.get(r);Ie(null!==s),(!o||o.version.D(s)<0)&&(o=i.qt(r,o,e))&&n.Jn(o,e.Vn)}))})),s.next((function(){return r.ar.Wo(t,i)}))},t.prototype.Gh=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.eo(n,e.qu)}))},t}();sr.sc=3e8;var ar=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).persistence=e,i.ar=e.bu(r),i.Wu=e.Su(),i.Za=e.vu(),i}return r.__extends(e,t),e.prototype.start=function(){return this._c()},e.prototype.lc=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",(function(n){return e.ar.xo(n,t).next((function(t){return t?e.ju.Tr(n,t):je.resolve(null)}))}))},e.prototype.dc=function(t){this.ar.Ko(t)},e.prototype.uu=function(t){this.persistence.uu(t)},e.prototype.yu=function(){return this.persistence.yu()},e.prototype.fc=function(t){var e=this,n=this.qu.get(t);return n?Promise.resolve(n.target):this.persistence.runTransaction("Get target data","readonly",(function(n){return e.Za.ui(n,t).next((function(t){return t?t.target:null}))}))},e.prototype.ba=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly",(function(e){return t.Wu.ba(e,t.Qu)})).then((function(e){var n=e.va,r=e.readTime;return t.Qu=r,n}))},e.prototype._c=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){switch(n.label){case 0:return t=this,[4,this.persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return e.Wu.Da(t)}))];case 1:return t.Qu=n.sent(),[2]}}))}))},e}(sr);function ur(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){if(t.code!==l.FAILED_PRECONDITION||t.message!==Ve)throw t;return be("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function cr(t,e){if(0!==e.length)throw new f(l.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+kr(e.length,"argument")+".")}function hr(t,e,n){if(e.length!==n)throw new f(l.INVALID_ARGUMENT,"Function "+t+"() requires "+kr(n,"argument")+", but was called with "+kr(e.length,"argument")+".")}function lr(t,e,n){if(e.length<n)throw new f(l.INVALID_ARGUMENT,"Function "+t+"() requires at least "+kr(n,"argument")+", but was called with "+kr(e.length,"argument")+".")}function vr(t,e,n,r){if(e.length<n||e.length>r)throw new f(l.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+kr(e.length,"argument")+".")}function yr(t,e,n,r){_r(t,e,Or(n)+" argument",r)}function mr(t,e,n,r){void 0!==r&&yr(t,e,n,r)}function gr(t,e,n,r){_r(t,e,n+" option",r)}function br(t,e,n,r){void 0!==r&&gr(t,e,n,r)}function wr(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],s=0,a=i;s<a.length;s++){var u=a[s];if(u===r)return;o.push(Tr(u))}var c=Tr(r);throw new f(l.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function _r(t,e,n,r){if(!("object"===e?Er(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=Tr(r);throw new f(l.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function Er(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function Tr(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Te()}function Ir(t,e,n){if(void 0===n)throw new f(l.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+Or(e)+" argument, but it was undefined.")}function Ar(t,e,n){D(e,(function(e,r){if(n.indexOf(e)<0)throw new f(l.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function Sr(t,e,n,r){var i=Tr(r);return new f(l.INVALID_ARGUMENT,"Function "+t+"() requires its "+Or(n)+" argument to be a "+e+", but it was: "+i)}function Nr(t,e,n){if(n<=0)throw new f(l.INVALID_ARGUMENT,'Function "'+t+'()" requires its '+Or(e)+" argument to be a positive number, but it was: "+n+".")}function Or(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function kr(t,e){return t+" "+e+(1===t?"":"s")}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Cr(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new f(l.INVALID_ARGUMENT,t)}return n.prototype=t.prototype,Object.assign(n,t),n
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}function Dr(){if("undefined"==typeof Uint8Array)throw new f(l.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function xr(){if(!ve.Lt().Tc)throw new f(l.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Pr=function(){function t(t){xr(),this.Ec=t}return t.fromBase64String=function(e){hr("Blob.fromBase64String",arguments,1),yr("Blob.fromBase64String","string",1,e),xr();try{return new t(P.fromBase64String(e))}catch(e){throw new f(l.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+e)}},t.fromUint8Array=function(e){if(hr("Blob.fromUint8Array",arguments,1),Dr(),!(e instanceof Uint8Array))throw Sr("Blob.fromUint8Array","Uint8Array",1,e);return new t(P.fromUint8Array(e))},t.prototype.toBase64=function(){return hr("Blob.toBase64",arguments,0),xr(),this.Ec.toBase64()},t.prototype.toUint8Array=function(){return hr("Blob.toUint8Array",arguments,0),Dr(),this.Ec.toUint8Array()},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.Ec.isEqual(t.Ec)},t}(),Lr=Cr(Pr,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),Rr=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(t,e,n,r){if(!(e instanceof Array)||e.length<1)throw new f(l.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+kr(1,"element")+".")}(0,t);for(var n=0;n<t.length;++n)if(yr("FieldPath","string",n,t[n]),0===t[n].length)throw new f(l.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.Ic=new T(t)}return t.documentId=function(){return t.wc},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Sr("isEqual","FieldPath",1,e);return this.Ic.isEqual(e.Ic)},t}();Rr.wc=new Rr(T.X().K());var Mr=new RegExp("[~\\*/\\[\\]]"),jr=function(){function t(t){this.Rc=t}return t.delete=function(){return cr("FieldValue.delete",arguments),Ur.instance},t.serverTimestamp=function(){return cr("FieldValue.serverTimestamp",arguments),Vr.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return lr("FieldValue.arrayUnion",arguments,1),new Fr(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return lr("FieldValue.arrayRemove",arguments,1),new $r(t)},t.increment=function(t){return yr("FieldValue.increment","number",1,t),hr("FieldValue.increment",arguments,1),new Br(t)},t.prototype.isEqual=function(t){return this===t},t}(),Ur=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return r.__extends(e,t),e}(jr);
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */Ur.instance=new Ur;var Vr=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return r.__extends(e,t),e}(jr);Vr.instance=new Vr;var Fr=function(t){function e(e){var n=this;return(n=t.call(this,"FieldValue.arrayUnion")||this).Ac=e,n}return r.__extends(e,t),e}(jr),$r=function(t){function e(e){var n=this;return(n=t.call(this,"FieldValue.arrayRemove")||this).Ac=e,n}return r.__extends(e,t),e}(jr),Br=function(t){function e(e){var n=this;return(n=t.call(this,"FieldValue.increment")||this).mc=e,n}return r.__extends(e,t),e}(jr),qr=Cr(jr,"Use FieldValue.<field>() instead."),zr=function(){function t(t,e){if(hr("GeoPoint",arguments,2),yr("GeoPoint","number",1,t),yr("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new f(l.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new f(l.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.Pc=t,this.Vc=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.Pc},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.Vc},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this.Pc===t.Pc&&this.Vc===t.Vc},t.prototype.p=function(t){return Se(this.Pc,t.Pc)||Se(this.Vc,t.Vc)},t}(),Gr=/^__.*__$/,Hr=function(){function t(t,e,n){this.data=t,this.se=e,this.fieldTransforms=n}return t.prototype.gc=function(t,e){var n=[];return null!==this.se?n.push(new ft(t,this.data,this.se,e)):n.push(new lt(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new pt(t,this.fieldTransforms)),n},t}(),Wr=function(){function t(t,e,n){this.data=t,this.se=e,this.fieldTransforms=n}return t.prototype.gc=function(t,e){var n=[new ft(t,this.data,this.se,e)];return this.fieldTransforms.length>0&&n.push(new pt(t,this.fieldTransforms)),n},t}();function Kr(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}var Yr=function(){function t(t,e,n,r,i,o){this.pc=t,this.methodName=e,this.path=n,this.yc=r,void 0===i&&this.bc(),this.yc=void 0!==r&&r,this.fieldTransforms=i||[],this.se=o||[]}return t.prototype.vc=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.pc,this.methodName,n,!1,this.fieldTransforms,this.se);return r.Sc(e),r},t.prototype.Dc=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.pc,this.methodName,n,!1,this.fieldTransforms,this.se);return r.bc(),r},t.prototype.Cc=function(e){return new t(this.pc,this.methodName,null,!0,this.fieldTransforms,this.se)},t.prototype.Fc=function(t){var e=null===this.path||this.path.q()?"":" (found in field "+this.path.toString()+")";return new f(l.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.se.find((function(e){return t.U(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.U(e.field)}))},t.prototype.bc=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.Sc(this.path.get(t))},t.prototype.Sc=function(t){if(0===t.length)throw this.Fc("Document fields must not be empty");if(Kr(this.pc)&&Gr.test(t))throw this.Fc('Document fields cannot begin and end with "__"')},t}(),Xr=function(t,e){this.ci=t,this.key=e},Jr=function(){function t(t,e){this.serializer=t,this.Nc=e}return t.prototype.kc=function(t,e){var n=new Yr(0,t,T.H);Qr("Data must be an object, but it was:",n,e);var r=this.$c(e,n);return new Hr(new yt(r),null,n.fieldTransforms)},t.prototype.Mc=function(t,e,n){var r=new Yr(2,t,T.H);Qr("Data must be an object, but it was:",r,e);var i,o,s=this.$c(e,r);if(n){for(var a=new O(T.k),u=0,c=n;u<c.length;u++){var h=c[u],p=void 0;if(h instanceof Rr)p=h.Ic;else{if("string"!=typeof h)throw Te();p=ei(t,h)}if(!r.contains(p))throw new f(l.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");a=a.add(p)}i=st.Kt(a),o=r.fieldTransforms.filter((function(t){return i.zt(t.field)}))}else i=st.Gt(r.se),o=r.fieldTransforms;return new Hr(new yt(s),i,o)},t.prototype.Lc=function(t,e){var n=this,r=new Yr(1,t,T.H);Qr("Data must be an object, but it was:",r,e);var i=new O(T.k),o=yt._e();D(e,(function(e,s){var a=ei(t,e),u=r.Dc(a);if((s=n.Oc(s,u))instanceof Ur)i=i.add(a);else{var c=n.xc(s,u);null!=c&&(i=i.add(a),o.set(a,c))}}));var s=st.Kt(i);return new Wr(o.he(),s,r.fieldTransforms)},t.prototype.Bc=function(t,e,n,r){var i=new Yr(1,t,T.H),o=[ti(t,e)],s=[n];if(r.length%2!=0)throw new f(l.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var a=0;a<r.length;a+=2)o.push(ti(t,r[a])),s.push(r[a+1]);for(var u=new O(T.k),c=yt._e(),h=0;h<o.length;++h){var p=o[h],d=i.Dc(p),v=this.Oc(s[h],d);if(v instanceof Ur)u=u.add(p);else{var y=this.xc(v,d);null!=y&&(u=u.add(p),c.set(p,y))}}var m=st.Kt(u);return new Wr(c.he(),m,i.fieldTransforms)},t.prototype.qc=function(t,e,n){void 0===n&&(n=!1);var r=new Yr(n?4:3,t,T.H);return this.xc(e,r)},t.prototype.Oc=function(t,e){try{return this.Nc(t)}catch(t){var n=ni(t);throw e.Fc(n)}},t.prototype.xc=function(t,e){if(Zr(t=this.Oc(t,e)))return Qr("Unsupported field value:",e,t),this.$c(t,e);if(t instanceof jr)return this.Uc(t,e),null;if(e.path&&e.se.push(e.path),t instanceof Array){if(e.yc&&4!==e.pc)throw e.Fc("Nested arrays are not supported");return this.Qc(t,e)}return this.Wc(t,e)},t.prototype.$c=function(t,e){var n=this,r={};return x(t)?e.path&&e.path.length>0&&e.se.push(e.path):D(t,(function(t,i){var o=n.xc(i,e.vc(t));null!=o&&(r[t]=o)})),{mapValue:{fields:r}}},t.prototype.Qc=function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=o[i],a=this.xc(s,e.Cc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}},t.prototype.Uc=function(t,e){if(!Kr(e.pc))throw e.Fc(t.Rc+"() can only be used with update() and set()");if(null===e.path)throw e.Fc(t.Rc+"() is not currently supported inside arrays");if(t instanceof Ur){if(2!==e.pc)throw 1===e.pc?e.Fc("FieldValue.delete() can only appear at the top level of your update data"):e.Fc("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.se.push(e.path)}else if(t instanceof Vr)e.fieldTransforms.push(new at(e.path,et.instance));else if(t instanceof Fr){var n=this.jc(t.Rc,t.Ac),r=new nt(n);e.fieldTransforms.push(new at(e.path,r))}else if(t instanceof $r){var i=this.jc(t.Rc,t.Ac),o=new rt(i);e.fieldTransforms.push(new at(e.path,o))}else if(t instanceof Br){var s=this.qc("FieldValue.increment",t.mc),a=new it(this.serializer,s);e.fieldTransforms.push(new at(e.path,a))}else Te()},t.prototype.Wc=function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return this.serializer.Ti(t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=g.fromDate(t);return{timestampValue:this.serializer.F(n)}}if(t instanceof g){var r=new g(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:this.serializer.F(r)}}if(t instanceof zr)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Pr)return{bytesValue:this.serializer.Ei(t)};if(t instanceof Xr)return{referenceValue:this.serializer.wi(t.key.path,t.ci)};throw e.Fc("Unsupported field value: "+Tr(t))},t.prototype.jc=function(t,e){var n=this;return e.map((function(e,r){var i=new Yr(3,t,T.H);return n.xc(e,i.Cc(r))}))},t}();function Zr(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof g||t instanceof zr||t instanceof Pr||t instanceof Xr||t instanceof jr)}function Qr(t,e,n){if(!Zr(n)||!Er(n)){var r=Tr(n);throw"an object"===r?e.Fc(t+" a custom object"):e.Fc(t+" "+r)}}function ti(t,e){if(e instanceof Rr)return e.Ic;if("string"==typeof e)return ei(t,e);throw new f(l.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function ei(t,e){try{return function(t){if(t.search(Mr)>=0)throw new f(l.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Rr.bind.apply(Rr,r.__spreadArrays([void 0],t.split("."))))}catch(e){throw new f(l.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).Ic}catch(e){var n=ni(e);throw new f(l.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function ni(t){return t instanceof Error?t.message:t.toString()}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ri=function(){function t(t,e,n,r,i,o){this.Nr=t,this.Kc=n,this.Gc=r,this.zc=i,this.listener=o,this.state=0,this.Hc=0,this.Yc=null,this.stream=null,this.oh=new Ge(t,e)}return t.prototype.Jc=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Xc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Zc()},t.prototype.stop=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.Jc()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.t_=function(){this.state=0,this.oh.reset()},t.prototype.e_=function(){var t=this;this.Xc()&&null===this.Yc&&(this.Yc=this.Nr.Wr(this.Kc,6e4,(function(){return t.s_()})))},t.prototype.i_=function(t){this.n_(),this.stream.send(t)},t.prototype.s_=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){return this.Xc()?[2,this.close(0)]:[2]}))}))},t.prototype.n_=function(){this.Yc&&(this.Yc.cancel(),this.Yc=null)},t.prototype.close=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return this.n_(),this.oh.cancel(),this.Hc++,3!==t?this.oh.reset():e&&e.code===l.RESOURCE_EXHAUSTED?(we(e.toString()),we("Using maximum backoff delay to prevent overloading the backend."),this.oh.qr()):e&&e.code===l.UNAUTHENTICATED&&this.zc._(),null!==this.stream&&(this.r_(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.h_(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.r_=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.o_(this.Hc),n=this.Hc;this.zc.getToken().then((function(e){t.Hc===n&&t.a_(e)}),(function(n){e((function(){var e=new f(l.UNKNOWN,"Fetching auth token failed: "+n.message);return t.u_(e)}))}))},t.prototype.a_=function(t){var e=this,n=this.o_(this.Hc);this.stream=this.c_(t),this.stream.__((function(){n((function(){return e.state=2,e.listener.__()}))})),this.stream.h_((function(t){n((function(){return e.u_(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Zc=function(){var t=this;this.state=4,this.oh.Ur((function(){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.u_=function(t){return be("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.o_=function(t){var e=this;return function(n){e.Nr.Zr((function(){return e.Hc===t?n():(be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),ii=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,s}return r.__extends(e,t),e.prototype.c_=function(t){return this.Gc.l_("Listen",t)},e.prototype.onMessage=function(t){this.oh.reset();var e=this.serializer.Fi(t),n=this.serializer.ki(t);return this.listener.d_(e,n)},e.prototype.f_=function(t){var e={};e.database=this.serializer.pi,e.addTarget=this.serializer.xe(t);var n=this.serializer.en(t);n&&(e.labels=n),this.i_(e)},e.prototype.T_=function(t){var e={};e.database=this.serializer.pi,e.removeTarget=t,this.i_(e)},e}(ri),oi=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,s.E_=!1,s.lastStreamToken=P.xt,s}return r.__extends(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this.E_},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.E_=!1,t.prototype.start.call(this)},e.prototype.r_=function(){this.E_&&this.w_([])},e.prototype.c_=function(t){return this.Gc.l_("Write",t)},e.prototype.onMessage=function(t){if(Ie(!!t.streamToken),this.lastStreamToken=this.serializer.Ii(t.streamToken),this.E_){this.oh.reset();var e=this.serializer.Wi(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.R_(n,e)}return Ie(!t.writeResults||0===t.writeResults.length),this.E_=!0,this.listener.A_()},e.prototype.m_=function(){var t={};t.database=this.serializer.pi,this.i_(t)},e.prototype.w_=function(t){var e=this,n={streamToken:this.serializer.Ei(this.lastStreamToken),writes:t.map((function(t){return e.serializer.$i(t)}))};this.i_(n)},e}(ri),si=function(){function t(t,e,n,r){this.Nr=t,this.Gc=e,this.credentials=n,this.serializer=r}return t.prototype.P_=function(t){return new oi(this.Nr,this.Gc,this.credentials,this.serializer,t)},t.prototype.V_=function(t){return new ii(this.Nr,this.Gc,this.credentials,this.serializer,t)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.pi,writes:t.map((function(t){return e.serializer.$i(t)}))};return this.g_("Commit",n).then((function(t){return e.serializer.Wi(t.writeResults,t.commitTime)}))},t.prototype.p_=function(t){var e=this,n={database:this.serializer.pi,documents:t.map((function(t){return e.serializer.mi(t)}))};return this.y_("BatchGetDocuments",n).then((function(n){var r=qt();n.forEach((function(t){var n=e.serializer.Ci(t);r=r.nt(n.key,n)}));var i=[];return t.forEach((function(t){var e=r.get(t);Ie(!!e),i.push(e)})),i}))},t.prototype.g_=function(t,e){var n=this;return this.credentials.getToken().then((function(r){return n.Gc.g_(t,e,r)})).catch((function(t){throw t.code===l.UNAUTHENTICATED&&n.credentials._(),t}))},t.prototype.y_=function(t,e){var n=this;return this.credentials.getToken().then((function(r){return n.Gc.y_(t,e,r)})).catch((function(t){throw t.code===l.UNAUTHENTICATED&&n.credentials._(),t}))},t}(),ai=function(){function t(t){this.b_=t,this.v_=Kt(),this.mutations=[],this.S_=!1,this.D_=null,this.C_=new Set}return t.prototype.p_=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(r){switch(r.label){case 0:if(this.F_(),this.mutations.length>0)throw new f(l.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,this.b_.p_(t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof wt||t instanceof bt?n.N_(t):Te()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.gc(t,this.Zt(t))),this.C_.add(t)},t.prototype.update=function(t,e){try{this.write(e.gc(t,this.k_(t)))}catch(t){this.D_=t}this.C_.add(t)},t.prototype.delete=function(t){this.write([new dt(t,this.Zt(t))]),this.C_.add(t)},t.prototype.commit=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){switch(n.label){case 0:if(this.F_(),this.D_)throw this.D_;return t=this.v_,this.mutations.forEach((function(e){t=t.remove(e.key)})),t.forEach((function(t,n){e.mutations.push(new vt(t,e.Zt(t)))})),[4,this.b_.commit(this.mutations)];case 1:return n.sent(),this.S_=!0,[2]}}))}))},t.prototype.N_=function(t){var e;if(t instanceof bt)e=t.version;else{if(!(t instanceof wt))throw Te();e=b.S()}var n=this.v_.get(t.key);if(null!==n){if(!e.isEqual(n))throw new f(l.ABORTED,"Document version changed between two reads.")}else this.v_=this.v_.nt(t.key,e)},t.prototype.Zt=function(t){var e=this.v_.get(t);return!this.C_.has(t)&&e?ct.updateTime(e):ct.NONE},t.prototype.k_=function(t){var e=this.v_.get(t);if(!this.C_.has(t)&&e){if(e.isEqual(b.S()))throw new f(l.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ct.updateTime(e)}return ct.exists(!0)},t.prototype.write=function(t){this.F_(),this.mutations=this.mutations.concat(t)},t.prototype.F_=function(){},t}(),ui=function(){function t(t,e){this.jr=t,this.M_=e,this.state="Unknown",this.L_=0,this.O_=null,this.x_=!0}return t.prototype.B_=function(){var t=this;0===this.L_&&(this.q_("Unknown"),this.O_=this.jr.Wr("online_state_timeout",1e4,(function(){return t.O_=null,t.U_("Backend didn't respond within 10 seconds."),t.q_("Offline"),Promise.resolve()})))},t.prototype.Q_=function(t){"Online"===this.state?this.q_("Unknown"):(this.L_++,this.L_>=1&&(this.W_(),this.U_("Connection failed 1 times. Most recent error: "+t.toString()),this.q_("Offline")))},t.prototype.set=function(t){this.W_(),this.L_=0,"Online"===t&&(this.x_=!1),this.q_(t)},t.prototype.q_=function(t){t!==this.state&&(this.state=t,this.M_(t))},t.prototype.U_=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.x_?(we(e),this.x_=!1):be("OnlineStateTracker",e)},t.prototype.W_=function(){null!==this.O_&&(this.O_.cancel(),this.O_=null)},t}(),ci=function(){function t(t,e,n,i,o){var s=this;this.j_=t,this.b_=e,this.K_=[],this.G_=new Map,this.z_=null,this.networkEnabled=!1,this.isPrimary=!1,this.H_=o,this.H_.Y_((function(t){n.Zr((function(){return r.__awaiter(s,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.J_()?(be("RemoteStore","Restarting streams for network reachability change."),[4,this.X_()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Z_=new ui(n,i),this.tl=this.b_.V_({__:this.el.bind(this),h_:this.sl.bind(this),d_:this.il.bind(this)}),this.nl=this.b_.P_({__:this.rl.bind(this),h_:this.hl.bind(this),A_:this.ol.bind(this),R_:this.R_.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.J_()?(t=this.nl,[4,this.j_.Fo()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.al()?this.ul():this.Z_.set("Unknown"),[4,this.cl()];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},t.prototype.disableNetwork=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this._l()];case 1:return t.sent(),this.Z_.set("Offline"),[2]}}))}))},t.prototype._l=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return[4,this.nl.stop()];case 1:return t.sent(),[4,this.tl.stop()];case 2:return t.sent(),this.K_.length>0&&(be("RemoteStore","Stopping write stream with "+this.K_.length+" pending writes"),this.K_=[]),this.ll(),[2]}}))}))},t.prototype.mu=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return be("RemoteStore","RemoteStore shutting down."),this.networkEnabled=!1,[4,this._l()];case 1:return t.sent(),this.H_.mu(),this.Z_.set("Unknown"),[2]}}))}))},t.prototype.listen=function(t){this.G_.has(t.targetId)||(this.G_.set(t.targetId,t),this.al()?this.ul():this.tl.Xc()&&this.dl(t))},t.prototype.fl=function(t){this.G_.delete(t),this.tl.Xc()&&this.Tl(t),0===this.G_.size&&(this.tl.Xc()?this.tl.e_():this.J_()&&this.Z_.set("Unknown"))},t.prototype.ui=function(t){return this.G_.get(t)||null},t.prototype.ai=function(t){return this.El.ai(t)},t.prototype.dl=function(t){this.z_.Bs(t.targetId),this.tl.f_(t)},t.prototype.Tl=function(t){this.z_.Bs(t),this.tl.T_(t)},t.prototype.ul=function(){this.z_=new ue(this),this.tl.start(),this.Z_.B_()},t.prototype.al=function(){return this.J_()&&!this.tl.Jc()&&this.G_.size>0},t.prototype.J_=function(){return this.isPrimary&&this.networkEnabled},t.prototype.ll=function(){this.z_=null},t.prototype.el=function(){return r.__awaiter(this,void 0,void 0,(function(){var t=this;return r.__generator(this,(function(e){return this.G_.forEach((function(e,n){t.dl(e)})),[2]}))}))},t.prototype.sl=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.ll(),this.al()?(this.Z_.Q_(t),this.ul()):this.Z_.set("Unknown"),[2]}))}))},t.prototype.il=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n;return r.__generator(this,(function(r){switch(r.label){case 0:return this.Z_.set("Online"),t instanceof se&&2===t.state&&t.cause?[2,this.Il(t)]:(t instanceof ie?this.z_.zs(t):t instanceof oe?this.z_.si(t):this.z_.Js(t),e.isEqual(b.MIN)?[3,4]:[4,this.j_.ea()]);case 1:return n=r.sent(),e.D(n)>=0?[4,this.wl(e)]:[3,3];case 2:r.sent(),r.label=3;case 3:r.label=4;case 4:return[2]}}))}))},t.prototype.wl=function(t){var e=this,n=this.z_.ri(t);return n.Ts.forEach((function(n,r){if(n.resumeToken.Ot()>0){var i=e.G_.get(r);i&&e.G_.set(r,i.ss(n.resumeToken,t))}})),n.Es.forEach((function(t){var n=e.G_.get(t);if(n){e.G_.set(t,n.ss(P.xt,n.ts)),e.Tl(t);var r=new Ut(n.target,t,1,n.sequenceNumber);e.dl(r)}})),this.El.tc(n)},t.prototype.Il=function(t){var e=this,n=t.cause,i=Promise.resolve();return t.targetIds.forEach((function(t){i=i.then((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.G_.has(t)?[2,(this.G_.delete(t),this.z_.removeTarget(t),this.El.Rl(t,n))]:[2]}))}))}))})),i},t.prototype.cl=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e;return r.__generator(this,(function(n){switch(n.label){case 0:return this.Al()?(t=this.K_.length>0?this.K_[this.K_.length-1].batchId:-1,[4,this.j_.nc(t)]):[3,5];case 1:return null!==(e=n.sent())?[3,2]:(0===this.K_.length&&this.nl.e_(),[3,4]);case 2:return this.ml(e),[4,this.cl()];case 3:n.sent(),n.label=4;case 4:n.label=5;case 5:return this.Pl()&&this.Vl(),[2]}}))}))},t.prototype.Al=function(){return this.J_()&&this.K_.length<10},t.prototype.gl=function(){return this.K_.length},t.prototype.ml=function(t){this.K_.push(t),this.nl.Xc()&&this.nl.I_&&this.nl.w_(t.mutations)},t.prototype.Pl=function(){return this.J_()&&!this.nl.Jc()&&this.K_.length>0},t.prototype.Vl=function(){this.nl.start()},t.prototype.rl=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){return this.nl.m_(),[2]}))}))},t.prototype.ol=function(){var t=this;return this.j_.No(this.nl.lastStreamToken).then((function(){for(var e=0,n=t.K_;e<n.length;e++){var r=n[e];t.nl.w_(r.mutations)}})).catch(ur)},t.prototype.R_=function(t,e){var n=this,r=this.K_.shift(),i=Pe.from(r,t,e,this.nl.lastStreamToken);return this.El.pl(i).then((function(){return n.cl()}))},t.prototype.hl=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(r){return t&&this.K_.length>0?[2,(e=this.nl.I_?this.yl(t):this.bl(t),e.then((function(){n.Pl()&&n.Vl()})))]:[2]}))}))},t.prototype.bl=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return Ft(t.code)?[2,(be("RemoteStore","RemoteStore error before completed handshake; resetting stream token: ",this.nl.lastStreamToken),this.nl.lastStreamToken=P.xt,this.j_.No(P.xt).catch(ur))]:[2]}))}))},t.prototype.yl=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i=this;return r.__generator(this,(function(r){return Ft(n=t.code)&&n!==l.ABORTED?(e=this.K_.shift(),[2,(this.nl.t_(),this.El.vl(e.batchId,t).then((function(){return i.cl()})))]):[2]}))}))},t.prototype.Sl=function(){return new ai(this.b_)},t.prototype.X_=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this._l()];case 1:return t.sent(),this.Z_.set("Unknown"),[4,this.enableNetwork()];case 2:return t.sent(),[2]}}))}))},t.prototype.Dl=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.J_()?(be("RemoteStore","RemoteStore restarting streams for new credential"),[4,this.X_()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Cl=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,5];case 2:return t?[3,4]:[4,this._l()];case 3:e.sent(),this.Z_.set("Unknown"),e.label=4;case 4:e.label=5;case 5:return[2]}}))}))},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function hi(t,e){return"firestore_clients_"+t+"_"+e}function li(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.t()&&(r+="_"+e.uid),r}function fi(t,e){return"firestore_targets_"+t+"_"+e}var pi=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Fl=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new f(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(we("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Nl=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),di=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Fl=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new f(r.error.code,r.error.message)),i?new t(e,r.state,o):(we("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Nl=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),vi=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Fl=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Zt(),s=0;i&&s<r.activeTargetIds.length;++s)i=M(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(we("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),yi=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Fl=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(we("SharedClientState","Failed to parse online state: "+e),null)},t}(),mi=function(){function t(){this.activeTargetIds=Zt()}return t.prototype.kl=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.$l=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Nl=function(){var t={activeTargetIds:this.activeTargetIds.j(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),gi=function(){function t(e,n,r,i,o){if(this.Nr=e,this.platform=n,this.persistenceKey=r,this.Ml=i,this.El=null,this.M_=null,this.vr=null,this.Ll=this.Ol.bind(this),this.xl=new A(Se),this.Kh=!1,this.Bl=[],!t.ho(this.platform))throw new f(l.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.ql=hi(this.persistenceKey,this.Ml),this.Ul=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.xl=this.xl.nt(this.Ml,new mi),this.Ql=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Wl=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.jl=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Kl=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.platform.window.addEventListener("storage",this.Ll)}return t.ho=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e,n,i,o,s,a,u,c,h,l,f=this;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,this.El.yu()];case 1:for(t=r.sent(),e=0,n=t;e<n.length;e++)(i=n[e])!==this.Ml&&(o=this.getItem(hi(this.persistenceKey,i)))&&(s=vi.Fl(i,o))&&(this.xl=this.xl.nt(s.clientId,s));for(this.Gl(),(a=this.storage.getItem(this.Kl))&&(u=this.zl(a))&&this.Hl(u),c=0,h=this.Bl;c<h.length;c++)l=h[c],this.Ol(l);return this.Bl=[],this.platform.window.addEventListener("unload",(function(){return f.mu()})),this.Kh=!0,[2]}}))}))},t.prototype.Cr=function(t){this.setItem(this.Ul,JSON.stringify(t))},t.prototype.Yl=function(){return this.Jl(this.xl)},t.prototype.Xl=function(t){var e=!1;return this.xl.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.Zl=function(t){this.td(t,"pending")},t.prototype.ed=function(t,e,n){this.td(t,e,n),this.sd(t)},t.prototype.nd=function(t){var e="not-current";if(this.Xl(t)){var n=this.storage.getItem(fi(this.persistenceKey,t));if(n){var r=di.Fl(t,n);r&&(e=r.state)}}return this.rd.kl(t),this.Gl(),e},t.prototype.hd=function(t){this.rd.$l(t),this.Gl()},t.prototype.od=function(t){return this.rd.activeTargetIds.has(t)},t.prototype.ad=function(t){this.removeItem(fi(this.persistenceKey,t))},t.prototype.ud=function(t,e,n){this._d(t,e,n)},t.prototype.Gu=function(t,e,n){var r=this;e.forEach((function(t){r.sd(t)})),this.currentUser=t,n.forEach((function(t){r.Zl(t)}))},t.prototype.ld=function(t){this.dd(t)},t.prototype.mu=function(){this.Kh&&(this.platform.window.removeEventListener("storage",this.Ll),this.removeItem(this.ql),this.Kh=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return be("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){be("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){be("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ol=function(t){var e=this;if(t.storageArea===this.storage){if(be("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ql)return void we("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Nr.Ih((function(){return r.__awaiter(e,void 0,void 0,(function(){var e,n,i,o,s,a;return r.__generator(this,(function(r){if(this.Kh){if(null!==t.key)if(this.Ql.test(t.key)){if(null==t.newValue)return e=this.fd(t.key),[2,this.Td(e,null)];if(n=this.Ed(t.key,t.newValue))return[2,this.Td(n.clientId,n)]}else if(this.Wl.test(t.key)){if(null!==t.newValue&&(i=this.Id(t.key,t.newValue)))return[2,this.wd(i)]}else if(this.jl.test(t.key)){if(null!==t.newValue&&(o=this.Rd(t.key,t.newValue)))return[2,this.Ad(o)]}else if(t.key===this.Kl){if(null!==t.newValue&&(s=this.zl(t.newValue)))return[2,this.Hl(s)]}else t.key===this.Ul&&(a=function(t){var e=qe.Fr;if(null!=t)try{var n=JSON.parse(t);Ie("number"==typeof n),e=n}catch(t){we("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(t.newValue))!==qe.Fr&&this.vr(a)}else this.Bl.push(t);return[2]}))}))}))}},Object.defineProperty(t.prototype,"rd",{get:function(){return this.xl.get(this.Ml)},enumerable:!0,configurable:!0}),t.prototype.Gl=function(){this.setItem(this.ql,this.rd.Nl())},t.prototype.td=function(t,e,n){var r=new pi(this.currentUser,t,e,n),i=li(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Nl())},t.prototype.sd=function(t){var e=li(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.dd=function(t){var e={clientId:this.Ml,onlineState:t};this.storage.setItem(this.Kl,JSON.stringify(e))},t.prototype._d=function(t,e,n){var r=fi(this.persistenceKey,t),i=new di(t,e,n);this.setItem(r,i.Nl())},t.prototype.fd=function(t){var e=this.Ql.exec(t);return e?e[1]:null},t.prototype.Ed=function(t,e){var n=this.fd(t);return vi.Fl(n,e)},t.prototype.Id=function(t,e){var n=this.Wl.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return pi.Fl(new h(i),r,e)},t.prototype.Rd=function(t,e){var n=this.jl.exec(t),r=Number(n[1]);return di.Fl(r,e)},t.prototype.zl=function(t){return yi.Fl(t)},t.prototype.wd=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.El.md(t.batchId,t.state,t.error)]:(be("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.Ad=function(t){return this.El.Pd(t.targetId,t.state,t.error)},t.prototype.Td=function(t,e){var n=this,r=e?this.xl.nt(t,e):this.xl.remove(t),i=this.Jl(this.xl),o=this.Jl(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.El.Vd(s,a).then((function(){n.xl=r}))},t.prototype.Hl=function(t){this.xl.get(t.clientId)&&this.M_(t.onlineState)},t.prototype.Jl=function(t){var e=Zt();return t.forEach((function(t,n){e=e.kt(n.activeTargetIds)})),e},t}(),bi=function(){function t(){this.gd=new mi,this.pd={},this.El=null,this.M_=null,this.vr=null}return t.prototype.Zl=function(t){},t.prototype.ed=function(t,e,n){},t.prototype.nd=function(t){return this.gd.kl(t),this.pd[t]||"not-current"},t.prototype.ud=function(t,e,n){this.pd[t]=e},t.prototype.hd=function(t){this.gd.$l(t)},t.prototype.od=function(t){return this.gd.activeTargetIds.has(t)},t.prototype.ad=function(t){delete this.pd[t]},t.prototype.Yl=function(){return this.gd.activeTargetIds},t.prototype.Xl=function(t){return this.gd.activeTargetIds.has(t)},t.prototype.start=function(){return this.gd=new mi,Promise.resolve()},t.prototype.Gu=function(t,e,n){},t.prototype.ld=function(t){},t.prototype.mu=function(){},t.prototype.Cr=function(t){},t}(),wi=function(t){this.key=t},_i=function(t){this.key=t},Ei=function(){function t(t,e){this.query=t,this.yd=e,this.bd=null,this.ms=!1,this.vd=Xt(),this._s=Xt(),this.Sd=new Qt(t.Be.bind(t))}return Object.defineProperty(t.prototype,"Dd",{get:function(){return this.yd},enumerable:!0,configurable:!0}),t.prototype.Cd=function(t,e){var n=this,r=e?e.Fd:new te,i=e?e.Sd:this.Sd,o=e?e._s:this._s,s=i,a=!1,u=this.query.je()&&i.size===this.query.limit?i.last():null,c=this.query.Ke()&&i.size===this.query.limit?i.first():null;if(t.ut((function(t,e){var h=i.get(t),l=e instanceof bt?e:null;l&&(l=n.query.matches(l)?l:null);var f=!!h&&n._s.has(h.key),p=!!l&&(l.te||n._s.has(l.key)&&l.hasCommittedMutations),d=!1;h&&l?h.data().isEqual(l.data())?f!==p&&(r.track({type:3,doc:l}),d=!0):n.Nd(h,l)||(r.track({type:2,doc:l}),d=!0,(u&&n.query.Be(l,u)>0||c&&n.query.Be(l,c)<0)&&(a=!0)):!h&&l?(r.track({type:0,doc:l}),d=!0):h&&!l&&(r.track({type:1,doc:h}),d=!0,(u||c)&&(a=!0)),d&&(l?(s=s.add(l),o=p?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),this.query.je()||this.query.Ke())for(;s.size>this.query.limit;){var h=this.query.je()?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Sd:s,Fd:r,kd:a,_s:o}},t.prototype.Nd=function(t,e){return t.te&&e.hasCommittedMutations&&!e.te},t.prototype.ir=function(t,e,n){var r=this,i=this.Sd;this.Sd=t.Sd,this._s=t._s;var o=t.Fd.us();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return n(t)-n(e)}(t.type,e.type)||r.query.Be(t.doc,e.doc)})),this.$d(n);var s=e?this.Md():[],a=0===this.vd.size&&this.ms?1:0,u=a!==this.bd;return this.bd=a,0!==o.length||u?{snapshot:new ee(this.query,t.Sd,i,o,t._s,0===a,u,!1),Ld:s}:{Ld:s}},t.prototype.Od=function(t){return this.ms&&"Offline"===t?(this.ms=!1,this.ir({Sd:this.Sd,Fd:new te,_s:this._s,kd:!1},!1)):{Ld:[]}},t.prototype.xd=function(t){return!this.yd.has(t)&&!!this.Sd.has(t)&&!this.Sd.get(t).te},t.prototype.$d=function(t){var e=this;t&&(t.Ps.forEach((function(t){return e.yd=e.yd.add(t)})),t.Vs.forEach((function(t){})),t.gs.forEach((function(t){return e.yd=e.yd.delete(t)})),this.ms=t.ms)},t.prototype.Md=function(){var t=this;if(!this.ms)return[];var e=this.vd;this.vd=Xt(),this.Sd.forEach((function(e){t.xd(e.key)&&(t.vd=t.vd.add(e.key))}));var n=[];return e.forEach((function(e){t.vd.has(e)||n.push(new _i(e))})),this.vd.forEach((function(t){e.has(t)||n.push(new wi(t))})),n},t.prototype.Bd=function(t){this.yd=t.uc,this.vd=Xt();var e=this.Cd(t.documents);return this.ir(e,!0)},t.prototype.qd=function(){return ee.fs(this.query,this.Sd,this._s,0===this.bd)},t}(),Ti=function(){function t(t,e,n,r){this.jr=t,this.Ud=e,this.updateFunction=n,this.zr=r,this.Qd=5,this.oh=new Ge(this.jr,"transaction_retry")}return t.prototype.Wd=function(){this.jd()},t.prototype.jd=function(){var t=this;this.oh.Ur((function(){return r.__awaiter(t,void 0,void 0,(function(){var t,e,n=this;return r.__generator(this,(function(r){return t=this.Ud.Sl(),(e=this.Kd(t))&&e.then((function(e){n.jr.Zr((function(){return t.commit().then((function(){n.zr.resolve(e)})).catch((function(t){n.Gd(t)}))}))})).catch((function(t){n.Gd(t)})),[2]}))}))}))},t.prototype.Kd=function(t){try{var e=this.updateFunction(t);return!L(e)&&e.catch&&e.then?e:(this.zr.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.zr.reject(t),null}},t.prototype.Gd=function(t){var e=this;this.Qd>0&&this.zd(t)?(this.Qd-=1,this.jr.Zr((function(){return e.jd(),Promise.resolve()}))):this.zr.reject(t)},t.prototype.zd=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Ft(e)}return!1},t}(),Ii=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Ai=function(t){this.key=t,this.Hd=!1},Si=function(){function t(t,e,n,r,i){this.j_=t,this.Ud=e,this.Yd=n,this.currentUser=r,this.Jd=i,this.Xd=null,this.Zd=new De((function(t){return t.canonicalId()})),this.tf=new Map,this.ef=[],this.sf=new A(I.k),this.if=new Map,this.nf=new Re,this.rf={},this.hf=new Map,this.af=bn.Jo(),this.onlineState="Unknown"}return Object.defineProperty(t.prototype,"uf",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){this.Xd=t},t.prototype.listen=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o,s;return r.__generator(this,(function(r){switch(r.label){case 0:return this.cf("listen()"),(i=this.Zd.get(t))?(e=i.targetId,this.Yd.nd(e),n=i.view.qd(),[3,4]):[3,1];case 1:return[4,this.j_.hc(t.xe())];case 2:return o=r.sent(),s=this.Yd.nd(o.targetId),e=o.targetId,[4,this._f(t,e,"current"===s)];case 3:n=r.sent(),this.uf&&this.Ud.listen(o),r.label=4;case 4:return[2,(this.Xd.d_([n]),e)]}}))}))},t.prototype._f=function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s,a,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,this.j_.ac(t,!0)];case 1:return i=r.sent(),o=new Ei(t,i.uc),s=o.Cd(i.documents),a=re.As(e,n&&"Offline"!==this.onlineState),u=o.ir(s,this.uf,a),this.lf(e,u.Ld),c=new Ii(t,e,o),[2,(this.Zd.set(t,c),this.tf.has(e)?this.tf.get(e).push(t):this.tf.set(e,[t]),u.snapshot)]}}))}))},t.prototype.fl=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.cf("unlisten()"),e=this.Zd.get(t),(n=this.tf.get(e.targetId)).length>1?[2,(this.tf.set(e.targetId,n.filter((function(e){return!e.isEqual(t)}))),void this.Zd.delete(t))]:this.uf?(this.Yd.hd(e.targetId),this.Yd.Xl(e.targetId)?[3,2]:[4,this.j_.oc(e.targetId,!1).then((function(){i.Yd.ad(e.targetId),i.Ud.fl(e.targetId),i.df(e.targetId)})).catch(ur)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.df(e.targetId),[4,this.j_.oc(e.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))},t.prototype.write=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(r){switch(r.label){case 0:this.cf("write()"),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.j_.Ju(t)];case 2:return n=r.sent(),[3,4];case 3:if("IndexedDbTransactionError"===(i=r.sent()).name)return[2,(we("SyncEngine","Dropping write that cannot be persisted: "+i),void e.reject(new f(l.UNAVAILABLE,"Failed to persist write: "+i)))];throw i;case 4:return this.Yd.Zl(n.batchId),this.ff(n.batchId,e),[4,this.Tf(n.zn)];case 5:return r.sent(),[4,this.Ud.cl()];case 6:return r.sent(),[2]}}))}))},t.prototype.runTransaction=function(t,e,n){new Ti(t,this.Ud,e,n).Wd()},t.prototype.tc=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(r){switch(r.label){case 0:this.cf("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.j_.tc(t)];case 2:return e=r.sent(),t.Ts.forEach((function(t,e){var r=n.if.get(e);r&&(Ie(t.Ps.size+t.Vs.size+t.gs.size<=1),t.Ps.size>0?r.Hd=!0:t.Vs.size>0?Ie(r.Hd):t.gs.size>0&&(Ie(r.Hd),r.Hd=!1))})),[4,this.Tf(e,t)];case 3:return r.sent(),[3,6];case 4:return[4,ur(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.Od=function(t,e){this.cf("applyOnlineStateChange()");var n=[];this.Zd.forEach((function(e,r){var i=r.view.Od(t);i.snapshot&&n.push(i.snapshot)})),this.Xd.Ef(t),this.Xd.d_(n),this.onlineState=t},t.prototype.Rl=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a,u=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.cf("rejectListens()"),this.Yd.ud(t,"rejected",e),n=this.if.get(t),(i=n&&n.key)?(this.sf=this.sf.remove(i),this.if.delete(t),this.If(),o=(o=new A(I.k)).nt(i,new wt(i,b.S())),s=Xt().add(i),a=new ne(b.MIN,new Map,new O(Se),o,s),[2,this.tc(a)]):[4,this.j_.oc(t,!1).then((function(){return u.df(t,e)})).catch(ur)];case 1:return r.sent(),[2]}}))}))},t.prototype.pl=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(r){switch(r.label){case 0:this.cf("applySuccessfulWrite()"),e=t.batch.batchId,this.wf(e,null),this.Rf(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.j_.Do(t)];case 2:return n=r.sent(),this.Yd.ed(e,"acknowledged"),[4,this.Tf(n)];case 3:return r.sent(),[3,6];case 4:return[4,ur(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.vl=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n;return r.__generator(this,(function(r){switch(r.label){case 0:this.cf("rejectFailedWrite()"),this.wf(t,e),this.Rf(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.j_.Zu(t)];case 2:return n=r.sent(),this.Yd.ed(t,"rejected",e),[4,this.Tf(n)];case 3:return r.sent(),[3,6];case 4:return[4,ur(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.Af=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(r){switch(r.label){case 0:return this.Ud.J_()||be("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),[4,this.j_.qo()];case 1:return-1===(e=r.sent())?[2,void t.resolve()]:((n=this.hf.get(e)||[]).push(t),this.hf.set(e,n),[2])}}))}))},t.prototype.Rf=function(t){(this.hf.get(t)||[]).forEach((function(t){t.resolve()})),this.hf.delete(t)},t.prototype.mf=function(t){this.hf.forEach((function(e){e.forEach((function(e){e.reject(new f(l.CANCELLED,t))}))})),this.hf.clear()},t.prototype.ff=function(t,e){var n=this.rf[this.currentUser.s()];n||(n=new A(Se)),n=n.nt(t,e),this.rf[this.currentUser.s()]=n},t.prototype.wf=function(t,e){var n=this.rf[this.currentUser.s()];if(n){var r=n.get(t);r&&(e?r.reject(e):r.resolve(),n=n.remove(t)),this.rf[this.currentUser.s()]=n}},t.prototype.df=function(t,e){var n=this;void 0===e&&(e=null),this.Yd.hd(t);for(var r=0,i=this.tf.get(t);r<i.length;r++){var o=i[r];this.Zd.delete(o),e&&this.Xd.Pf(o,e)}if(this.tf.delete(t),this.uf){var s=this.nf.$n(t);this.nf.Nn(t),s.forEach((function(t){n.nf.Mn(t)||n.Vf(t)}))}},t.prototype.Vf=function(t){var e=this.sf.get(t);null!==e&&(this.Ud.fl(e),this.sf=this.sf.remove(t),this.if.delete(e),this.If())},t.prototype.lf=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof wi?(this.nf.vn(i.key,t),this.gf(i)):i instanceof _i?(be("SyncEngine","Document no longer in limbo: "+i.key),this.nf.Dn(i.key,t),this.nf.Mn(i.key)||this.Vf(i.key)):Te()}},t.prototype.gf=function(t){var e=t.key;this.sf.get(e)||(be("SyncEngine","New document in limbo: "+e),this.ef.push(e),this.If())},t.prototype.If=function(){for(;this.ef.length>0&&this.sf.size<this.Jd;){var t=this.ef.shift(),e=this.af.next();this.if.set(e,new Ai(t)),this.sf=this.sf.nt(t,e),this.Ud.listen(new Ut(Tt.ve(t.path).xe(),e,2,qe.Fr))}},t.prototype.pf=function(){return this.sf},t.prototype.yf=function(){return this.ef},t.prototype.Tf=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s=this;return r.__generator(this,(function(r){switch(r.label){case 0:return n=[],i=[],o=[],this.Zd.forEach((function(r,a){o.push(Promise.resolve().then((function(){var e=a.view.Cd(t);return e.kd?s.j_.ac(a.query,!1).then((function(t){var n=t.documents;return a.view.Cd(n,e)})):e})).then((function(t){var r=e&&e.Ts.get(a.targetId),o=a.view.ir(t,s.uf,r);if(s.lf(a.targetId,o.Ld),o.snapshot){s.uf&&s.Yd.ud(a.targetId,o.snapshot.fromCache?"not-current":"current"),n.push(o.snapshot);var u=Be.br(a.targetId,o.snapshot);i.push(u)}})))})),[4,Promise.all(o)];case 1:return r.sent(),this.Xd.d_(n),[4,this.j_.ic(i)];case 2:return r.sent(),[2]}}))}))},t.prototype.cf=function(t){},t.prototype.Dl=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(r){switch(r.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?(this.mf("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.j_.Gu(t)]):[3,3];case 1:return n=r.sent(),this.Yd.Gu(t,n.Hu,n.Yu),[4,this.Tf(n.zu)];case 2:r.sent(),r.label=3;case 3:return[4,this.Ud.Dl()];case 4:return r.sent(),[2]}}))}))},t.prototype.enableNetwork=function(){return this.Ud.enableNetwork()},t.prototype.disableNetwork=function(){return this.Ud.disableNetwork()},t.prototype.ai=function(t){var e=this.if.get(t);if(e&&e.Hd)return Xt().add(e.key);var n=Xt(),r=this.tf.get(t);if(!r)return n;for(var i=0,o=r;i<o.length;i++){var s=o[i],a=this.Zd.get(s);n=n.kt(a.view.Dd)}return n},t}(),Ni=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,n,r,i,o)||this).j_=e,s.isPrimary=void 0,s}return r.__extends(e,t),Object.defineProperty(e.prototype,"uf",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),e.prototype.enableNetwork=function(){return this.j_.uu(!0),t.prototype.enableNetwork.call(this)},e.prototype.disableNetwork=function(){return this.j_.uu(!1),t.prototype.disableNetwork.call(this)},e.prototype.bf=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,this.j_.ac(t.query,!0)];case 1:return e=r.sent(),n=t.view.Bd(e),[2,(this.isPrimary&&this.lf(t.targetId,n.Ld),n)]}}))}))},e.prototype.Od=function(e,n){this.uf&&0===n&&(t.prototype.Od.call(this,e,n),this.Yd.ld(e)),this.uf||1!==n||t.prototype.Od.call(this,e,n)},e.prototype.md=function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i;return r.__generator(this,(function(r){switch(r.label){case 0:return this.cf("applyBatchState()"),[4,this.j_.lc(t)];case 1:return null===(i=r.sent())?[3,6]:"pending"!==e?[3,3]:[4,this.Ud.cl()];case 2:return r.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.wf(t,n||null),this.j_.dc(t)):Te(),r.label=4;case 4:return[4,this.Tf(i)];case 5:return r.sent(),[3,7];case 6:be("SyncEngine","Cannot apply mutation batch with id: "+t),r.label=7;case 7:return[2]}}))}))},e.prototype.Cl=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o,s,a,u,c=this;return r.__generator(this,(function(r){switch(r.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.Ud.Cl(!0)]);case 1:return r.sent(),e=this.Yd.Yl(),[4,this.vf(e.j())];case 2:for(n=r.sent(),i=0,o=n;i<o.length;i++)s=o[i],this.Ud.listen(s);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,a=[],u=Promise.resolve(),this.tf.forEach((function(t,e){c.Yd.od(e)?a.push(e):u=u.then((function(){return c.df(e),c.j_.oc(e,!0)})),c.Ud.fl(e)})),[4,u]);case 4:return r.sent(),[4,this.vf(a)];case 5:return r.sent(),this.Sf(),[4,this.Ud.Cl(!1)];case 6:r.sent(),r.label=7;case 7:return[2]}}))}))},e.prototype.Sf=function(){var t=this;this.if.forEach((function(e,n){t.Ud.fl(n)})),this.nf.kn(),this.if=new Map,this.sf=new A(I.k)},e.prototype.vf=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o,s,a,u,c,h,l,f,p,d;return r.__generator(this,(function(r){switch(r.label){case 0:e=[],n=[],i=0,o=t,r.label=1;case 1:return i<o.length?(s=o[i],a=void 0,(u=this.tf.get(s))&&0!==u.length?[4,this.j_.oc(s,!0)]:[3,8]):[3,14];case 2:return r.sent(),[4,this.j_.hc(u[0].xe())];case 3:a=r.sent(),c=0,h=u,r.label=4;case 4:return c<h.length?(l=h[c],f=this.Zd.get(l),[4,this.bf(f)]):[3,7];case 5:(p=r.sent()).snapshot&&n.push(p.snapshot),r.label=6;case 6:return c++,[3,4];case 7:return[3,12];case 8:return[4,this.j_.fc(s)];case 9:return d=r.sent(),[4,this.j_.hc(d)];case 10:return a=r.sent(),[4,this._f(this.Df(d),s,!1)];case 11:r.sent(),r.label=12;case 12:e.push(a),r.label=13;case 13:return i++,[3,1];case 14:return[2,(this.Xd.d_(n),e)]}}))}))},e.prototype.Df=function(t){return new Tt(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)},e.prototype.yu=function(){return this.j_.yu()},e.prototype.Pd=function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return this.isPrimary?(be("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!this.tf.has(t))return[3,8];switch(e){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,this.j_.ba()];case 3:return i=r.sent(),o=ne.Rs(t,"current"===e),[4,this.Tf(i,o)];case 4:return r.sent(),[3,8];case 5:return[4,this.j_.oc(t,!0)];case 6:return r.sent(),this.df(t,n),[3,8];case 7:Te(),r.label=8;case 8:return[2]}}))}))},e.prototype.Vd=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a,u,c,h,l,f,p=this;return r.__generator(this,(function(d){switch(d.label){case 0:if(!this.isPrimary)return[3,10];n=0,i=t,d.label=1;case 1:return n<i.length?(o=i[n],this.tf.has(o)?(be("SyncEngine","Adding an already active target "+o),[3,5]):[4,this.j_.fc(o)]):[3,6];case 2:return s=d.sent(),[4,this.j_.hc(s)];case 3:return a=d.sent(),[4,this._f(this.Df(s),a.targetId,!1)];case 4:d.sent(),this.Ud.listen(a),d.label=5;case 5:return n++,[3,1];case 6:u=function(t){return r.__generator(this,(function(e){switch(e.label){case 0:return c.tf.has(t)?[4,c.j_.oc(t,!1).then((function(){p.Ud.fl(t),p.df(t)})).catch(ur)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},c=this,h=0,l=e,d.label=7;case 7:return h<l.length?(f=l[h],[5,u(f)]):[3,10];case 8:d.sent(),d.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))},e}(Si),Oi=function(){this.Cf=null,this.targetId=0,this.Ff=[]},ki=function(){function t(t){this.El=t,this.Nf=new De((function(t){return t.canonicalId()})),this.onlineState="Unknown",this.kf=new Set,this.El.subscribe(this)}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.Nf.get(e);return r||(n=!0,r=new Oi,this.Nf.set(e,r)),r.Ff.push(t),t.Od(this.onlineState),r.Cf&&t.$f(r.Cf)&&this.Mf(),n?this.El.listen(e).then((function(t){return r.targetId=t,t})):Promise.resolve(r.targetId)},t.prototype.fl=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o;return r.__generator(this,(function(r){return e=t.query,n=!1,(i=this.Nf.get(e))&&(o=i.Ff.indexOf(t))>=0&&(i.Ff.splice(o,1),n=0===i.Ff.length),n?[2,(this.Nf.delete(e),this.El.fl(e))]:[2]}))}))},t.prototype.d_=function(t){for(var e=!1,n=0,r=t;n<r.length;n++){var i=r[n],o=i.query,s=this.Nf.get(o);if(s){for(var a=0,u=s.Ff;a<u.length;a++)u[a].$f(i)&&(e=!0);s.Cf=i}}e&&this.Mf()},t.prototype.Pf=function(t,e){var n=this.Nf.get(t);if(n)for(var r=0,i=n.Ff;r<i.length;r++)i[r].onError(e);this.Nf.delete(t)},t.prototype.Ef=function(t){this.onlineState=t;var e=!1;this.Nf.forEach((function(n,r){for(var i=0,o=r.Ff;i<o.length;i++)o[i].Od(t)&&(e=!0)})),e&&this.Mf()},t.prototype.Lf=function(t){this.kf.add(t),t.next()},t.prototype.Of=function(t){this.kf.delete(t)},t.prototype.Mf=function(){this.kf.forEach((function(t){t.next()}))},t}(),Ci=function(){function t(t,e,n){this.query=t,this.xf=e,this.Bf=!1,this.qf=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.$f=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new ee(t.query,t.docs,t.cs,e,t._s,t.fromCache,t.ls,!0)}var o=!1;return this.Bf?this.Uf(t)&&(this.xf.next(t),o=!0):this.Qf(t,this.onlineState)&&(this.Wf(t),o=!0),this.qf=t,o},t.prototype.onError=function(t){this.xf.error(t)},t.prototype.Od=function(t){this.onlineState=t;var e=!1;return this.qf&&!this.Bf&&this.Qf(this.qf,t)&&(this.Wf(this.qf),e=!0),e},t.prototype.Qf=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.jf&&n||t.docs.q()&&"Offline"!==e)},t.prototype.Uf=function(t){if(t.docChanges.length>0)return!0;var e=this.qf&&this.qf.hasPendingWrites!==t.hasPendingWrites;return!(!t.ls&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.Wf=function(t){t=ee.fs(t.query,t.docs,t._s,t.fromCache),this.Bf=!0,this.xf.next(t)},t}(),Di=function(){function t(){}return t.prototype.Ku=function(t){this.Kf=t},t.prototype.wr=function(t,e,n,r){var i=this;return e.Oe()||n.isEqual(b.MIN)?this.Gf(t,e):this.Kf.Tr(t,r).next((function(s){var a=i.zf(e,s);return(e.je()||e.Ke())&&i.kd(e.ge,a,r,n)?i.Gf(t,e):(me()<=o.LogLevel.DEBUG&&be("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),e.toString()),i.Kf.wr(t,e,n).next((function(t){return a.forEach((function(e){t=t.nt(e.key,e)})),t})))}))},t.prototype.zf=function(t,e){var n=new O((function(e,n){return t.Be(e,n)}));return e.forEach((function(e,r){r instanceof bt&&t.matches(r)&&(n=n.add(r))})),n},t.prototype.kd=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.D(r)>0)},t.prototype.Gf=function(t,e){return me()<=o.LogLevel.DEBUG&&be("IndexFreeQueryEngine","Using full collection scan to execute query: %s",e.toString()),this.Kf.wr(t,e,b.MIN)},t}(),xi=function(){function t(t,e){this.ur=t,this.yo=e,this.ar=[],this.Hf=1,this.lastStreamToken=P.xt,this.Yf=new O(Me.Ie)}return t.prototype.So=function(t){return je.resolve(0===this.ar.length)},t.prototype.Do=function(t,e,n){var r=e.batchId,i=this.Jf(r,"acknowledged");return Ie(0===i),this.ar[i],this.lastStreamToken=n,je.resolve()},t.prototype.Fo=function(t){return je.resolve(this.lastStreamToken)},t.prototype.No=function(t,e){return this.lastStreamToken=e,je.resolve()},t.prototype.ko=function(t,e,n,r){var i=this.Hf;this.Hf++,this.ar.length>0&&this.ar[this.ar.length-1];var o=new xe(i,e,n,r);this.ar.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.Yf=this.Yf.add(new Me(u.key,i)),this.ur.Mo(t,u.key.path.L())}return je.resolve(o)},t.prototype.Lo=function(t,e){return je.resolve(this.Xf(e))},t.prototype.Bo=function(t,e){var n=e+1,r=this.Zf(n),i=r<0?0:r;return je.resolve(this.ar.length>i?this.ar[i]:null)},t.prototype.qo=function(){return je.resolve(0===this.ar.length?-1:this.Hf-1)},t.prototype.Uo=function(t){return je.resolve(this.ar.slice())},t.prototype._r=function(t,e){var n=this,r=new Me(e,0),i=new Me(e,Number.POSITIVE_INFINITY),o=[];return this.Yf.Ct([r,i],(function(t){var e=n.Xf(t.Ln);o.push(e)})),je.resolve(o)},t.prototype.Ir=function(t,e){var n=this,r=new O(Se);return e.forEach((function(t){var e=new Me(t,0),i=new Me(t,Number.POSITIVE_INFINITY);n.Yf.Ct([e,i],(function(t){r=r.add(t.Ln)}))})),je.resolve(this.tT(r))},t.prototype.Vr=function(t,e){var n=e.path,r=n.length+1,i=n;I.st(i)||(i=i.child(""));var o=new Me(new I(i),0),s=new O(Se);return this.Yf.Ft((function(t){var e=t.key.path;return!!n.U(e)&&(e.length===r&&(s=s.add(t.Ln)),!0)}),o),je.resolve(this.tT(s))},t.prototype.tT=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Xf(t);null!==r&&n.push(r)})),n},t.prototype.Wo=function(t,e){var n=this;Ie(0===this.Jf(e.batchId,"removed")),this.ar.shift();var r=this.Yf;return je.forEach(e.mutations,(function(i){var o=new Me(i.key,e.batchId);return r=r.delete(o),n.yo.Go(t,i.key)})).next((function(){n.Yf=r}))},t.prototype.Ko=function(t){},t.prototype.Mn=function(t,e){var n=new Me(e,0),r=this.Yf.Nt(n);return je.resolve(e.isEqual(r&&r.key))},t.prototype.zo=function(t){return this.ar.length,je.resolve()},t.prototype.Jf=function(t,e){return this.Zf(t)},t.prototype.Zf=function(t){return 0===this.ar.length?0:t-this.ar[0].batchId},t.prototype.Xf=function(t){var e=this.Zf(t);return e<0||e>=this.ar.length?null:this.ar[e]},t}(),Pi=function(){function t(t,e){this.ur=t,this.eT=e,this.docs=new A(I.k),this.size=0}return t.prototype.Jn=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.eT(e);return this.docs=this.docs.nt(r,{Aa:e,size:s,readTime:n}),this.size+=s-o,this.ur.Mo(t,r.path.L())},t.prototype.Zn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.tr=function(t,e){var n=this.docs.get(e);return je.resolve(n?n.Aa:null)},t.prototype.getEntries=function(t,e){var n=this,r=zt();return e.forEach((function(t){var e=n.docs.get(t);r=r.nt(t,e?e.Aa:null)})),je.resolve(r)},t.prototype.wr=function(t,e,n){for(var r=Ht(),i=new I(e.path.child("")),o=this.docs.lt(i);o.wt();){var s=o.It(),a=s.key,u=s.value,c=u.Aa,h=u.readTime;if(!e.path.U(a.path))break;h.D(n)<=0||c instanceof bt&&e.matches(c)&&(r=r.nt(c.key,c))}return je.resolve(r)},t.prototype.sT=function(t,e){return je.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Ca=function(e){return new t.Fa(this)},t.prototype.ka=function(t){return je.resolve(this.size)},t}();Pi.Fa=function(t){function e(e){var n=this;return(n=t.call(this)||this).$a=e,n}return r.__extends(e,t),e.prototype.ir=function(t){var e=this,n=[];return this.zn.forEach((function(r,i){i?n.push(e.$a.Jn(t,i,e.readTime)):e.$a.Zn(r)})),je.Kn(n)},e.prototype.er=function(t,e){return this.$a.tr(t,e)},e.prototype.sr=function(t,e){return this.$a.getEntries(t,e)},e}(Ue);
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Li=function(){function t(t){this.persistence=t,this.iT=new De((function(t){return t.canonicalId()})),this.lastRemoteSnapshotVersion=b.MIN,this.highestTargetId=0,this.nT=0,this.rT=new Re,this.targetCount=0,this.hT=bn.Yo()}return t.prototype.Xs=function(t,e){return this.iT.forEach((function(t,n){return e(n)})),je.resolve()},t.prototype.ea=function(t){return je.resolve(this.lastRemoteSnapshotVersion)},t.prototype.sa=function(t){return je.resolve(this.nT)},t.prototype.Xo=function(t){return this.highestTargetId=this.hT.next(),je.resolve(this.highestTargetId)},t.prototype.ia=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.nT&&(this.nT=e),je.resolve()},t.prototype.ra=function(t){this.iT.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.hT=new bn(e),this.highestTargetId=e),t.sequenceNumber>this.nT&&(this.nT=t.sequenceNumber)},t.prototype.na=function(t,e){return this.ra(e),this.targetCount+=1,je.resolve()},t.prototype.oa=function(t,e){return this.ra(e),je.resolve()},t.prototype.aa=function(t,e){return this.iT.delete(e.target),this.rT.Nn(e.targetId),this.targetCount-=1,je.resolve()},t.prototype.Zh=function(t,e,n){var r=this,i=0,o=[];return this.iT.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.iT.delete(s),o.push(r.ua(t,a.targetId)),i++)})),je.Kn(o).next((function(){return i}))},t.prototype.la=function(t){return je.resolve(this.targetCount)},t.prototype.da=function(t,e){var n=this.iT.get(e)||null;return je.resolve(n)},t.prototype.fa=function(t,e,n){this.rT.Sn(e,n);var r=this.persistence.yo,i=[];return r&&e.forEach((function(e){i.push(r.vn(t,e))})),je.Kn(i)},t.prototype.Ta=function(t,e,n){this.rT.Fn(e,n);var r=this.persistence.yo,i=[];return r&&e.forEach((function(e){i.push(r.Dn(t,e))})),je.Kn(i)},t.prototype.ua=function(t,e){return this.rT.Nn(e),je.resolve()},t.prototype.Ea=function(t,e){var n=this.rT.$n(e);return je.resolve(n)},t.prototype.Mn=function(t,e){return je.resolve(this.rT.Mn(e))},t}(),Ri=function(){function t(t){var e=this;this.oT={},this.hu=new qe(0),this.ja=!1,this.ja=!0,this.yo=t(this),this.Za=new Li(this),this.ur=new Cn,this.or=new Pi(this.ur,(function(t){return e.yo.aT(t)}))}return t.prototype.start=function(){return Promise.resolve()},t.prototype.mu=function(){return this.ja=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Kh",{get:function(){return this.ja},enumerable:!0,configurable:!0}),t.prototype.au=function(){},t.prototype.Du=function(){return this.ur},t.prototype.bu=function(t){var e=this.oT[t.s()];return e||(e=new xi(this.ur,this.yo),this.oT[t.s()]=e),e},t.prototype.vu=function(){return this.Za},t.prototype.Su=function(){return this.or},t.prototype.runTransaction=function(t,e,n){var r=this;be("MemoryPersistence","Starting transaction:",t);var i=new Mi(this.hu.next());return this.yo.uT(),n(i).next((function(t){return r.yo.cT(i).next((function(){return t}))})).Wn().then((function(t){return i.hr(),t}))},t.prototype._T=function(t,e){return je.Gn(Object.values(this.oT).map((function(n){return function(){return n.Mn(t,e)}})))},t}(),Mi=function(t){function e(e){var n=this;return(n=t.call(this)||this).Qa=e,n}return r.__extends(e,t),e}(Fe),ji=function(){function t(t){this.persistence=t,this.Nu=null,this.lT=null}return t.dT=function(e){return new t(e)},Object.defineProperty(t.prototype,"fT",{get:function(){if(this.lT)return this.lT;throw Te()},enumerable:!0,configurable:!0}),t.prototype.Mu=function(t){this.Nu=t},t.prototype.vn=function(t,e){return this.fT.delete(e),je.resolve()},t.prototype.Dn=function(t,e){return this.fT.add(e),je.resolve()},t.prototype.Go=function(t,e){return this.fT.add(e),je.resolve()},t.prototype.removeTarget=function(t,e){var n=this,r=this.persistence.vu();return r.Ea(t,e.targetId).next((function(t){t.forEach((function(t){return n.fT.add(t)}))})).next((function(){return r.aa(t,e)}))},t.prototype.uT=function(){this.lT=new Set},t.prototype.cT=function(t){var e=this,n=this.persistence.Su().Ca();return je.forEach(this.fT,(function(r){return e.TT(t,r).next((function(t){t||n.Zn(r)}))})).next((function(){return e.lT=null,n.apply(t)}))},t.prototype.Ou=function(t,e){var n=this;return this.TT(t,e).next((function(t){t?n.fT.delete(e):n.fT.add(e)}))},t.prototype.aT=function(t){return 0},t.prototype.TT=function(t,e){var n=this;return je.Gn([function(){return n.persistence.vu().Mn(t,e)},function(){return n.persistence._T(t,e)},function(){return je.resolve(n.Nu.Mn(e))}])},t}(),Ui=function(){function t(){}return t.prototype.initialize=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e=this;return r.__generator(this,(function(n){switch(n.label){case 0:return this.Yd=this.ET(t),this.persistence=this.IT(t),[4,this.persistence.start()];case 1:return n.sent(),this.wT=this.RT(t),this.j_=this.AT(t),this.Ud=this.mT(t),this.El=this.PT(t),this.VT=this.gT(t),this.Yd.M_=function(t){return e.El.Od(t,1)},this.Ud.El=this.El,[4,this.j_.start()];case 2:return n.sent(),[4,this.Yd.start()];case 3:return n.sent(),[4,this.Ud.start()];case 4:return n.sent(),[4,this.Ud.Cl(this.El.uf)];case 5:return n.sent(),[2]}}))}))},t.prototype.gT=function(t){return new ki(this.El)},t.prototype.RT=function(t){return null},t.prototype.AT=function(t){return new sr(this.persistence,new Di,t.pT)},t.prototype.IT=function(t){return new Ri(ji.dT)},t.prototype.mT=function(t){var e=this;return new ci(this.j_,t.b_,t.jr,(function(t){return e.El.Od(t,0)}),t.platform.yT())},t.prototype.ET=function(t){return new bi},t.prototype.PT=function(t){return new Si(this.j_,this.Ud,this.Yd,t.pT,t.Jd)},t.prototype.clearPersistence=function(t){throw new f(l.FAILED_PRECONDITION,"You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.")},t}(),Vi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.initialize=function(e){return r.__awaiter(this,void 0,void 0,(function(){var n=this;return r.__generator(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),[4,this.persistence.ou((function(t){return r.__awaiter(n,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return[4,this.El.Cl(t)];case 1:return e.sent(),this.wT&&(t&&!this.wT.Kh?this.wT.start(this.j_):t||this.wT.stop()),[2]}}))}))}))];case 2:return i.sent(),[2]}}))}))},e.prototype.AT=function(t){return new ar(this.persistence,new Di,t.pT)},e.prototype.PT=function(t){var e=new Ni(this.j_,this.Ud,this.Yd,t.pT,t.Jd);return this.Yd instanceof gi&&(this.Yd.El=e),e},e.prototype.RT=function(t){var e=this.persistence.yo.qh;return new Ze(e,t.jr)},e.prototype.IT=function(t){var e=er.Fu(t.bT),n=t.platform.vT(t.bT.ci);return new er(t.ST.synchronizeTabs,e,t.clientId,t.platform,Je.kh(t.ST.cacheSizeBytes),t.jr,n,this.Yd)},e.prototype.ET=function(t){if(t.ST.DT&&t.ST.synchronizeTabs){if(!gi.ho(t.platform))throw new f(l.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var e=er.Fu(t.bT);return new gi(t.jr,t.platform,e,t.clientId,t.pT)}return new bi},e.prototype.clearPersistence=function(t){var e=er.Fu(t);return er.clearPersistence(e)},e}(Ui),Fi=function(){function t(t,e,n,r){this.platform=t,this.bT=e,this.credentials=n,this.jr=r,this.clientId=Ae.En()}return t.prototype.start=function(t,e){var n=this;this.CT();var r=new ze,i=new ze,o=!1;return this.credentials.l((function(s){if(!o)return o=!0,be("FirestoreClient","Initializing. user=",s.uid),n.FT(t,e,s,i).then(r.resolve,r.reject);n.jr.Zr((function(){return n.Dl(s)}))})),this.jr.Zr((function(){return r.promise})),i.promise},t.prototype.enableNetwork=function(){var t=this;return this.CT(),this.jr.enqueue((function(){return t.El.enableNetwork()}))},t.prototype.FT=function(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,s,a,u,c=this;return r.__generator(this,(function(h){switch(h.label){case 0:return h.trys.push([0,3,,4]),[4,this.platform.NT(this.bT)];case 1:return o=h.sent(),s=this.platform.vT(this.bT.ci),a=new si(this.jr,o,this.credentials,s),[4,t.initialize({jr:this.jr,bT:this.bT,platform:this.platform,b_:a,clientId:this.clientId,pT:n,Jd:100,ST:e})];case 2:return h.sent(),this.persistence=t.persistence,this.Yd=t.Yd,this.j_=t.j_,this.Ud=t.Ud,this.El=t.El,this.wT=t.wT,this.kT=t.VT,this.persistence.au((function(){return r.__awaiter(c,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))})),i.resolve(),[3,4];case 3:if(u=h.sent(),i.reject(u),!this.$T(u))throw u;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),this.FT(new Ui,{DT:!1},n,i))];case 4:return[2]}}))}))},t.prototype.$T=function(t){return"FirebaseError"===t.name?t.code===l.FAILED_PRECONDITION||t.code===l.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.CT=function(){if(this.jr._h)throw new f(l.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Dl=function(t){return this.jr.Rh(),be("FirestoreClient","Credential Changed. Current user: "+t.uid),this.El.Dl(t)},t.prototype.disableNetwork=function(){var t=this;return this.CT(),this.jr.enqueue((function(){return t.El.disableNetwork()}))},t.prototype.terminate=function(){var t=this;return this.jr.Eh((function(){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.wT&&this.wT.stop(),[4,this.Ud.mu()];case 1:return t.sent(),[4,this.Yd.mu()];case 2:return t.sent(),[4,this.persistence.mu()];case 3:return t.sent(),this.credentials.T(),[2]}}))}))}))},t.prototype.waitForPendingWrites=function(){var t=this;this.CT();var e=new ze;return this.jr.Zr((function(){return t.El.Af(e)})),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.CT();var i=new Ci(t,e,n);return this.jr.Zr((function(){return r.kT.listen(i)})),i},t.prototype.fl=function(t){var e=this;this.MT||this.jr.Zr((function(){return e.kT.fl(t)}))},t.prototype.LT=function(t){var e=this;return this.CT(),this.jr.enqueue((function(){return e.j_.rc(t)})).then((function(t){if(t instanceof bt)return t;if(t instanceof wt)return null;throw new f(l.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")}))},t.prototype.OT=function(t){var e=this;return this.CT(),this.jr.enqueue((function(){return r.__awaiter(e,void 0,void 0,(function(){var e,n,i;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,this.j_.ac(t,!0)];case 1:return e=r.sent(),n=new Ei(t,e.uc),i=n.Cd(e.documents),[2,n.ir(i,!1).snapshot]}}))}))}))},t.prototype.write=function(t){var e=this;this.CT();var n=new ze;return this.jr.Zr((function(){return e.El.write(t,n)})),n.promise},t.prototype.ci=function(){return this.bT.ci},t.prototype.Lf=function(t){var e=this;this.CT(),this.jr.Zr((function(){return e.kT.Lf(t),Promise.resolve()}))},t.prototype.Of=function(t){this.MT||this.kT.Of(t)},Object.defineProperty(t.prototype,"MT",{get:function(){return this.jr._h},enumerable:!0,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.CT();var n=new ze;return this.jr.Zr((function(){return e.El.runTransaction(e.jr,t,n),Promise.resolve()})),n.promise},t}(),$i=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.xT(this.observer.next,t)},t.prototype.error=function(t){this.xT(this.observer.error,t)},t.prototype.BT=function(){this.muted=!0},t.prototype.xT=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Bi(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var qi=function(){function t(t,e,n,r){this.firestore=t,this.timestampsInSnapshots=e,this.qT=n,this.converter=r}return t.prototype.UT=function(t){switch(F(t)){case 0:return null;case 1:return t.booleanValue;case 2:return W(t.integerValue||t.doubleValue);case 3:return this.QT(t.timestampValue);case 4:return this.WT(t);case 5:return t.stringValue;case 6:return new Pr(K(t.bytesValue));case 7:return this.jT(t.referenceValue);case 8:return new zr(t.geoPointValue.latitude,t.geoPointValue.longitude);case 9:return this.KT(t.arrayValue);case 10:return this.GT(t.mapValue);default:throw Te()}},t.prototype.GT=function(t){var e=this,n={};return D(t.fields||{},(function(t,r){n[t]=e.UT(r)})),n},t.prototype.KT=function(t){var e=this;return(t.values||[]).map((function(t){return e.UT(t)}))},t.prototype.WT=function(t){switch(this.qT){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return j(n)?t(n):n}(t);return null==e?null:this.UT(e);case"estimate":return this.QT(U(t));default:return null}},t.prototype.QT=function(t){var e=H(t),n=new g(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},t.prototype.jT=function(t){var e=_.G(t);Ie(de(e));var n=new Ce(e.get(1),e.get(3)),r=new I(e.M(5));return n.isEqual(this.firestore.zT)||we("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.firestore.zT.projectId+"/"+this.firestore.zT.database+") instead."),new Yi(r,this.firestore,this.converter)},t}(),zi=Je.Lh,Gi=function(){function t(t){var e,n;if(void 0===t.host){if(void 0!==t.ssl)throw new f(l.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else gr("settings","non-empty string","host",t.host),this.host=t.host,br("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(Ar("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),br("settings","object","credentials",t.credentials),this.credentials=t.credentials,br("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?we("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&we("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,br("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=Je.xh;else{if(t.cacheSizeBytes!==zi&&t.cacheSizeBytes<Je.Oh)throw new f(l.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Je.Oh);this.cacheSizeBytes=t.cacheSizeBytes}br("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=void 0!==t.experimentalForceLongPolling&&t.experimentalForceLongPolling}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling},t}(),Hi=function(){function t(e,n,i){var o=this;if(void 0===i&&(i=new Ui),this.HT=null,this.YT=new We,this.INTERNAL={delete:function(){return r.__awaiter(o,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.JT(),[4,this.XT.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var s=e;this.HT=s,this.zT=t.ZT(s),this.tE=s.name,this.eE=new v(n)}else{var a=e;if(!a.projectId)throw new f(l.INVALID_ARGUMENT,"Must provide projectId");this.zT=new Ce(a.projectId,a.database),this.tE="[DEFAULT]",this.eE=new d}this.sE=i,this.iE=new Gi({}),this.nE=this.rE(this.zT)}return t.prototype.settings=function(t){hr("Firestore.settings",arguments,1),yr("Firestore.settings","object",1,t);var e=new Gi(t);if(this.XT&&!this.iE.isEqual(e))throw new f(l.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.iE=e,void 0!==e.credentials&&(this.eE=function(t){if(!t)return new d;switch(t.type){case"gapi":var e=t.hE;return Ie(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new m(e,t.V||"0");case"provider":return t.hE;default:throw new f(l.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.JT(),this.XT.enableNetwork()},t.prototype.disableNetwork=function(){return this.JT(),this.XT.disableNetwork()},t.prototype.enablePersistence=function(t){var e,n;if(this.XT)throw new f(l.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1;return t&&(void 0!==t.experimentalTabSynchronization&&we("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n),this.oE(this.sE,{DT:!0,cacheSizeBytes:this.iE.cacheSizeBytes,synchronizeTabs:r})},t.prototype.clearPersistence=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){if(void 0!==this.XT&&!this.XT.MT)throw new f(l.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return t=new ze,[2,(this.YT.lh((function(){return r.__awaiter(e,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=this.aE(),[4,this.sE.clearPersistence(e)];case 1:return r.sent(),t.resolve(),[3,3];case 2:return n=r.sent(),t.reject(n),[3,3];case 3:return[2]}}))}))})),t.promise)]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"uE",{get:function(){return this.JT(),this.XT.MT},enumerable:!0,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.JT(),this.XT.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){if(this.JT(),Bi(t))return this.cE(t);yr("Firestore.onSnapshotsInSync","function",1,t);var e={next:t};return this.cE(e)},t.prototype.cE=function(t){var e=this,n=new $i({next:function(){t.next&&t.next()},error:function(t){throw Te()}});return this.XT.Lf(n),function(){n.BT(),e.XT.Of(n)}},t.prototype.JT=function(){return this.XT||this.oE(new Ui,{DT:!1}),this.XT},t.prototype.aE=function(){return new ke(this.zT,this.tE,this.iE.host,this.iE.ssl,this.iE.forceLongPolling)},t.prototype.oE=function(t,e){var n=this.aE();return this.XT=new Fi(ve.Lt(),n,this.eE,this.YT),this.XT.start(t,e)},t.prototype.rE=function(t){var e=ve.Lt().vT(t);return new Jr(e,(function(e){if(e instanceof Yi){var n=t,r=e.firestore.zT;if(!r.isEqual(n))throw new f(l.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new Xr(t,e._E)}return e}))},t.ZT=function(t){if(e=t.options,!Object.prototype.hasOwnProperty.call(e,"projectId"))throw new f(l.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e,n=t.options.projectId;if(!n||"string"!=typeof n)throw new f(l.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new Ce(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.HT)throw new f(l.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.HT},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){return hr("Firestore.collection",arguments,1),yr("Firestore.collection","non-empty string",1,t),this.JT(),new eo(_.G(t),this)},t.prototype.doc=function(t){return hr("Firestore.doc",arguments,1),yr("Firestore.doc","non-empty string",1,t),this.JT(),Yi.lE(_.G(t),this)},t.prototype.collectionGroup=function(t){if(hr("Firestore.collectionGroup",arguments,1),yr("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new f(l.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.JT(),new Qi(new Tt(_.H,t),this)},t.prototype.runTransaction=function(t){var e=this;return hr("Firestore.runTransaction",arguments,1),yr("Firestore.runTransaction","function",1,t),this.JT().transaction((function(n){return t(new Wi(e,n))}))},t.prototype.batch=function(){return this.JT(),new Ki(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(me()){case o.LogLevel.DEBUG:return"debug";case o.LogLevel.SILENT:return"silent";default:return"error"}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(hr("Firestore.setLogLevel",arguments,1),yr("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":ge(o.LogLevel.DEBUG);break;case"error":ge(o.LogLevel.ERROR);break;case"silent":ge(o.LogLevel.SILENT);break;default:throw new f(l.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype.dE=function(){return this.iE.timestampsInSnapshots},t}(),Wi=function(){function t(t,e){this.fE=t,this.TE=e}return t.prototype.get=function(t){var e=this;hr("Transaction.get",arguments,1);var n=oo("Transaction.get",t,this.fE);return this.TE.p_([n._E]).then((function(t){if(!t||1!==t.length)return Te();var r=t[0];if(r instanceof wt)return new Ji(e.fE,n._E,null,!1,!1,n.EE);if(r instanceof bt)return new Ji(e.fE,n._E,r,!1,!1,n.EE);throw Te()}))},t.prototype.set=function(t,e,n){vr("Transaction.set",arguments,2,3);var r=oo("Transaction.set",t,this.fE);n=no("Transaction.set",n);var i=ao(r.EE,e,"Transaction.set"),o=i[0],s=i[1],a=n.merge||n.mergeFields?this.fE.nE.Mc(s,o,n.mergeFields):this.fE.nE.kc(s,o);return this.TE.set(r._E,a),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return"string"==typeof e||e instanceof Rr?(lr("Transaction.update",arguments,3),r=oo("Transaction.update",t,this.fE),i=this.fE.nE.Bc("Transaction.update",e,n,o)):(hr("Transaction.update",arguments,2),r=oo("Transaction.update",t,this.fE),i=this.fE.nE.Lc("Transaction.update",e)),this.TE.update(r._E,i),this},t.prototype.delete=function(t){hr("Transaction.delete",arguments,1);var e=oo("Transaction.delete",t,this.fE);return this.TE.delete(e._E),this},t}(),Ki=function(){function t(t){this.fE=t,this.IE=[],this.wE=!1}return t.prototype.set=function(t,e,n){vr("WriteBatch.set",arguments,2,3),this.RE();var r=oo("WriteBatch.set",t,this.fE);n=no("WriteBatch.set",n);var i=ao(r.EE,e,"WriteBatch.set"),o=i[0],s=i[1],a=n.merge||n.mergeFields?this.fE.nE.Mc(s,o,n.mergeFields):this.fE.nE.kc(s,o);return this.IE=this.IE.concat(a.gc(r._E,ct.NONE)),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this.RE(),"string"==typeof e||e instanceof Rr?(lr("WriteBatch.update",arguments,3),r=oo("WriteBatch.update",t,this.fE),i=this.fE.nE.Bc("WriteBatch.update",e,n,o)):(hr("WriteBatch.update",arguments,2),r=oo("WriteBatch.update",t,this.fE),i=this.fE.nE.Lc("WriteBatch.update",e)),this.IE=this.IE.concat(i.gc(r._E,ct.exists(!0))),this},t.prototype.delete=function(t){hr("WriteBatch.delete",arguments,1),this.RE();var e=oo("WriteBatch.delete",t,this.fE);return this.IE=this.IE.concat(new dt(e._E,ct.NONE)),this},t.prototype.commit=function(){return this.RE(),this.wE=!0,this.IE.length>0?this.fE.JT().write(this.IE):Promise.resolve()},t.prototype.RE=function(){if(this.wE)throw new f(l.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Yi=function(){function t(t,e,n){this._E=t,this.firestore=e,this.EE=n,this.XT=this.firestore.JT()}return t.lE=function(e,n,r){if(e.length%2!=0)throw new f(l.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.K()+" has "+e.length);return new t(new I(e),n,r)},Object.defineProperty(t.prototype,"id",{get:function(){return this._E.path.B()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new eo(this._E.path.L(),this.firestore,this.EE)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._E.path.K()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(hr("DocumentReference.collection",arguments,1),yr("DocumentReference.collection","non-empty string",1,t),!t)throw new f(l.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=_.G(t);return new eo(this._E.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Sr("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this._E.isEqual(e._E)&&this.EE===e.EE},t.prototype.set=function(t,e){vr("DocumentReference.set",arguments,1,2),e=no("DocumentReference.set",e);var n=ao(this.EE,t,"DocumentReference.set"),r=n[0],i=n[1],o=e.merge||e.mergeFields?this.firestore.nE.Mc(i,r,e.mergeFields):this.firestore.nE.kc(i,r);return this.XT.write(o.gc(this._E,ct.NONE))},t.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof Rr?(lr("DocumentReference.update",arguments,2),n=this.firestore.nE.Bc("DocumentReference.update",t,e,r)):(hr("DocumentReference.update",arguments,1),n=this.firestore.nE.Lc("DocumentReference.update",t)),this.XT.write(n.gc(this._E,ct.exists(!0)))},t.prototype.delete=function(){return hr("DocumentReference.delete",arguments,0),this.XT.write([new dt(this._E,ct.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];vr("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||Bi(t[i])||(Ar("DocumentReference.onSnapshot",r=t[i],["includeMetadataChanges"]),br("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return Bi(t[i])?n=t[i]:(yr("DocumentReference.onSnapshot","function",i,t[i]),mr("DocumentReference.onSnapshot","function",i+1,t[i+1]),mr("DocumentReference.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.AE(o,n)},t.prototype.AE=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new $i({next:function(t){if(e.next){var r=t.docs.get(n._E);e.next(new Ji(n.firestore,n._E,r,t.fromCache,t.hasPendingWrites,n.EE))}},error:r}),o=this.XT.listen(Tt.ve(this._E.path),i,t);return function(){i.BT(),n.XT.fl(o)}},t.prototype.get=function(t){var e=this;return vr("DocumentReference.get",arguments,0,1),io("DocumentReference.get",t),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.JT().LT(e._E).then((function(t){n(new Ji(e.firestore,e._E,t,!0,t instanceof bt&&t.te,e.EE))}),r):e.mE(n,r,t)}))},t.prototype.mE=function(t,e,n){var r=this.AE({includeMetadataChanges:!0,jf:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?e(new f(l.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?e(new f(l.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(i)},error:e})},t.prototype.withConverter=function(e){return new t(this._E,this.firestore,e)},t}(),Xi=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Ji=function(){function t(t,e,n,r,i,o){this.fE=t,this._E=e,this.PE=n,this.VE=r,this.gE=i,this.EE=o}return t.prototype.data=function(t){if(vr("DocumentSnapshot.data",arguments,0,1),t=ro("DocumentSnapshot.data",t),this.PE){if(this.EE){var e=new Zi(this.fE,this._E,this.PE,this.VE,this.gE);return this.EE.fromFirestore(e,t)}return new qi(this.fE,this.fE.dE(),t.serverTimestamps,void 0).UT(this.PE.Re())}},t.prototype.get=function(t,e){if(vr("DocumentSnapshot.get",arguments,1,2),e=ro("DocumentSnapshot.get",e),this.PE){var n=this.PE.data().field(ti("DocumentSnapshot.get",t));if(null!==n)return new qi(this.fE,this.fE.dE(),e.serverTimestamps,this.EE).UT(n)}},Object.defineProperty(t.prototype,"id",{get:function(){return this._E.path.B()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Yi(this._E,this.fE,this.EE)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.PE},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Xi(this.gE,this.VE)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw Sr("isEqual","DocumentSnapshot",1,e);return this.fE===e.fE&&this.VE===e.VE&&this._E.isEqual(e._E)&&(null===this.PE?null===e.PE:this.PE.isEqual(e.PE))&&this.EE===e.EE},t}(),Zi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(Ji),Qi=function(){function t(t,e,n){this.pE=t,this.firestore=e,this.EE=n}return t.prototype.where=function(e,n,r){var i;hr("Query.where",arguments,3),Ir("Query.where",3,r),function(t,e,n,r){if(!e.some((function(t){return t===r})))throw new f(l.INVALID_ARGUMENT,"Invalid value "+Tr(r)+" provided to function Query.where() for its "+Or(2)+" argument. Acceptable values: "+e.join(", "))}(0,["<","<=","==",">=",">","array-contains","in","array-contains-any"],0,n);var o=ti("Query.where",e),s=It.G(n);if(o.J()){if(s===It.ARRAY_CONTAINS||s===It.ARRAY_CONTAINS_ANY)throw new f(l.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s.toString()+"' queries on FieldPath.documentId().");if(s===It.IN){this.yE(r,s);for(var a=[],u=0,c=r;u<c.length;u++){var h=c[u];a.push(this.bE(h))}i={arrayValue:{values:a}}}else i=this.bE(r)}else s!==It.IN&&s!==It.ARRAY_CONTAINS_ANY||this.yE(r,s),i=this.firestore.nE.qc("Query.where",r,s===It.IN);var p=At.create(o,s,i);return this.vE(p),new t(this.pE.Ce(p),this.firestore,this.EE)},t.prototype.orderBy=function(e,n){var r;if(vr("Query.orderBy",arguments,1,2),mr("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r=Dt.ASCENDING;else{if("desc"!==n)throw new f(l.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=Dt.DESCENDING}if(null!==this.pE.startAt)throw new f(l.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this.pE.endAt)throw new f(l.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=ti("Query.orderBy",e),o=new Rt(i,r);return this.SE(o),new t(this.pE.Fe(o),this.firestore,this.EE)},t.prototype.limit=function(e){return hr("Query.limit",arguments,1),yr("Query.limit","number",1,e),Nr("Query.limit",1,e),new t(this.pE.Ne(e),this.firestore,this.EE)},t.prototype.limitToLast=function(e){return hr("Query.limitToLast",arguments,1),yr("Query.limitToLast","number",1,e),Nr("Query.limitToLast",1,e),new t(this.pE.ke(e),this.firestore,this.EE)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];lr("Query.startAt",arguments,1);var i=this.DE("Query.startAt",e,n,!0);return new t(this.pE.$e(i),this.firestore,this.EE)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];lr("Query.startAfter",arguments,1);var i=this.DE("Query.startAfter",e,n,!1);return new t(this.pE.$e(i),this.firestore,this.EE)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];lr("Query.endBefore",arguments,1);var i=this.DE("Query.endBefore",e,n,!0);return new t(this.pE.Me(i),this.firestore,this.EE)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];lr("Query.endAt",arguments,1);var i=this.DE("Query.endAt",e,n,!1);return new t(this.pE.Me(i),this.firestore,this.EE)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Sr("isEqual","Query",1,e);return this.firestore===e.firestore&&this.pE.isEqual(e.pE)},t.prototype.withConverter=function(e){return new t(this.pE,this.firestore,e)},t.prototype.DE=function(t,e,n,r){if(Ir(t,1,e),e instanceof Ji){if(n.length>0)throw new f(l.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var i=e;if(!i.exists)throw new f(l.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.CE(i.PE,r)}var o=[e].concat(n);return this.FE(t,o,r)},t.prototype.CE=function(t,e){for(var n=[],r=0,i=this.pE.orderBy;r<i.length;r++){var o=i[r];if(o.field.J())n.push(Y(this.firestore.zT,t.key));else{var s=t.field(o.field);if(j(s))throw new f(l.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===s){var a=o.field.K();throw new f(l.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+a+"' (used as the orderBy) does not exist.")}n.push(s)}}return new Lt(n,e)},t.prototype.FE=function(t,e,n){var r=this.pE.Ve;if(e.length>r.length)throw new f(l.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var s=e[o];if(r[o].field.J()){if("string"!=typeof s)throw new f(l.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof s);if(!this.pE.He()&&-1!==s.indexOf("/"))throw new f(l.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+s+"' contains a slash.");var a=this.pE.path.child(_.G(s));if(!I.st(a))throw new f(l.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+a+"' is not because it contains an odd number of segments.");var u=new I(a);i.push(Y(this.firestore.zT,u))}else{var c=this.firestore.nE.qc(t,s);i.push(c)}}return new Lt(i,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];vr("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof t[i]||Bi(t[i])||(Ar("Query.onSnapshot",r=t[i],["includeMetadataChanges"]),br("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),Bi(t[i])?n=t[i]:(yr("Query.onSnapshot","function",i,t[i]),mr("Query.onSnapshot","function",i+1,t[i+1]),mr("Query.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.NE(this.pE),this.AE(r,n)},t.prototype.AE=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new $i({next:function(t){e.next&&e.next(new to(n.firestore,n.pE,t,n.EE))},error:r}),o=this.firestore.JT(),s=o.listen(this.pE,i,t);return function(){i.BT(),o.fl(s)}},t.prototype.NE=function(t){if(t.Ke()&&0===t.Ve.length)throw new f(l.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")},t.prototype.get=function(t){var e=this;return vr("Query.get",arguments,0,1),io("Query.get",t),this.NE(this.pE),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.JT().OT(e.pE).then((function(t){n(new to(e.firestore,e.pE,t,e.EE))}),r):e.mE(n,r,t)}))},t.prototype.mE=function(t,e,n){var r=this.AE({includeMetadataChanges:!0,jf:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?e(new f(l.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(i)},error:e})},t.prototype.bE=function(t){if("string"==typeof t){if(""===t)throw new f(l.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this.pE.He()&&-1!==t.indexOf("/"))throw new f(l.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var e=this.pE.path.child(_.G(t));if(!I.st(e))throw new f(l.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return Y(this.firestore.zT,new I(e))}if(t instanceof Yi){var n=t;return Y(this.firestore.zT,n._E)}throw new f(l.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Tr(t)+".")},t.prototype.yE=function(t,e){if(!Array.isArray(t)||0===t.length)throw new f(l.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new f(l.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(t.indexOf(null)>=0)throw new f(l.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new f(l.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")},t.prototype.vE=function(t){if(t instanceof At){var e=[It.ARRAY_CONTAINS,It.ARRAY_CONTAINS_ANY],n=[It.IN,It.ARRAY_CONTAINS_ANY],r=e.indexOf(t.op)>=0,i=n.indexOf(t.op)>=0;if(t.Ge()){var o=this.pE.Se();if(null!==o&&!o.isEqual(t.field))throw new f(l.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+t.field.toString()+"'");var s=this.pE.De();null!==s&&this.kE(t.field,s)}else if(i||r){var a=null;if(i&&(a=this.pE.ze(n)),null===a&&r&&(a=this.pE.ze(e)),null!=a)throw a===t.op?new f(l.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new f(l.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+a.toString()+"' filters.")}}},t.prototype.SE=function(t){if(null===this.pE.De()){var e=this.pE.Se();null!==e&&this.kE(e,t.field)}},t.prototype.kE=function(t,e){if(!e.isEqual(t))throw new f(l.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),to=function(){function t(t,e,n,r){this.fE=t,this.$E=e,this.ME=n,this.EE=r,this.LE=null,this.OE=null,this.metadata=new Xi(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.ME.docs.q()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ME.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;vr("QuerySnapshot.forEach",arguments,1,2),yr("QuerySnapshot.forEach","function",1,t),this.ME.docs.forEach((function(r){t.call(e,n.xE(r))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new Qi(this.$E,this.fE,this.EE)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(Ar("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),br("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.ME.ds)throw new f(l.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.LE&&this.OE===e||(this.LE=function(t,e,n,r){if(n.cs.q()){var i=0;return n.docChanges.map((function(e){var o=new Zi(t,e.doc.key,e.doc,n.fromCache,n._s.has(e.doc.key),r);return e.doc,{type:"added",doc:o,oldIndex:-1,newIndex:i++}}))}var o=n.cs;return n.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var i=new Zi(t,e.doc.key,e.doc,n.fromCache,n._s.has(e.doc.key),r),s=-1,a=-1;return 0!==e.type&&(s=o.indexOf(e.doc.key),o=o.delete(e.doc.key)),1!==e.type&&(a=(o=o.add(e.doc)).indexOf(e.doc.key)),{type:so(e.type),doc:i,oldIndex:s,newIndex:a}}))}(this.fE,e,this.ME,this.EE),this.OE=e),this.LE},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Sr("isEqual","QuerySnapshot",1,e);return this.fE===e.fE&&this.$E.isEqual(e.$E)&&this.ME.isEqual(e.ME)&&this.EE===e.EE},t.prototype.xE=function(t){return new Zi(this.fE,t.key,t,this.metadata.fromCache,this.ME._s.has(t.key),this.EE)},t}(),eo=function(t){function e(e,n,r){var i=this;if((i=t.call(this,Tt.ve(e),n,r)||this).BE=e,e.length%2!=1)throw new f(l.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.K()+" has "+e.length);return i}return r.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.pE.path.B()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.pE.path.L();return t.q()?null:new Yi(new I(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.pE.path.K()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(vr("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=Ae.En()),yr("CollectionReference.doc","non-empty string",1,t),""===t)throw new f(l.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=_.G(t);return Yi.lE(this.pE.path.child(e),this.firestore,this.EE)},e.prototype.add=function(t){hr("CollectionReference.add",arguments,1),yr("CollectionReference.add","object",1,this.EE?this.EE.toFirestore(t):t);var e=this.doc();return e.set(t).then((function(){return e}))},e.prototype.withConverter=function(t){return new e(this.BE,this.firestore,t)},e}(Qi);
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function no(t,e){if(void 0===e)return{merge:!1};if(Ar(t,e,["merge","mergeFields"]),br(t,"boolean","merge",e.merge),function(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new f(l.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+Tr(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new f(l.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+o+" was: "+Tr(r[o]))}(t,"mergeFields",0,r,(function(t){return"string"==typeof t||t instanceof Rr}))}(t,0,0,e.mergeFields),void 0!==e.mergeFields&&void 0!==e.merge)throw new f(l.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function ro(t,e){return void 0===e?{}:(Ar(t,e,["serverTimestamps"]),wr(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function io(t,e){mr(t,"object",1,e),e&&(Ar(t,e,["source"]),wr(t,0,"source",e.source,["default","server","cache"]))}function oo(t,e,n){if(e instanceof Yi){if(e.firestore!==n)throw new f(l.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw Sr(t,"DocumentReference",1,e)}function so(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}function ao(t,e,n){var r;return t?(r=t.toFirestore(e),n="toFirestore() in "+n):r=e,[r,n]}var uo=Cr(Hi,"Use firebase.firestore() instead."),co=Cr(Wi,"Use firebase.firestore().runTransaction() instead."),ho=Cr(Ki,"Use firebase.firestore().batch() instead."),lo=Cr(Yi,"Use firebase.firestore().doc() instead."),fo=Cr(Ji),po=Cr(Zi),vo=Cr(Qi),yo=Cr(to),mo=Cr(eo,"Use firebase.firestore().collection() instead."),go={Firestore:uo,GeoPoint:zr,Timestamp:g,Blob:Lr,Transaction:co,WriteBatch:ho,DocumentReference:lo,DocumentSnapshot:fo,Query:vo,QueryDocumentSnapshot:po,QuerySnapshot:yo,CollectionReference:mo,FieldPath:Rr,FieldValue:qr,setLogLevel:Hi.setLogLevel,CACHE_SIZE_UNLIMITED:zi},bo=function(){function t(){}return t.prototype.Y_=function(t){},t.prototype.mu=function(){},t}(),wo=function(){function t(){var t=this;this.qE=function(){return t.UE()},this.QE=function(){return t.WE()},this.jE=[],this.KE()}return t.prototype.Y_=function(t){this.jE.push(t)},t.prototype.mu=function(){window.removeEventListener("online",this.qE),window.removeEventListener("offline",this.QE)},t.prototype.KE=function(){window.addEventListener("online",this.qE),window.addEventListener("offline",this.QE)},t.prototype.UE=function(){be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.jE;t<e.length;t++)(0,e[t])(0)},t.prototype.WE=function(){be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.jE;t<e.length;t++)(0,e[t])(1)},t.ho=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),_o=function(){function t(t){this.GE=t.GE,this.zE=t.zE}return t.prototype.__=function(t){this.HE=t},t.prototype.h_=function(t){this.YE=t},t.prototype.onMessage=function(t){this.JE=t},t.prototype.close=function(){this.zE()},t.prototype.send=function(t){this.GE(t)},t.prototype.XE=function(){this.HE()},t.prototype.ZE=function(t){this.YE(t)},t.prototype.tI=function(t){this.JE(t)},t}(),Eo={BatchGetDocuments:"batchGet",Commit:"commit"},To="gl-js/ fire/"+c,Io=function(){function t(t){this.ci=t.ci;var e=t.ssl?"https":"http";this.eI=e+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.sI=function(t,e){if(e)for(var n in e.o)e.o.hasOwnProperty(n)&&(t[n]=e.o[n]);t["X-Goog-Api-Client"]=To},t.prototype.g_=function(t,e,n){var r=this,i=this.iI(t);return new Promise((function(o,s){var a=new u.XhrIo;a.listenOnce(u.EventType.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case u.ErrorCode.NO_ERROR:var e=a.getResponseJson();be("Connection","XHR received:",JSON.stringify(e)),o(e);break;case u.ErrorCode.TIMEOUT:be("Connection",'RPC "'+t+'" timed out'),s(new f(l.DEADLINE_EXCEEDED,"Request time out"));break;case u.ErrorCode.HTTP_ERROR:var n=a.getStatus();if(be("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var i=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(l).indexOf(e)>=0?e:l.UNKNOWN}(r.status);s(new f(i,r.message))}else s(new f(l.UNKNOWN,"Server responded with status "+a.getStatus()))}else be("Connection",'RPC "'+t+'" failed'),s(new f(l.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{be("Connection",'RPC "'+t+'" completed.')}}));var c=Object.assign({},e);delete c.database;var h=JSON.stringify(c);be("Connection","XHR sending: ",i+" "+h);var p={"Content-Type":"text/plain"};r.sI(p,n),a.send(i,"POST",h,p,15)}))},t.prototype.y_=function(t,e,n){return this.g_(t,e,n)},t.prototype.l_=function(t,e){var n=[this.eI,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=u.createWebChannelTransport(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.ci.projectId+"/databases/"+this.ci.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.sI(i.initMessageHeaders,e),s.isMobileCordova()||s.isReactNative()||s.isElectron()||s.isIE()||s.isUWP()||s.isBrowserExtension()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");be("Connection","Creating WebChannel: "+o+" "+i);var a=r.createWebChannel(o,i),c=!1,h=!1,p=new _o({GE:function(t){h?be("Connection","Not sending because WebChannel is closed:",t):(c||(be("Connection","Opening WebChannel transport."),a.open(),c=!0),be("Connection","WebChannel sending:",t),a.send(t))},zE:function(){return a.close()}}),d=function(t,e){a.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return d(u.WebChannel.EventType.OPEN,(function(){h||be("Connection","WebChannel transport opened.")})),d(u.WebChannel.EventType.CLOSE,(function(){h||(h=!0,be("Connection","WebChannel transport closed"),p.ZE())})),d(u.WebChannel.EventType.ERROR,(function(t){h||(h=!0,be("Connection","WebChannel transport errored:",t),p.ZE(new f(l.UNAVAILABLE,"The operation could not be completed")))})),d(u.WebChannel.EventType.MESSAGE,(function(t){var e;if(!h){var n=t.data[0];Ie(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){be("Connection","WebChannel received error:",i);var o=i.status,s=function(t){var e=xt[t];if(void 0!==e)return $t(e)}(o),u=i.message;void 0===s&&(s=l.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),h=!0,p.ZE(new f(s,u)),a.close()}else be("Connection","WebChannel received:",n),p.tI(n)}})),setTimeout((function(){p.XE()}),0),p},t.prototype.iI=function(t){var e=Eo[t];return this.eI+"/v1/projects/"+this.ci.projectId+"/databases/"+this.ci.database+"/documents:"+e},t}();
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ao(t){!function(t,e){t.INTERNAL.registerComponent(new a.Component("firestore",(function(t){return function(t,e){return new Hi(t,e,new Vi)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},go)))}(t),t.registerVersion("@firebase/firestore","1.14.2")
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}ve.fn(new(function(){function t(){this.Tc="undefined"!=typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.NT=function(t){return Promise.resolve(new Io(t))},t.prototype.yT=function(){return wo.ho()?new wo:new bo},t.prototype.vT=function(t){return new pe(t,{di:!0})},t.prototype.Tn=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}())),Ao(i),e.__PRIVATE_registerFirestore=Ao}));ce(wa);wa.__PRIVATE_registerFirestore;var _a=he((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var n={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},r=function(t,e){if(!t)throw i(e)},i=function(t){return new Error("Firebase Database ("+n.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},o=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=o>>2,l=(3&o)<<4|a>>4,f=(15&a)<<2|c>>6,p=63&c;u||(p=64,s||(f=64)),r.push(n[h],n[l],n[f],n[p])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(o(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();var c=o<<2|s>>4;if(r.push(c),64!==a){var h=s<<4&240|a>>2;if(r.push(h),64!==u){var l=a<<6&192|u;r.push(l)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},a=function(t){try{return s.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function u(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=u(t[n],e[n]));return t}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var c=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function h(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var l=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,f.prototype.create),i}return _e.__extends(e,t),e}(Error),f=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?p(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new l(i,a),c=0,h=Object.keys(r);c<h.length;c++){var f=h[c];"_"!==f.slice(-1)&&(f in u&&console.warn('Overwriting FirebaseError base field "'+f+'" can cause unexpected behavior.'),u[f]=r[f])}return u},t}();function p(t,e){return t.replace(d,(function(t,n){var r=e[n];return null!=r?r.toString():"<"+n+"?>"}))}var d=/\{\$([^}]+)}/g;
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function v(t){return JSON.parse(t)}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var y=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=v(a(o[0])||""),n=v(a(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:i}};
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var m=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,s,a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],h=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=h^u&(c^h),s=1518500249):(o=u^c^h,s=1859775393):r<60?(o=u&c|h&(u|c),s=2400959708):(o=u^c^h,s=3395469782);i=(a<<5|a>>>27)+o+l+s+n[r]&4294967295;l=h,h=c,c=4294967295&(u<<30|u>>>2),u=a,a=i}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();var g=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=b),void 0===r.error&&(r.error=b),void 0===r.complete&&(r.complete=b);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function b(){}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function w(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument "}e.CONSTANTS=n,e.Deferred=c,e.ErrorFactory=f,e.FirebaseError=l,e.Sha1=m,e.assert=r,e.assertionError=i,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=s,e.base64Decode=a,e.base64Encode=function(t){var e=o(t);return s.encodeByteArray(e,!0)},e.contains=
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new g(t,e);return n.subscribe.bind(n)},e.decode=y,e.deepCopy=
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function(t){return u(void 0,t)},e.deepExtend=u,e.errorPrefix=w,e.getUA=h,e.isAdmin=function(t){var e=y(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return h().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=h();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())},e.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(ue.process)}catch(t){return!1}},e.isNodeSdk=function(){return!0===n.NODE_CLIENT||!0===n.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isUWP=function(){return h().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=y(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=y(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=y(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=v,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */,e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);if(o>=55296&&o<=56319){var s=o-55296;i++,r(i<t.length,"Surrogate pair missing trail surrogate."),o=65536+(s<<10)+(t.charCodeAt(i)-56320)}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(w(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(w(t,e,r)+"must be a valid context object.")}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */,e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(w(t,e,r)+"must be a valid firebase namespace.")}}));ce(_a);_a.CONSTANTS,_a.Deferred,_a.ErrorFactory,_a.FirebaseError,_a.Sha1,_a.assert,_a.assertionError,_a.async,_a.base64,_a.base64Decode,_a.base64Encode,_a.contains,_a.createSubscribe,_a.decode,_a.deepCopy,_a.deepExtend,_a.errorPrefix,_a.getUA,_a.isAdmin,_a.isBrowser,_a.isBrowserExtension,_a.isElectron,_a.isEmpty,_a.isIE,_a.isMobileCordova,_a.isNode,_a.isNodeSdk,_a.isReactNative,_a.isUWP,_a.isValidFormat,_a.isValidTimestamp,_a.issuedAtTime,_a.jsonEval,_a.map,_a.querystring,_a.querystringDecode,_a.safeGet,_a.stringLength,_a.stringToByteArray,_a.stringify,_a.validateArgCount,_a.validateCallback,_a.validateContextObject,_a.validateNamespace;var Ea=he((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),r=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new _a.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=_e.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);try{var o=this.getOrInitializeService(i);if(!o){if(r)return null;throw Error("Service "+this.name+" is not available")}return o}catch(t){if(r)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t))try{this.getOrInitializeService("[DEFAULT]")}catch(t){}try{for(var r=_e.__values(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=_e.__read(i.value,2),s=o[0],a=o[1],u=this.normalizeInstanceIdentifier(s);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return _e.__awaiter(this,void 0,void 0,(function(){var t;return _e.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}();
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var i=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new r(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=n,e.ComponentContainer=i,e.Provider=r}));ce(Ea);Ea.Component,Ea.ComponentContainer,Ea.Provider;var Ta=function(t){return t&&"object"==typeof t&&"default"in t?t.default:t}(Le),Ia={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Aa=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return _e.__extends(e,t),e}(Error);
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Sa=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((function(t){return n.auth=t}),(function(){})),this.messaging||e.get().then((function(t){return n.messaging=t}),(function(){}))}return t.prototype.getAuthToken=function(){return _e.__awaiter(this,void 0,void 0,(function(){var t;return _e.__generator(this,(function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getInstanceIdToken=function(){return _e.__awaiter(this,void 0,void 0,(function(){return _e.__generator(this,(function(t){if(!(this.messaging&&"Notification"in self&&"granted"===Notification.permission))return[2,void 0];try{return[2,this.messaging.getToken()]}catch(t){return[2,void 0]}return[2]}))}))},t.prototype.getContext=function(){return _e.__awaiter(this,void 0,void 0,(function(){var t,e;return _e.__generator(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}}))}))},t}();
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Na(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var Oa=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map((function(t){return e.encode(t)}));if("function"==typeof t||"object"==typeof t)return Na(t,(function(t){return e.encode(t)}));throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((function(t){return e.decode(t)})):"function"==typeof t||"object"==typeof t?Na(t,(function(t){return e.decode(t)})):t},t}();
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ka=function(){function t(t,e,n,r){var i=this;void 0===r&&(r="us-central1"),this.app_=t,this.region_=r,this.serializer=new Oa,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return i.deleteService()}},this.contextProvider=new Sa(e,n),this.cancelAllRequests=new Promise((function(t){i.deleteService=function(){return t()}}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId,n=this.region_;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+n+"/"+t:"https://"+n+"-"+e+".cloudfunctions.net/"+t},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return _e.__awaiter(this,void 0,void 0,(function(){var r,i;return _e.__generator(this,(function(o){switch(o.label){case 0:n.append("Content-Type","application/json"),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 2:return r=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:i=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,r.json()];case 6:return i=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:r.status,json:i}]}}))}))},t.prototype.call=function(t,e,n){return _e.__awaiter(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,h;return _e.__generator(this,(function(l){switch(l.label){case 0:return r=this._url(t),e=this.serializer.encode(e),i={data:e},o=new Headers,[4,this.contextProvider.getContext()];case 1:return(s=l.sent()).authToken&&o.append("Authorization","Bearer "+s.authToken),s.instanceIdToken&&o.append("Firebase-Instance-ID-Token",s.instanceIdToken),a=n.timeout||7e4,[4,Promise.race([this.postJSON(r,i,o),(f=a,new Promise((function(t,e){setTimeout((function(){e(new Aa("deadline-exceeded","deadline-exceeded"))}),f)}))),this.cancelAllRequests])];case 2:if(!(u=l.sent()))throw new Aa("cancelled","Firebase Functions instance was deleted.");if(c=function(t,e,n){var r=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=r,o=void 0;try{var s=e&&e.error;if(s){var a=s.status;if("string"==typeof a){if(!Ia[a])return new Aa("internal","internal");r=Ia[a],i=a}var u=s.message;"string"==typeof u&&(i=u),void 0!==(o=s.details)&&(o=n.decode(o))}}catch(t){}return"ok"===r?null:new Aa(r,i,o)}(u.status,u.json,this.serializer))throw c;if(!u.json)throw new Aa("internal","Response is not valid JSON object.");if(void 0===(h=u.json.data)&&(h=u.json.result),void 0===h)throw new Aa("internal","Response is missing data field.");return[2,{data:this.serializer.decode(h)}]}var f}))}))},t}();
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ca(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("messaging");return new ka(n,r,i,e)}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
!function(t){var e={Functions:ka};t.INTERNAL.registerComponent(new Ea.Component("functions",Ca,"PUBLIC").setServiceProps(e).setMultipleInstances(!0))}(Ta),Ta.registerVersion("@firebase/functions","0.4.42");var Da=he((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var n={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},r=function(t,e){if(!t)throw i(e)},i=function(t){return new Error("Firebase Database ("+n.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},o=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=o>>2,l=(3&o)<<4|a>>4,f=(15&a)<<2|c>>6,p=63&c;u||(p=64,s||(f=64)),r.push(n[h],n[l],n[f],n[p])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(o(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();var c=o<<2|s>>4;if(r.push(c),64!==a){var h=s<<4&240|a>>2;if(r.push(h),64!==u){var l=a<<6&192|u;r.push(l)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},a=function(t){try{return s.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function u(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=u(t[n],e[n]));return t}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var c=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function h(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var l=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,f.prototype.create),i}return _e.__extends(e,t),e}(Error),f=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?p(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new l(i,a),c=0,h=Object.keys(r);c<h.length;c++){var f=h[c];"_"!==f.slice(-1)&&(f in u&&console.warn('Overwriting FirebaseError base field "'+f+'" can cause unexpected behavior.'),u[f]=r[f])}return u},t}();function p(t,e){return t.replace(d,(function(t,n){var r=e[n];return null!=r?r.toString():"<"+n+"?>"}))}var d=/\{\$([^}]+)}/g;
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function v(t){return JSON.parse(t)}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var y=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=v(a(o[0])||""),n=v(a(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:i}};
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var m=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,s,a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],h=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=h^u&(c^h),s=1518500249):(o=u^c^h,s=1859775393):r<60?(o=u&c|h&(u|c),s=2400959708):(o=u^c^h,s=3395469782);i=(a<<5|a>>>27)+o+l+s+n[r]&4294967295;l=h,h=c,c=4294967295&(u<<30|u>>>2),u=a,a=i}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();var g=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=b),void 0===r.error&&(r.error=b),void 0===r.complete&&(r.complete=b);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function b(){}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function w(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument "}e.CONSTANTS=n,e.Deferred=c,e.ErrorFactory=f,e.FirebaseError=l,e.Sha1=m,e.assert=r,e.assertionError=i,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=s,e.base64Decode=a,e.base64Encode=function(t){var e=o(t);return s.encodeByteArray(e,!0)},e.contains=
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new g(t,e);return n.subscribe.bind(n)},e.decode=y,e.deepCopy=
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function(t){return u(void 0,t)},e.deepExtend=u,e.errorPrefix=w,e.getUA=h,e.isAdmin=function(t){var e=y(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return h().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=h();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())},e.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(ue.process)}catch(t){return!1}},e.isNodeSdk=function(){return!0===n.NODE_CLIENT||!0===n.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isUWP=function(){return h().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=y(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=y(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=y(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=v,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */,e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);if(o>=55296&&o<=56319){var s=o-55296;i++,r(i<t.length,"Surrogate pair missing trail surrogate."),o=65536+(s<<10)+(t.charCodeAt(i)-56320)}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(w(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(w(t,e,r)+"must be a valid context object.")}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */,e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(w(t,e,r)+"must be a valid firebase namespace.")}}));ce(Da);Da.CONSTANTS,Da.Deferred,Da.ErrorFactory,Da.FirebaseError,Da.Sha1,Da.assert,Da.assertionError,Da.async,Da.base64,Da.base64Decode,Da.base64Encode,Da.contains,Da.createSubscribe,Da.decode,Da.deepCopy,Da.deepExtend,Da.errorPrefix,Da.getUA,Da.isAdmin,Da.isBrowser,Da.isBrowserExtension,Da.isElectron,Da.isEmpty,Da.isIE,Da.isMobileCordova,Da.isNode,Da.isNodeSdk,Da.isReactNative,Da.isUWP,Da.isValidFormat,Da.isValidTimestamp,Da.issuedAtTime,Da.jsonEval,Da.map,Da.querystring,Da.querystringDecode,Da.safeGet,Da.stringLength,Da.stringToByteArray,Da.stringify,Da.validateArgCount,Da.validateCallback,Da.validateContextObject,Da.validateNamespace;var xa=he((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),r=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new Da.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=_e.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);try{var o=this.getOrInitializeService(i);if(!o){if(r)return null;throw Error("Service "+this.name+" is not available")}return o}catch(t){if(r)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t))try{this.getOrInitializeService("[DEFAULT]")}catch(t){}try{for(var r=_e.__values(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=_e.__read(i.value,2),s=o[0],a=o[1],u=this.normalizeInstanceIdentifier(s);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return _e.__awaiter(this,void 0,void 0,(function(){var t;return _e.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}();
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var i=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new r(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=n,e.ComponentContainer=i,e.Provider=r}));ce(xa);var Pa=xa.Component,La=(xa.ComponentContainer,xa.Provider,function(){function t(t,e){this.code_=Qa(t),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(t){return Qa(t)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(t.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),t}()),Ra="unknown",Ma="object-not-found",ja="quota-exceeded",Ua="unauthenticated",Va="unauthorized",Fa="retry-limit-exceeded",$a="canceled",Ba="invalid-url",qa="invalid-default-bucket",za="cannot-slice-blob",Ga="server-file-wrong-size",Ha="no-download-url",Wa="invalid-argument",Ka="invalid-argument-count",Ya="app-deleted",Xa="invalid-root-operation",Ja="invalid-format",Za="internal-error";function Qa(t){return"storage/"+t}function tu(){return new La(Ra,"An unknown error occurred, please check the error payload for server response.")}function eu(){return new La($a,"User canceled the upload/download.")}function nu(){return new La(za,"Cannot slice blob for upload. Please retry the upload.")}function ru(){return new La(Ha,"The given file does not have any download URLs.")}function iu(t,e,n){return new La(Wa,"Invalid argument in `"+e+"` at index "+t+": "+n)}function ou(){return new La(Ya,"The Firebase app was deleted.")}function su(t,e){return new La(Ja,"String does not match format '"+t+"': "+e)}function au(t){throw new La(Za,"Internal error: "+t)}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var uu={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function cu(t){switch(t){case uu.RAW:case uu.BASE64:case uu.BASE64URL:case uu.DATA_URL:return;default:throw"Expected one of the event types: ["+uu.RAW+", "+uu.BASE64+", "+uu.BASE64URL+", "+uu.DATA_URL+"]."}}var hu=function(t,e){this.data=t,this.contentType=e||null};function lu(t,e){switch(t){case uu.RAW:return new hu(fu(e));case uu.BASE64:case uu.BASE64URL:return new hu(pu(t,e));case uu.DATA_URL:return new hu((n=new du(e)).base64?pu(uu.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(t){throw su(uu.DATA_URL,"Malformed data URL.")}return fu(e)}(n.rest),function(t){return new du(t).contentType}(e))}var n;throw tu()}function fu(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function pu(t,e){switch(t){case uu.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw su(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case uu.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw su(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(e){throw su(t,"Invalid character found")}for(var a=new Uint8Array(s.length),u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}var du=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw su(uu.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=e[1]||null;null!=n&&(this.base64=(r=n,i=";base64",r.length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1);var r,i;
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */};var vu,yu={STATE_CHANGED:"state_changed"},mu="running",gu="pausing",bu="paused",wu="success",_u="canceling",Eu="canceled",Tu="error",Iu={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Au(t){switch(t){case mu:case gu:case _u:return Iu.RUNNING;case bu:return Iu.PAUSED;case wu:return Iu.SUCCESS;case Eu:return Iu.CANCELED;case Tu:default:return Iu.ERROR}}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Su(t){return null!=t}function Nu(t){return void 0!==t}function Ou(t){return"function"==typeof t}function ku(t){return"object"==typeof t}function Cu(t){return ku(t)&&null!==t}function Du(t){return"string"==typeof t||t instanceof String}function xu(t){return Pu(t)&&Number.isInteger(t)}function Pu(t){return"number"==typeof t||t instanceof Number}function Lu(t){return Ru()&&t instanceof Blob}function Ru(){return"undefined"!=typeof Blob}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(vu||(vu={}));
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Mu=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=vu.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=vu.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=vu.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw au("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),Su(r))for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return Su(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw au("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw au("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw au("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){Su(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){Su(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),ju=function(){function t(){}return t.prototype.createXhrIo=function(){return new Mu},t}();
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function Uu(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Vu(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Uu();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(Ru())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Fu=function(){function t(t,e){var n=0,r="";Lu(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(Lu(this.data_)){var r=function(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===r?null:new t(r)}return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(Ru()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(Vu.apply(null,r))}var i=e.map((function(t){return Du(t)?lu(uu.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var s=new Uint8Array(o),a=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]})),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}(),$u=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!0,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(n){return new t(e,"")}if(""===n.path)return n;throw new La(qa,"Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null;var r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function i(t){t.path_=decodeURIComponent(t.path)}for(var o="firebasestorage.googleapis.com".replace(/[.]/g,"\\."),s=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:i}],a=0;a<s.length;a++){var u=s[a],c=u.regex.exec(e);if(c){var h=c[u.indices.bucket],l=c[u.indices.path];l||(l=""),n=new t(h,l),u.postModify(n);break}}if(null==n)throw function(t){return new La(Ba,"Invalid URL '"+t+"'.")}(e);return n},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function Bu(t){var e;try{e=JSON.parse(t)}catch(t){return null}return function(t){return ku(t)&&!Array.isArray(t)}(e)?e:null}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function qu(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}function zu(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Gu(t){return"https://firebasestorage.googleapis.com/v0"+t}function Hu(t){var e=encodeURIComponent,n="?";for(var r in t){if(t.hasOwnProperty(r))n=n+(e(r)+"="+e(t[r]))+"&"}return n=n.slice(0,-1)}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Wu(t,e){return e}var Ku=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||Wu},Yu=null;function Xu(){if(Yu)return Yu;var t=[];t.push(new Ku("bucket")),t.push(new Ku("generation")),t.push(new Ku("metageneration")),t.push(new Ku("name","fullPath",!0));var e=new Ku("name");e.xform=function(t,e){return function(t){return!Du(t)||t.length<2?t:zu(t)}(e)},t.push(e);var n=new Ku("size");return n.xform=function(t,e){return Su(e)?Number(e):e},t.push(n),t.push(new Ku("timeCreated")),t.push(new Ku("updated")),t.push(new Ku("md5Hash",null,!0)),t.push(new Ku("cacheControl",null,!0)),t.push(new Ku("contentDisposition",null,!0)),t.push(new Ku("contentEncoding",null,!0)),t.push(new Ku("contentLanguage",null,!0)),t.push(new Ku("contentType",null,!0)),t.push(new Ku("metadata","customMetadata",!0)),Yu=t}function Ju(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=t.bucket,r=t.fullPath,i=new $u(n,r);return e.makeStorageReference(i)}})}(r,t),r}function Zu(t,e,n){var r=Bu(e);return null===r?null:Ju(t,r,n)}function Qu(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function tc(t){if(!ku(t)||!t)throw"Expected Metadata object.";for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];if("customMetadata"===e){if(!ku(n))throw"Expected object for 'customMetadata' mapping."}else if(Cu(n))throw"Mapping for '"+e+"' cannot be an object."}}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ec(t,e,n){var r=Bu(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t.makeStorageReference(new $u(e,s));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++){var h=c[u];a=t.makeStorageReference(new $u(e,h.name));r.items.push(a)}return r}(t,e,r)}function nc(t){if(!ku(t)||!t)throw"Expected ListOptions object.";for(var e in t)if("maxResults"===e){if(!xu(t.maxResults)||t.maxResults<=0)throw"Expected maxResults to be a positive number.";if(t.maxResults>1e3)throw"Expected maxResults to be less than or equal to 1000."}else{if("pageToken"!==e)throw"Unknown option: "+e;if(t.pageToken&&!Du(t.pageToken))throw"Expected pageToken to be string."}}var rc=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ic(t){if(!t)throw tu()}function oc(t,e){return function(n,r){var i=Zu(t,r,e);return ic(null!==i),i}}function sc(t,e){return function(n,r){var i=Zu(t,r,e);return ic(null!==i),function(t,e){var n=Bu(e);if(null===n)return null;if(!Du(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(e){var n=t.bucket,r=t.fullPath;return Gu("/b/"+i(n)+"/o/"+i(r))+Hu({alt:"media",token:e})}))[0]}(i,r)}}function ac(t){return function(e,n){var r,i,o;return 401===e.getStatus()?r=new La(Ua,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(o=t.bucket,r=new La(ja,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(i=t.path,r=new La(Va,"User does not have permission to access '"+i+"'.")):r=n,r.setServerResponseProp(n.serverResponseProp()),r}}function uc(t){var e=ac(t);return function(n,r){var i,o=e(n,r);return 404===n.getStatus()&&(i=t.path,o=new La(Ma,"Object '"+i+"' does not exist.")),o.setServerResponseProp(r.serverResponseProp()),o}}function cc(t,e,n){var r=Gu(e.fullServerUrl()),i=t.maxOperationRetryTime(),o=new rc(r,"GET",oc(t,n),i);return o.errorHandler=uc(e),o}function hc(t,e,n,r,i){var o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=Gu(e.bucketOnlyServerUrl()),a=t.maxOperationRetryTime(),u=new rc(s,"GET",function(t,e){return function(n,r){var i=ec(t,e,r);return ic(null!==i),i}}(t,e.bucket),a);return u.urlParams=o,u.errorHandler=ac(e),u}function lc(t,e,n){var r=Gu(e.fullServerUrl()),i=t.maxOperationRetryTime(),o=new rc(r,"GET",sc(t,n),i);return o.errorHandler=uc(e),o}function fc(t,e,n,r){var i=Gu(e.fullServerUrl()),o=Qu(n,r),s=t.maxOperationRetryTime(),a=new rc(i,"PATCH",oc(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=uc(e),a}function pc(t,e){var n=Gu(e.fullServerUrl()),r=t.maxOperationRetryTime();var i=new rc(n,"DELETE",(function(t,e){}),r);return i.successCodes=[200,204],i.errorHandler=uc(e),i}function dc(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}var vc=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function yc(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){ic(!1)}return ic(!!n&&-1!==(e||["active"]).indexOf(n)),n}function mc(t,e,n,r,i,o,s,a){var u=new vc(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new La(Ga,"Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,h=c;i>0&&(h=Math.min(h,i));var l=u.current,f=l+h,p={"X-Goog-Upload-Command":h===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},d=r.slice(l,f);if(null===d)throw nu();var v=e.maxUploadRetryTime(),y=new rc(n,"POST",(function(t,n){var i,s=yc(t,["active","final"]),a=u.current+h,c=r.size();return i="final"===s?oc(e,o)(t,n):null,new vc(a,c,"final"===s,i)}),v);return y.headers=p,y.body=d.uploadData(),y.progressCallback=a||null,y.errorHandler=ac(t),y}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var gc=function(t,e,n){if(Ou(t)||Su(e)||Su(n))this.next=t,this.error=e||null,this.complete=n||null;else{var r=t;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}},bc=function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o};
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function wc(t,e,n){for(var r=e.length,i=e.length,o=0;o<e.length;o++)if(e[o].optional){r=o;break}var s,a,u,c,h,l;if(!(r<=n.length&&n.length<=i))throw s=r,a=i,u=t,c=n.length,s===a?(h=s,l=1===s?"argument":"arguments"):(h="between "+s+" and "+a,l="arguments"),new La(Ka,"Invalid argument count in `"+u+"`: Expected "+h+" "+l+", received "+c+".");for(o=0;o<n.length;o++)try{e[o].validator(n[o])}catch(e){throw e instanceof Error?iu(o,t,e.message):iu(o,t,e)}}var _c=function(t,e){var n=this;this.validator=function(e){n.optional&&!Nu(e)||t(e)},this.optional=!!e};function Ec(t,e){function n(t){if(!Du(t))throw"Expected string."}var r,i,o;return t?(i=n,o=t,r=function(t){i(t),o(t)}):r=n,new _c(r,e)}function Tc(){return new _c((function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||Ru()&&t instanceof Blob))throw"Expected Blob or File."}))}function Ic(t){return new _c(tc,t)}function Ac(t){return new _c(nc,t)}function Sc(){return new _c((function(t){if(!(Pu(t)&&t>=0))throw"Expected a number 0 or greater."}))}function Nc(t,e){return new _c((function(e){if(!(null===e||Su(e)&&e instanceof Object))throw"Expected an Object.";null!=t&&t(e)}),e)}function Oc(t){return new _c((function(t){if(!(null===t||Ou(t)))throw"Expected a Function."}),t)}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function kc(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Cc=function(){function t(t,e,n,r,i,o){var s=this;void 0===o&&(o=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.authWrapper_=e,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=mu,this.errorHandler_=function(t){s.request_=null,s.chunkMultiplier_=1,t.codeEquals($a)?(s.needToFetchStatus_=!0,s.completeTransitions_()):(s.error_=t,s.transition_(Tu))},this.metadataErrorHandler_=function(t){s.request_=null,t.codeEquals($a)?s.completeTransitions_():(s.error_=t,s.transition_(Tu))},this.promise_=new Promise((function(t,e){s.resolve_=t,s.reject_=e,s.start_()})),this.promise_.then(null,(function(){}))}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n){return t.updateProgress_(e+n)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){this.state_===mu&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.authWrapper_.getAuthToken().then((function(n){switch(e.state_){case mu:t(n);break;case _u:e.transition_(Eu);break;case gu:e.transition_(bu)}}))},t.prototype.createResumable_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=dc(e,r,i),a={name:s.fullPath},u=Gu(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},h=Qu(s,n),l=t.maxUploadRetryTime(),f=new rc(u,"POST",(function(t){var e;yc(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){ic(!1)}return ic(Du(e)),e}),l);return f.urlParams=a,f.headers=c,f.body=h,f.errorHandler=ac(e),f}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_((function(n){var r=function(t,e,n,r){var i=t.maxUploadRetryTime(),o=new rc(n,"POST",(function(t){var e=yc(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){ic(!1)}n||ic(!1);var i=Number(n);return ic(!isNaN(i)),new vc(i,r.size(),"final"===e)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=ac(e),o}(t.authWrapper_,t.location_,e,t.blob_),i=t.authWrapper_.makeRequest(r,n);t.request_=i,i.getPromise().then((function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.continueUpload_=function(){var t=this,e=262144*this.chunkMultiplier_,n=new vc(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_((function(i){var o;try{o=mc(t.location_,t.authWrapper_,r,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(e){return t.error_=e,void t.transition_(Tu)}var s=t.authWrapper_.makeRequest(o,i);t.request_=s,s.getPromise().then((function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_(wu)):t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_((function(e){var n=cc(t.authWrapper_,t.location_,t.mappings_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.transition_(wu)}),t.metadataErrorHandler_)}))},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=dc(e,r,i),c="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Qu(u,n)+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",h="\r\n--"+a+"--",l=Fu.getBlob(c,r,h);if(null===l)throw nu();var f={name:u.fullPath},p=Gu(o),d=t.maxUploadRetryTime(),v=new rc(p,"POST",oc(t,n),d);return v.urlParams=f,v.headers=s,v.body=l.uploadData(),v.errorHandler=ac(e),v}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_(wu)}),t.errorHandler_)}))},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case _u:case gu:this.state_=t,null!==this.request_&&this.request_.cancel();break;case mu:var e=this.state_===bu;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case bu:this.state_=t,this.notifyObservers_();break;case Eu:this.error_=eu(),this.state_=t,this.notifyObservers_();break;case Tu:case wu:this.state_=t,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case gu:this.transition_(bu);break;case _u:this.transition_(Eu);break;case mu:this.start_()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=Au(this.state_);return new bc(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),t.prototype.on=function(t,e,n,r){function i(){if(t!==yu.STATE_CHANGED)throw"Expected one of the event types: ["+yu.STATE_CHANGED+"]."}var o="Expected a function or an Object with one of `next`, `error`, `complete` properties.",s=Oc(!0).validator,a=Nc(null,!0).validator;function u(t){try{return void s(t)}catch(t){}try{if(a(t),!(Nu(t.next)||Nu(t.error)||Nu(t.complete)))throw"";return}catch(t){throw o}}var c=[Ec(i),Nc(u,!0),Oc(!0),Oc(!0)];wc("on",c,arguments);var h=this;function l(t){return function(e,n,i){null!==t&&wc("on",t,arguments);var o=new gc(e,n,r);return h.addObserver_(o),function(){h.removeObserver_(o)}}}function f(t){if(null===t)throw o;u(t)}var p=[Nc(f),Oc(!0),Oc(!0)],d=!(Nu(e)||Nu(n)||Nu(r));return d?l(p):l(null)(e,n,r)},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){var e=this.observers_.indexOf(t);-1!==e&&this.observers_.splice(e,1)},t.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),this.observers_.slice().forEach((function(e){t.notifyObserver_(e)}))},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(Au(this.state_)){case Iu.SUCCESS:kc(this.resolve_.bind(null,this.snapshot))();break;case Iu.CANCELED:case Iu.ERROR:kc(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){switch(Au(this.state_)){case Iu.RUNNING:case Iu.PAUSED:t.next&&kc(t.next.bind(t,this.snapshot))();break;case Iu.SUCCESS:t.complete&&kc(t.complete.bind(t))();break;case Iu.CANCELED:case Iu.ERROR:t.error&&kc(t.error.bind(t,this.error_))();break;default:t.error&&kc(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){wc("resume",[],arguments);var t=this.state_===bu||this.state_===gu;return t&&this.transition_(mu),t},t.prototype.pause=function(){wc("pause",[],arguments);var t=this.state_===mu;return t&&this.transition_(gu),t},t.prototype.cancel=function(){wc("cancel",[],arguments);var t=this.state_===mu||this.state_===gu;return t&&this.transition_(_u),t},t}(),Dc=function(){function t(t,e){this.authWrapper=t,this.location=e instanceof $u?e:$u.makeFromUrl(e)}return t.prototype.toString=function(){return wc("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return Xu()},t.prototype.child=function(t){wc("child",[Ec()],arguments);var e=qu(this.location.path,t),n=new $u(this.location.bucket,e);return this.newRef(this.authWrapper,n)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this.location.path);if(null===t)return null;var e=new $u(this.location.bucket,t);return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new $u(this.location.bucket,"");return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return zu(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),wc("put",[Tc(),Ic(!0)],arguments),this.throwIfRoot_("put"),new Cc(this,this.authWrapper,this.location,this.mappings(),new Fu(t),e)},t.prototype.putString=function(t,e,n){void 0===e&&(e=uu.RAW),wc("putString",[Ec(),Ec(cu,!0),Ic(!0)],arguments),this.throwIfRoot_("putString");var r=lu(e,t),i=Object.assign({},n);return!Su(i.contentType)&&Su(r.contentType)&&(i.contentType=r.contentType),new Cc(this,this.authWrapper,this.location,this.mappings(),new Fu(r.data,!0),i)},t.prototype.delete=function(){var t=this;return wc("delete",[],arguments),this.throwIfRoot_("delete"),this.authWrapper.getAuthToken().then((function(e){var n=pc(t.authWrapper,t.location);return t.authWrapper.makeRequest(n,e).getPromise()}))},t.prototype.listAll=function(){wc("listAll",[],arguments);var t={prefixes:[],items:[]};return this.listAllHelper(t).then((function(){return t}))},t.prototype.listAllHelper=function(t,e){return de(this,void 0,void 0,(function(){var n,r,i,o;return ve(this,(function(s){switch(s.label){case 0:return n={pageToken:e},[4,this.list(n)];case 1:return r=s.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(o=t.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,this.listAllHelper(t,r.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))},t.prototype.list=function(t){wc("list",[Ac(!0)],arguments);var e=this;return this.authWrapper.getAuthToken().then((function(n){var r=t||{},i=hc(e.authWrapper,e.location,"/",r.pageToken,r.maxResults);return e.authWrapper.makeRequest(i,n).getPromise()}))},t.prototype.getMetadata=function(){var t=this;return wc("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.authWrapper.getAuthToken().then((function(e){var n=cc(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise()}))},t.prototype.updateMetadata=function(t){var e=this;return wc("updateMetadata",[Ic()],arguments),this.throwIfRoot_("updateMetadata"),this.authWrapper.getAuthToken().then((function(n){var r=fc(e.authWrapper,e.location,t,e.mappings());return e.authWrapper.makeRequest(r,n).getPromise()}))},t.prototype.getDownloadURL=function(){var t=this;return wc("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.authWrapper.getAuthToken().then((function(e){var n=lc(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise().then((function(t){if(null===t)throw ru();return t}))}))},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw function(t){return new La(Xa,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)},t}(),xc=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),Pc=function(){function t(){this.map=new Map,this.id=-9007199254740991}return t.prototype.addRequest=function(t){var e=this,n=this.id;this.id++,this.map.set(n,t),t.getPromise().then((function(){return e.map.delete(n)}),(function(){return e.map.delete(n)}))},t.prototype.clear=function(){this.map.forEach((function(t){t&&t.cancel(!0)})),this.map.clear()},t}(),Lc=function(){function t(e,n,r,i,o,s){var a;if(this.bucket_=null,this.appId_=null,this.deleted_=!1,this.app_=e,null!==this.app_){var u=this.app_.options;Su(u)&&(this.bucket_=t.extractBucket_(u),this.appId_=null!==(a=u.appId)&&void 0!==a?a:null)}this.authProvider_=n,this.storageRefMaker_=r,this.requestMaker_=i,this.pool_=s,this.service_=o,this.maxOperationRetryTime_=12e4,this.maxUploadRetryTime_=6e5,this.requestMap_=new Pc}return t.extractBucket_=function(t){var e=t.storageBucket||null;return null==e?null:$u.makeFromBucketSpec(e).bucket},t.prototype.getAuthToken=function(){var t=this.authProvider_.getImmediate({optional:!0});return t?t.getToken().then((function(t){return null!==t?t.accessToken:null}),(function(){return null})):Promise.resolve(null)},t.prototype.bucket=function(){if(this.deleted_)throw ou();return this.bucket_},t.prototype.service=function(){return this.service_},t.prototype.makeStorageReference=function(t){return this.storageRefMaker_(this,t)},t.prototype.makeRequest=function(t,e){if(this.deleted_)return new xc(ou());var n=this.requestMaker_(t,this.appId_,e,this.pool_);return this.requestMap_.addRequest(n),n},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},t.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},t.prototype.setMaxUploadRetryTime=function(t){this.maxUploadRetryTime_=t},t.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},t.prototype.setMaxOperationRetryTime=function(t){this.maxOperationRetryTime_=t},t}();
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Rc=function(){function t(t,e,n,r,i,o,s,a,u,c,h){var l=this;this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=h,this.promise_=new Promise((function(t,e){l.resolve_=t,l.reject_=e,l.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());Nu(a)?i(a):i()}catch(t){o(t)}else null!==s?((r=tu()).setServerResponseProp(s.getResponseText()),t.errorCallback_?o(t.errorCallback_(s,r)):o(r)):n.canceled?o(r=t.appDelete_?ou():eu()):o(r=new La(Fa,"Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new Mc(!1,null,!0)):this.backoffId_=
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function(t,e,n){var r=1,i=null,o=!1,s=0;function a(){return 2===s}var u=!1;function c(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];u||(u=!0,e.apply(null,t))}function h(e){i=setTimeout((function(){i=null,t(l,a())}),e)}function l(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!u)if(t)c.call.apply(c,be([null,t],e));else{var i,l=a()||o;if(l)c.call.apply(c,be([null,t],e));else r<64&&(r*=2),1===s?(s=2,i=0):i=1e3*(r+Math.random()),h(i)}}var f=!1;function p(t){f||(f=!0,u||(null!==i?(t||(s=2),clearTimeout(i),h(0)):t||(s=1)))}return h(0),setTimeout((function(){o=!0,p(!0)}),n),p}((function(e,n){if(n)e(!1,new Mc(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===vu.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new Mc(s,n))}else{var a=n.getErrorCode()===vu.ABORT;e(!1,new Mc(!1,null,a))}}))}function i(e){var n=e.loaded,r=e.lengthComputable?e.total:-1;null!==t.progressCallback_&&t.progressCallback_(n,r)}}),e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function(t){t(!1)}(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),Mc=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n};function jc(t,e,n,r){var i=Hu(t.urlParams),o=t.url+i,s=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(s,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(s,n),function(t){var e=void 0!==Re?Re.SDK_VERSION:"AppManager";t["X-Firebase-Storage-Version"]="webjs/"+e}(s),new Rc(o,t.method,s,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Uc=function(){function t(t,e,n,r){if(this.bucket_=null,this.authWrapper_=new Lc(t,e,(function(t,e){return new Dc(t,e)}),jc,this,n),this.app_=t,null!=r)this.bucket_=$u.makeFromBucketSpec(r);else{var i=this.authWrapper_.bucket();null!=i&&(this.bucket_=new $u(i,""))}this.internals_=new Vc(this)}return t.prototype.ref=function(t){function e(t){if("string"!=typeof t)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."}if(wc("ref",[Ec(e,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new Dc(this.authWrapper_,this.bucket_);return null!=t?n.child(t):n},t.prototype.refFromURL=function(t){function e(t){if("string"!=typeof t)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{$u.makeFromUrl(t)}catch(t){throw"Expected valid full URL but got an invalid one."}}return wc("refFromURL",[Ec(e,!1)],arguments),new Dc(this.authWrapper_,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){wc("setMaxUploadRetryTime",[Sc()],arguments),this.authWrapper_.setMaxUploadRetryTime(t)},t.prototype.setMaxOperationRetryTime=function(t){wc("setMaxOperationRetryTime",[Sc()],arguments),this.authWrapper_.setMaxOperationRetryTime(t)},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),t}(),Vc=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),Promise.resolve()},t}();function Fc(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new Uc(n,r,new ju,e)}!function(t){var e={TaskState:Iu,TaskEvent:yu,StringFormat:uu,Storage:Uc,Reference:Dc};t.INTERNAL.registerComponent(new Pa("storage",Fc,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.3.32")}(Re);Ue.initializeApp({apiKey:"AIzaSyCexB0u6-dNC5pyijr4ZmU0jZh0DoxQf3Q",authDomain:"darth-crawl.firebaseapp.com",projectId:"darth-crawl",storageBucket:"darth-crawl.appspot.com",messagingSenderId:"514454403021",appId:"1:514454403021:web:0e7d1f50b5f1216ec0f684",measurementId:"G-4CSCFQQ0SR"});const $c=Ue.auth(),Bc=new Ue.auth.GoogleAuthProvider,qc=Ue.firestore(),zc=Ue.functions(),Gc=Ue.storage().ref();location.host.includes("localhost")&&(qc.settings({host:"localhost:8080",ssl:!1}),zc.useFunctionsEmulator("http://localhost:5001"));Ue.analytics();function Hc(t){return"function"==typeof t}var Wc=!1,Kc={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;Wc=t},get useDeprecatedSynchronousErrorHandling(){return Wc}};function Yc(t){setTimeout((function(){throw t}),0)}var Xc={closed:!0,next:function(t){},error:function(t){if(Kc.useDeprecatedSynchronousErrorHandling)throw t;Yc(t)},complete:function(){}},Jc=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}();function Zc(t){return null!==t&&"object"==typeof t}var Qc=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),th=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n=this._parentOrParents,r=this._unsubscribe,i=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var o=0;o<n.length;++o){n[o].remove(this)}if(Hc(r))try{r.call(this)}catch(t){e=t instanceof Qc?eh(t.errors):[t]}if(Jc(i)){o=-1;for(var s=i.length;++o<s;){var a=i[o];if(Zc(a))try{a.unsubscribe()}catch(t){e=e||[],t instanceof Qc?e=e.concat(eh(t.errors)):e.push(t)}}}if(e)throw new Qc(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function eh(t){return t.reduce((function(t,e){return t.concat(e instanceof Qc?e.errors:e)}),[])}var nh=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),rh=function(t){function e(n,r,i){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=Xc;break;case 1:if(!n){o.destination=Xc;break}if("object"==typeof n){n instanceof e?(o.syncErrorThrowable=n.syncErrorThrowable,o.destination=n,n.add(o)):(o.syncErrorThrowable=!0,o.destination=new ih(o,n));break}default:o.syncErrorThrowable=!0,o.destination=new ih(o,n,r,i)}return o}return fe(e,t),e.prototype[nh]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(th),ih=function(t){function e(e,n,r,i){var o,s=t.call(this)||this;s._parentSubscriber=e;var a=s;return Hc(n)?o=n:n&&(o=n.next,r=n.error,i=n.complete,n!==Xc&&(Hc((a=Object.create(n)).unsubscribe)&&s.add(a.unsubscribe.bind(a)),a.unsubscribe=s.unsubscribe.bind(s))),s._context=a,s._next=o,s._error=r,s._complete=i,s}return fe(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;Kc.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=Kc.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Yc(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Yc(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};Kc.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),Kc.useDeprecatedSynchronousErrorHandling)throw t;Yc(t)}},e.prototype.__tryOrSetError=function(t,e,n){if(!Kc.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return Kc.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(Yc(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(rh);var oh=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function sh(){}function ah(t){return t?1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}:sh}var uh=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,i=function(t,e,n){if(t){if(t instanceof rh)return t;if(t[nh])return t[nh]()}return t||e||n?new rh(t,e,n):new rh(Xc)}(t,e,n);if(r?i.add(r.call(i,this.source)):i.add(this.source||Kc.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),Kc.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){Kc.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),!function(t){for(;t;){var e=t,n=e.closed,r=e.destination,i=e.isStopped;if(n||i)return!1;t=r&&r instanceof rh?r:null}return!0}(t)?console.warn(e):t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=ch(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(t){r(t),i&&i.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[oh]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:ah(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=ch(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function ch(t){if(t||(t=Promise),!t)throw new Error("no Promise impl found");return t}var hh=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return fe(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,n){return t.call(this)||this}return fe(e,t),e.prototype.schedule=function(t,e){return this},e}(th)),lh=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}();function fh(t){return t&&"function"==typeof t.schedule}var ph=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}};function dh(t,e){return new uh((function(n){var r=new th,i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function vh(t,e){return e?dh(t,e):new uh(ph(t))}function yh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return fh(n)?(t.pop(),dh(t,n)):vh(t)}var mh=new(function(t){function e(n,r){void 0===r&&(r=lh.now);var i=t.call(this,n,(function(){return e.delegate&&e.delegate!==i?e.delegate.now():r()}))||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return fe(e,t),e.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,i):t.prototype.schedule.call(this,n,r,i)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(lh))(hh);function gh(t){return t}function bh(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new wh(t,e))}}var wh=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new _h(t,this.project,this.thisArg))},t}(),_h=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return fe(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(rh),Eh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return fe(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(rh),Th=function(t){function e(e,n,r){var i=t.call(this)||this;return i.parent=e,i.outerValue=n,i.outerIndex=r,i.index=0,i}return fe(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(rh);function Ih(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var Ah=Ih(),Sh=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function Nh(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var Oh=function(t){if(t&&"function"==typeof t[oh])return n=t,function(t){var e=n[oh]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Sh(t))return ph(t);if(Nh(t))return function(t){return function(e){return t.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,Yc),e}}(t);if(t&&"function"==typeof t[Ah])return e=t,function(t){for(var n=e[Ah]();;){var r=n.next();if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,r=Zc(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+r+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function kh(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[oh]}(t))return function(t,e){return new uh((function(n){var r=new th;return r.add(e.schedule((function(){var i=t[oh]();r.add(i.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}))}(t,e);if(Nh(t))return function(t,e){return new uh((function(n){var r=new th;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}))}(t,e);if(Sh(t))return dh(t,e);if(function(t){return t&&"function"==typeof t[Ah]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new uh((function(n){var r,i=new th;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(e.schedule((function(){r=t[Ah](),i.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(t){return void n.error(t)}e?n.complete():(n.next(t),this.schedule())}})))}))),i}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function Ch(t,e){return e?kh(t,e):t instanceof uh?t:new uh(Oh(t))}function Dh(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?function(r){return r.pipe(Dh((function(n,r){return Ch(t(n,r)).pipe(bh((function(t,i){return e(n,t,r,i)})))}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new xh(t,n))})}var xh=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new Ph(t,this.project,this.concurrent))},t}(),Ph=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this,e)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return fe(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=new Th(this,e,n),i=this.destination;i.add(r);var o=function(t,e,n,r,i){if(void 0===i&&(i=new Th(t,n,r)),!i.closed)return e instanceof uh?e.subscribe(i):Oh(e)(i)}(this,t,void 0,void 0,r);o!==r&&i.add(o)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(Eh);function Lh(){return void 0===(t=1)&&(t=Number.POSITIVE_INFINITY),Dh(gh,t);var t}function Rh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Lh()(yh.apply(void 0,t))}function Mh(t,e){var n;return void 0===t&&(t=0),void 0===e&&(e=mh),(Jc(n=t)||!(n-parseFloat(n)+1>=0)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=mh),new uh((function(n){return n.add(e.schedule(jh,t,{subscriber:n,counter:0,period:t})),n}))}function jh(t){var e=t.subscriber,n=t.counter,r=t.period;e.next(n),this.schedule({subscriber:e,counter:n+1,period:r},r)}var Uh=function(){function t(t,e){this.predicate=t,this.inclusive=e}return t.prototype.call=function(t,e){return e.subscribe(new Vh(t,this.predicate,this.inclusive))},t}(),Vh=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.inclusive=r,i.index=0,i}return fe(e,t),e.prototype._next=function(t){var e,n=this.destination;try{e=this.predicate(t,this.index++)}catch(t){return void n.error(t)}this.nextOrComplete(t,e)},e.prototype.nextOrComplete=function(t,e){var n=this.destination;Boolean(e)?n.next(t):(this.inclusive&&n.next(t),n.complete())},e}(rh);
/**
     * @license
     * Copyright 2018 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function Fh(t){return new uh((function(e){return{unsubscribe:t.onAuthStateChanged(e)}}))}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var $h=function(){return($h=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};
/**
     * @license
     * Copyright 2018 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Bh(t,e){return function(t,e){return new uh((function(n){return{unsubscribe:t.onSnapshot(e||{},n)}}))}(t,e)}
/**
     * @license
     * Copyright 2018 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function qh(t){return function(t,e){return Bh(t,e)}(t)}function zh(t,e){var n;return $h($h({},t.data()),e?((n={})[e]=t.id,n):null)}function Gh(t){return(e=t,Bh(e,n)).pipe(bh((function(t){return t.docs})));var e,n}function Hh(t,e){return Gh(t).pipe(bh((function(t){return t.map((function(t){return zh(t,e)}))})))}const Wh=t=>Hh(qc.collection("crawls").where("uid","==",t).orderBy("createDate"),"id").pipe(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return fh(n)?(t.pop(),function(e){return Rh(t,e,n)}):function(e){return Rh(t,e)}}([{url:"test"}])),Kh=async t=>{let e=qc.collection("users").doc(t);return n="uid",qh(e).pipe(bh((function(t){return zh(t,n)})));var n},Yh=(t,e)=>Hh(qc.collection(`crawls/${t}/results`).where("date",">=",e).orderBy("date","desc")),Xh=async({id:t,uid:e,crawlName:n,createTime:r,url:i,elements:o})=>await qc.collection("crawls").doc(t).set({uid:e,createDate:r,crawlName:n,url:i,crawlElements:o},{merge:!0});function Jh(e){let n;return{c(){n=I("div"),n.innerHTML='<div class="brandLogo"><svg height="40px" version="1.1" viewBox="0 0 145 181" width="38px"><title></title><desc></desc><defs></defs><g fill="none" fillrule="evenodd" id="Page-1" stroke="none" strokewidth="1"><g id="star-wars-copy" transform="translate(-1757.000000, -2037.000000)"><g id="darth-maul" transform="translate(1757.000000, 2037.000000)"><path d="M12.165,60.5 L12.165,131.3 C12.165,139.13 15.987,146.468\n            22.401,150.962 L24.165,152.198 L58.401,176.162 C66.663,181.946\n            77.667,181.946 85.929,176.162 L120.165,152.198 L121.929,150.962\n            C128.343,146.468 132.165,139.13 132.165,131.3 L132.165,90.5\n            L132.165,60.5 C132.165,27.362 12.165,27.362 12.165,60.5" fill="#323232" id="Fill-59"></path><path d="M120.165,42.4994 L120.165,34.0154 L141.381,21.2834\n            L128.649,42.4994 L120.165,42.4994 Z" fill="#BEBEBE" id="Fill-60"></path><path d="M24.165,42.4994 L24.165,34.0154 L2.949,21.2834 L15.681,42.4994\n            L24.165,42.4994 Z" fill="#BEBEBE" id="Fill-61"></path><path d="M12.165,114.5 L12.165,114.5 C5.565,114.5 0.165,109.1 0.165,102.5\n            L0.165,84.5 C0.165,77.9 5.565,72.5 12.165,72.5 L12.165,72.5\n            C18.765,72.5 24.165,77.9 24.165,84.5 L24.165,102.5 C24.165,109.1\n            18.765,114.5 12.165,114.5" fill="#323232" id="Fill-62"></path><path d="M132.165,114.5 L132.165,114.5 C125.565,114.5 120.165,109.1\n            120.165,102.5 L120.165,84.5 C120.165,77.9 125.565,72.5 132.165,72.5\n            L132.165,72.5 C138.765,72.5 144.165,77.9 144.165,84.5 L144.165,102.5\n            C144.165,109.1 138.765,114.5 132.165,114.5" fill="#323232" id="Fill-63"></path><path d="M72.165,0.5 C39.027,0.5 12.165,27.362 12.165,60.5 L18.165,72.5\n            L12.165,96.5 L42.165,150.5 L60.165,132.5 L66.165,150.5 L78.165,150.5\n            L84.165,132.5 L102.165,150.5 L132.165,90.5 L126.165,72.494\n            L132.165,60.5 C132.165,27.362 105.303,0.5 72.165,0.5" fill="#921816" id="Fill-64"></path><path d="M78.165,90.4994 L102.165,72.4994 L120.165,84.4994\n            L102.165,108.4994 L78.165,90.4994 Z" fill="#323232" id="Fill-65"></path><path d="M96.165,84.5 C92.847,84.5 90.165,87.182 90.165,90.5\n            C90.165,93.818 92.847,96.5 96.165,96.5 C99.483,96.5 102.165,93.818\n            102.165,90.5 C102.165,87.182 99.483,84.5 96.165,84.5" fill="#F1C40F" id="Fill-66"></path><path d="M66.165,90.4994 L42.165,72.4994 L24.165,84.4994 L36.165,108.4994\n            L66.165,90.4994 Z" fill="#323232" id="Fill-67"></path><path d="M48.165,84.5 C44.847,84.5 42.165,87.182 42.165,90.5\n            C42.165,93.818 44.847,96.5 48.165,96.5 C51.483,96.5 54.165,93.818\n            54.165,90.5 C54.165,87.182 51.483,84.5 48.165,84.5" fill="#F1C40F" id="Fill-68"></path><path d="M84.165,156.4994 L60.165,156.4994 L56.499,174.8294\n            L58.401,176.1614 C66.663,181.9454 77.667,181.9454 85.929,176.1614\n            L87.831,174.8294 L84.165,156.4994 Z" fill="#921816" id="Fill-69"></path><path d="M72.165,18.4994 L60.165,36.4994 L72.165,90.4994 L84.165,36.4994\n            L72.165,18.4994 Z" fill="#323232" id="Fill-70"></path><path d="M42.165,84.4994 L54.165,66.4994 L48.165,48.4994 L30.165,66.4994\n            L30.165,36.4994 L36.165,54.4994 L48.165,42.4994 L60.165,66.4994\n            L42.165,84.4994 Z" fill="#323232" id="Fill-71"></path><path d="M30.165,54.4994 L21.681,36.4994 L30.165,28.0154 L38.649,36.4994\n            L30.165,54.4994 Z" fill="#323232" id="Fill-72"></path><path d="M72.165,42.4994 L78.165,36.4994 L72.165,12.4994 L66.165,36.4994\n            L72.165,42.4994 Z" fill="#BEBEBE" id="Fill-73"></path><path d="M30.165,42.4994 L36.165,36.4994 L30.165,12.4994 L24.165,36.4994\n            L30.165,42.4994 Z" fill="#BEBEBE" id="Fill-74"></path><path d="M102.165,84.4994 L90.165,66.4994 L96.165,48.4994 L114.165,66.4994\n            L114.165,36.4994 L108.165,54.4994 L96.165,42.4994 L84.165,66.4994\n            L102.165,84.4994 Z" fill="#323232" id="Fill-75"></path><path d="M114.165,54.4994 L122.649,36.4994 L114.165,28.0154\n            L105.681,36.4994 L114.165,54.4994 Z" fill="#323232" id="Fill-76"></path><path d="M114.165,42.4994 L108.165,36.4994 L114.165,12.4994\n            L120.165,36.4994 L114.165,42.4994 Z" fill="#BEBEBE" id="Fill-77"></path><path d="M36.165,90.4994 L18.165,120.4994 L36.165,132.4994\n            L54.165,108.4994 L36.165,126.4994 L24.165,120.4994 L36.165,90.4994 Z" fill="#323232" id="Fill-78"></path><path d="M108.165,90.4994 L126.165,120.4994 L108.165,132.4994\n            L90.165,108.4994 L108.165,126.4994 L120.165,120.4994\n            L108.165,90.4994 Z" fill="#323232" id="Fill-79"></path><path d="M72.165,126.4994 L84.165,120.4994 L72.165,132.4994\n            L60.165,120.4994 L72.165,126.4994 Z" fill="#323232" id="Fill-80"></path><path d="M69.165,156.4994 L60.165,168.4994 L66.165,174.4994\n            L66.165,168.4994 L72.165,162.4994 L78.165,168.4994 L78.165,174.4994\n            L84.165,168.4994 L75.165,156.4994 L69.165,156.4994 Z" fill="#323232" id="Fill-81"></path></g></g></g></svg></div> \n  <div class="is-hidden-mobile brandText has-text-primary svelte-1rqqx38">Darth Crawl</div>',C(n,"class","branding svelte-1rqqx38")},m(t,e){_(t,n,e)},p:t,i:t,o:t,d(t){t&&E(n)}}}class Zh extends Nt{constructor(t){super(),St(this,t,null,Jh,a,{})}}function Qh(e){let n,r;return{c(){n=I("div"),n.innerHTML='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19.6 10.23c0-.82-.1-1.42-.25-2.05H10v3.72h5.5c-.15.96-.74 2.31-2.04\n      3.22v2.45h3.16c1.89-1.73 2.98-4.3 2.98-7.34z" fill="#4285F4"></path><path d="M13.46 15.13c-.83.59-1.96 1-3.46 1-2.64\n      0-4.88-1.74-5.68-4.15H1.07v2.52C2.72 17.75 6.09 20 10 20c2.7 0 4.96-.89\n      6.62-2.42l-3.16-2.45z" fill="#34A853"></path><path d="M3.99 10c0-.69.12-1.35.32-1.97V5.51H1.07A9.973 9.973 0 0 0 0 10c0\n      1.61.39 3.14 1.07 4.49l3.24-2.52c-.2-.62-.32-1.28-.32-1.97z" fill="#FBBC05"></path><path d="M10 3.88c1.88 0 3.13.81 3.85 1.48l2.84-2.76C14.96.99 12.7 0 10 0 6.09 0\n      2.72 2.25 1.07 5.51l3.24 2.52C5.12 5.62 7.36 3.88 10 3.88z" fill="#EA4335"></path></svg>',C(n,"class","googleLoginButton svelte-pol2qq")},m(t,i,o){_(t,n,i),o&&r(),r=k(n,"click",e[0])},p:t,i:t,o:t,d(t){t&&E(n),r()}}}function tl(t){return[function(){$c.signInWithPopup(Bc).then((function(t){t.credential.accessToken,t.user;console.log(t)})).catch((function(t){t.code,t.message,t.email,t.credential}))}]}class el extends Nt{constructor(t){super(),St(this,t,tl,Qh,a,{})}}const nl=t=>!!(t&&t.length>=5&&t.includes("@")&&t.includes(".")),rl=t=>t&&t.length>=6;function il(t){let e;return{c(){e=I("p"),e.textContent="This email is invalid",C(e,"class","help is-danger")},m(t,n){_(t,e,n)},d(t){t&&E(e)}}}function ol(e){let n,r,i,s,a,u,c,h,l,f,p,d,v,y,m,g=e[0].email&&null!==e[0].emailValid&&!e[0].emailValid&&il();return{c(){n=I("div"),n.textContent="Create your account",r=N(),i=I("div"),s=I("div"),a=I("input"),u=N(),c=I("span"),c.innerHTML='<i class="fas fa-user"></i>',h=N(),l=I("div"),f=I("div"),p=I("input"),d=N(),v=I("span"),v.innerHTML='<i class="fas fa-envelope"></i>',y=N(),g&&g.c(),C(n,"class","modal-card-title has-text-white svelte-jjttld"),C(a,"class","input"),C(a,"type","text"),C(a,"placeholder","Name"),C(c,"class","icon is-small is-left"),C(s,"class","control has-icons-left"),C(i,"class","field svelte-jjttld"),C(p,"class","input"),C(p,"type","email"),C(p,"placeholder","Email"),C(v,"class","icon is-small is-left"),C(f,"class","control has-icons-left"),C(l,"class","field svelte-jjttld")},m(t,b,E){_(t,n,b),_(t,r,b),_(t,i,b),w(i,s),w(s,a),P(a,e[0].name),w(s,u),w(s,c),_(t,h,b),_(t,l,b),w(l,f),w(f,p),P(p,e[0].email),w(f,d),w(f,v),w(l,y),g&&g.m(l,null),E&&o(m),m=[k(a,"input",e[4]),k(a,"input",e[5]),k(p,"input",e[6]),k(p,"input",e[7])]},p(t,[e]){1&e&&a.value!==t[0].name&&P(a,t[0].name),1&e&&p.value!==t[0].email&&P(p,t[0].email),t[0].email&&null!==t[0].emailValid&&!t[0].emailValid?g||(g=il(),g.c(),g.m(l,null)):g&&(g.d(1),g=null)},i:t,o:t,d(t){t&&E(n),t&&E(r),t&&E(i),t&&E(h),t&&E(l),g&&g.d(),o(m)}}}function sl(t,e,n){let r,{formValues:i}=e,{continueDisabled:o}=e;function s(){n(3,o=!i.nameValid||!i.emailValid)}z(()=>{s()});return t.$set=t=>{"formValues"in t&&n(0,i=t.formValues),"continueDisabled"in t&&n(3,o=t.continueDisabled)},[i,r,s,o,function(){i.name=this.value,n(0,i)},()=>{n(0,i.nameValid=""!==i.name,i),s()},function(){i.email=this.value,n(0,i)},()=>{clearTimeout(r),n(1,r=setTimeout(()=>{n(0,i.emailValid=nl(i.email),i),s()},750))}]}class al extends Nt{constructor(t){super(),St(this,t,sl,ol,a,{formValues:0,continueDisabled:3})}}function ul(t){let e,n;return{c(){e=I("input"),C(e,"class","input"),C(e,"type","password"),C(e,"placeholder","Password"),C(e,"autocomplete","new-password")},m(r,i,s){_(r,e,i),P(e,t[0].password),s&&o(n),n=[k(e,"input",t[8]),k(e,"input",t[9])]},p(t,n){1&n&&e.value!==t[0].password&&P(e,t[0].password)},d(t){t&&E(e),o(n)}}}function cl(t){let e,n;return{c(){e=I("input"),C(e,"class","input"),C(e,"type","text"),C(e,"placeholder","Password"),C(e,"autocomplete","new-password")},m(r,i,s){_(r,e,i),P(e,t[0].password),s&&o(n),n=[k(e,"input",t[6]),k(e,"input",t[7])]},p(t,n){1&n&&e.value!==t[0].password&&P(e,t[0].password)},d(t){t&&E(e),o(n)}}}function hl(e){let n,r;return{c(){n=I("span"),n.innerHTML='<i class="fas fa-eye-slash"></i>',C(n,"class","icon is-small is-right svelte-10yjdef")},m(t,i,o){_(t,n,i),o&&r(),r=k(n,"click",e[4])},p:t,d(t){t&&E(n),r()}}}function ll(e){let n,r;return{c(){n=I("span"),n.innerHTML='<i class="fas fa-eye"></i>',C(n,"class","icon is-small is-right svelte-10yjdef")},m(t,i,o){_(t,n,i),o&&r(),r=k(n,"click",e[4])},p:t,d(t){t&&E(n),r()}}}function fl(t){let e;return{c(){e=I("p"),e.textContent="This password is invalid",C(e,"class","help is-danger")},m(t,n){_(t,e,n)},d(t){t&&E(e)}}}function pl(e){let n,r,i,o,s,a,u,c,h,l,f;function p(t,e){return t[2]?cl:ul}let d=p(e),v=d(e);function y(t,e){return t[2]?ll:hl}let m=y(e),g=m(e),b=e[0].password&&null!==e[0].passwordValid&&!e[0].passwordValid&&fl();return{c(){n=I("div"),r=I("div"),r.textContent="Choose your password",i=N(),o=I("div"),s=I("div"),v.c(),a=N(),u=I("span"),u.innerHTML='<i class="fas fa-key"></i>',c=N(),g.c(),h=N(),b&&b.c(),l=N(),f=I("span"),f.textContent="By registering you accept the terms and conditions privacy policy of\n    DarthCrawl.",C(r,"class","modal-card-title has-text-white svelte-10yjdef"),C(u,"class","icon is-small is-left svelte-10yjdef"),C(s,"class","control has-icons-left has-icons-right"),C(o,"class","field svelte-10yjdef")},m(t,e){_(t,n,e),w(n,r),w(n,i),w(n,o),w(o,s),v.m(s,null),w(s,a),w(s,u),w(s,c),g.m(s,null),w(o,h),b&&b.m(o,null),w(n,l),w(n,f)},p(t,[e]){d===(d=p(t))&&v?v.p(t,e):(v.d(1),v=d(t),v&&(v.c(),v.m(s,a))),m===(m=y(t))&&g?g.p(t,e):(g.d(1),g=m(t),g&&(g.c(),g.m(s,null))),t[0].password&&null!==t[0].passwordValid&&!t[0].passwordValid?b||(b=fl(),b.c(),b.m(o,null)):b&&(b.d(1),b=null)},i:t,o:t,d(t){t&&E(n),v.d(),g.d(),b&&b.d()}}}function dl(t,e,n){let r,{formValues:i}=e,{continueDisabled:o}=e,s=!1;function a(){n(5,o=!i.passwordValid)}z(()=>{a()});return t.$set=t=>{"formValues"in t&&n(0,i=t.formValues),"continueDisabled"in t&&n(5,o=t.continueDisabled)},[i,r,s,a,function(){n(2,s=!s)},o,function(){i.password=this.value,n(0,i)},()=>{clearTimeout(r),n(1,r=setTimeout(()=>{n(0,i.passwordValid=rl(i.password),i),a()},750))},function(){i.password=this.value,n(0,i)},()=>{clearTimeout(r),n(1,r=setTimeout(()=>{n(0,i.passwordValid=rl(i.password),i),a()},750))}]}class vl extends Nt{constructor(t){super(),St(this,t,dl,pl,a,{formValues:0,continueDisabled:5})}}function yl(e){let n;return{c(){n=I("div"),n.innerHTML='<div class="sk-chase-dot svelte-bcqz5e"></div> \n  <div class="sk-chase-dot svelte-bcqz5e"></div> \n  <div class="sk-chase-dot svelte-bcqz5e"></div> \n  <div class="sk-chase-dot svelte-bcqz5e"></div> \n  <div class="sk-chase-dot svelte-bcqz5e"></div> \n  <div class="sk-chase-dot svelte-bcqz5e"></div>',C(n,"class","sk-chase svelte-bcqz5e")},m(t,e){_(t,n,e)},p:t,i:t,o:t,d(t){t&&E(n)}}}class ml extends Nt{constructor(t){super(),St(this,t,null,yl,a,{})}}function gl(t){let e,n;const r=new ml({});return{c(){e=I("div"),Et(r.$$.fragment),C(e,"class","spinnerContainer svelte-1c3lyd6")},m(t,i){_(t,e,i),Tt(r,e,null),n=!0},i(t){n||(dt(r.$$.fragment,t),n=!0)},o(t){vt(r.$$.fragment,t),n=!1},d(t){t&&E(e),It(r)}}}function bl(t){let e,n,r,i,o,s,a,u,c,h,l=!t[0]&&gl();return{c(){e=I("div"),n=I("div"),r=N(),i=I("div"),o=I("header"),s=N(),a=I("section"),u=I("div"),c=S("Please verify your email by clickling the link in the verification mail\n        we just sent you. This view will automatically update once email is\n        verified.\n        "),l&&l.c(),C(n,"class","modal-background"),C(o,"class","modal-card-head svelte-1c3lyd6"),C(u,"class","has-text-white"),C(a,"class","modal-card-body"),C(i,"class","modal-card svelte-1c3lyd6"),C(e,"class","modal is-active"),R(e,"is-active",!t[0])},m(t,f){_(t,e,f),w(e,n),w(e,r),w(e,i),w(i,o),w(i,s),w(i,a),w(a,u),w(u,c),l&&l.m(u,null),h=!0},p(t,[n]){t[0]?l&&(ft(),vt(l,1,1,()=>{l=null}),pt()):l?1&n&&dt(l,1):(l=gl(),l.c(),dt(l,1),l.m(u,null)),1&n&&R(e,"is-active",!t[0])},i(t){h||(dt(l),h=!0)},o(t){vt(l),h=!1},d(t){t&&E(e),l&&l.d()}}}function wl(t,e,n){let r=!1;var i,o;const s=Mh(2e3).pipe(Dh(()=>{return Ch((t=$c.currentUser)?(console.log("Reload"),t.reload()):Promise.resolve("No User"));var t}),bh(()=>!!$c.currentUser&&$c.currentUser.emailVerified),(i=()=>!r,void 0===o&&(o=!1),function(t){return t.lift(new Uh(i,o))})).subscribe(t=>{n(0,r=t)});return G(()=>{s.unsubscribe()}),[r]}class _l extends Nt{constructor(t){super(),St(this,t,wl,bl,a,{})}}function El(e){let n,r;return{c(){n=I("div"),n.innerHTML='<i class="fas fa-arrow-left has-text-white"></i>',C(n,"class","button is-rounded backButton svelte-1fbrfdo"),C(n,"aria-label","continue")},m(t,i,o){_(t,n,i),o&&r(),r=k(n,"click",e[10])},p:t,d(t){t&&E(n),r()}}}function Tl(t){let e,n,r,i,a,u,c,h,l,f,p,d,v,y,m,g,b,T,A,O,D,P=t[5][t[3]].nextButtonName+"",L=t[3]>0&&El(t);function M(e){t[11].call(null,e)}var j=t[5][t[3]].component;function U(t){let e={formValues:t[4]};return void 0!==t[2]&&(e.continueDisabled=t[2]),{props:e}}if(j){var V=new j(U(t));X.push(()=>_t(V,"continueDisabled",M))}const F=new el({});return{c(){e=I("div"),n=I("button"),n.innerHTML="<strong>Register</strong>",r=N(),i=I("div"),a=I("div"),u=N(),c=I("div"),h=I("header"),l=I("button"),f=S(P),p=N(),L&&L.c(),d=N(),v=I("section"),V&&Et(V.$$.fragment),m=N(),g=I("footer"),b=I("div"),T=I("span"),T.textContent="Or register via",A=N(),Et(F.$$.fragment),C(n,"class","button is-primary is-rounded"),C(a,"class","modal-background"),C(l,"class","button is-rounded"),C(l,"aria-label","continue"),l.disabled=t[2],R(l,"is-loading",t[1]),C(h,"class","modal-card-head svelte-1fbrfdo"),C(v,"class","modal-card-body svelte-1fbrfdo"),C(b,"class","footerContainer svelte-1fbrfdo"),C(g,"class","modal-card-foot"),C(c,"class","modal-card svelte-1fbrfdo"),C(i,"class","modal is-active"),R(i,"is-active",t[0])},m(y,E,I){_(y,e,E),w(e,n),w(e,r),w(e,i),w(i,a),w(i,u),w(i,c),w(c,h),w(h,l),w(l,f),w(h,p),L&&L.m(h,null),w(c,d),w(c,v),V&&Tt(V,v,null),w(c,m),w(c,g),w(g,b),w(b,T),w(b,A),Tt(F,b,null),O=!0,I&&o(D),D=[k(n,"click",t[8]),k(a,"click",t[9]),k(l,"click",(function(){s(t[5][t[3]].clickFunction)&&t[5][t[3]].clickFunction.apply(this,arguments)}))]},p(e,[n]){t=e,(!O||8&n)&&P!==(P=t[5][t[3]].nextButtonName+"")&&x(f,P),(!O||4&n)&&(l.disabled=t[2]),2&n&&R(l,"is-loading",t[1]),t[3]>0?L?L.p(t,n):(L=El(t),L.c(),L.m(h,null)):L&&(L.d(1),L=null);const r={};if(!y&&4&n&&(y=!0,r.continueDisabled=t[2],nt(()=>y=!1)),j!==(j=t[5][t[3]].component)){if(V){ft();const t=V;vt(t.$$.fragment,1,0,()=>{It(t,1)}),pt()}j?(V=new j(U(t)),X.push(()=>_t(V,"continueDisabled",M)),Et(V.$$.fragment),dt(V.$$.fragment,1),Tt(V,v,null)):V=null}else j&&V.$set(r);1&n&&R(i,"is-active",t[0])},i(t){O||(V&&dt(V.$$.fragment,t),dt(F.$$.fragment,t),O=!0)},o(t){V&&vt(V.$$.fragment,t),vt(F.$$.fragment,t),O=!1},d(t){t&&E(e),L&&L.d(),V&&It(V),It(F),o(D)}}}function Il(t,e,n){let r=!1,i=!1,o=!0;const s={name:"",nameValid:null,email:"",emailValid:null,password:"",passwordValid:null};let a=[{name:"email",component:al,nextButtonName:"Continue",clickFunction:()=>{n(3,u++,u)}},{name:"password",component:vl,nextButtonName:"Register",clickFunction:()=>{c()}}],u=0;function c(){console.log("Signup called"),n(1,i=!0),$c.createUserWithEmailAndPassword(s.email,s.password).then(()=>{$c.currentUser.updateProfile({displayName:s.name}).then(()=>{console.log("Created user with name"),n(1,i=!1)}).catch(()=>{n(1,i=!1),console.log("Could not create user")})})}return[r,i,o,u,s,a,void 0,c,()=>{n(0,r=!0)},()=>{n(0,r=!1)},()=>{n(3,u--,u)},function(t){o=t,n(2,o)}]}class Al extends Nt{constructor(t){super(),St(this,t,Il,Tl,a,{})}}function Sl(t){let e;return{c(){e=I("p"),e.textContent="This email is invalid",C(e,"class","help is-danger")},m(t,n){_(t,e,n)},d(t){t&&E(e)}}}function Nl(t){let e;return{c(){e=I("p"),e.textContent="This password is invalid",C(e,"class","help is-danger")},m(t,n){_(t,e,n)},d(t){t&&E(e)}}}function Ol(t){let e,n;return{c(){e=I("p"),n=S(t[3]),C(e,"class","help is-danger")},m(t,r){_(t,e,r),w(e,n)},p(t,e){8&e&&x(n,t[3])},d(t){t&&E(e)}}}function kl(t){let e,n,r,i,s,a,u,c,h,l,f,p,d,v,y,m,g,b,T,A,O,D,x,L,M,j,U,V,F,$,B,q,z,G,H,W,K,Y,X,J,Z,Q,tt,et=t[2]&&t[0]&&void 0!==t[7]&&!t[7]&&Sl(),nt=t[2]&&t[1]&&void 0!==t[6]&&!t[6]&&Nl(),rt=t[3]&&Ol(t);const it=new el({});return{c(){e=I("div"),n=I("button"),n.textContent="Sign in",r=N(),i=I("div"),s=I("div"),a=N(),u=I("div"),c=I("header"),h=I("span"),h.textContent="Log in",l=N(),f=I("button"),p=N(),d=I("form"),v=I("section"),y=I("div"),m=I("label"),m.textContent="Email",g=N(),b=I("div"),T=I("input"),A=N(),O=I("span"),O.innerHTML='<i class="fas fa-envelope"></i>',D=N(),et&&et.c(),x=N(),L=I("div"),M=I("label"),M.textContent="Password",j=N(),U=I("div"),V=I("input"),F=N(),$=I("span"),$.innerHTML='<i class="fas fa-key"></i>',B=N(),nt&&nt.c(),q=N(),rt&&rt.c(),z=N(),G=I("footer"),H=I("div"),W=I("button"),K=S("Sign in"),X=N(),J=I("span"),J.textContent="or sign in with",Z=N(),Et(it.$$.fragment),C(n,"class","button is-light is-rounded"),C(s,"class","modal-background"),C(h,"class","modal-card-title has-text-white"),C(f,"class","delete"),C(f,"aria-label","close"),C(c,"class","modal-card-head"),C(m,"class","label has-text-white"),C(T,"class","input"),C(T,"type","email"),C(T,"placeholder","Email input"),C(T,"autocomplete","username"),C(O,"class","icon is-small is-left"),C(b,"class","control has-icons-left has-icons-right"),C(y,"class","field"),C(M,"class","label has-text-white"),C(V,"class","input"),C(V,"type","password"),C(V,"placeholder","Password"),C(V,"autocomplete","current-password"),C($,"class","icon is-small is-left"),C(U,"class","control has-icons-left has-icons-right"),C(L,"class","field"),C(v,"class","modal-card-body"),C(W,"class","button is-primary is-rounded signinButton svelte-h6wa5p"),C(W,"type","submit"),W.disabled=Y=!t[0]||!t[1],R(W,"is-loading",t[5]),C(H,"class","footerContainer svelte-h6wa5p"),C(G,"class","modal-card-foot"),C(d,"id","login"),C(u,"class","modal-card svelte-h6wa5p"),C(i,"class","modal is-active"),R(i,"is-active",t[4])},m(E,I,S){_(E,e,I),w(e,n),w(e,r),w(e,i),w(i,s),w(i,a),w(i,u),w(u,c),w(c,h),w(c,l),w(c,f),w(u,p),w(u,d),w(d,v),w(v,y),w(y,m),w(y,g),w(y,b),w(b,T),P(T,t[0]),w(b,A),w(b,O),w(y,D),et&&et.m(y,null),w(v,x),w(v,L),w(L,M),w(L,j),w(L,U),w(U,V),P(V,t[1]),w(U,F),w(U,$),w(L,B),nt&&nt.m(L,null),w(v,q),rt&&rt.m(v,null),w(d,z),w(d,G),w(G,H),w(H,W),w(W,K),w(H,X),w(H,J),w(H,Z),Tt(it,H,null),Q=!0,S&&o(tt),tt=[k(n,"click",t[10]),k(f,"click",t[11]),k(T,"input",t[12]),k(T,"input",t[8]),k(V,"input",t[13]),k(V,"input",t[8]),k(d,"submit",t[14])]},p(t,[e]){1&e&&T.value!==t[0]&&P(T,t[0]),t[2]&&t[0]&&void 0!==t[7]&&!t[7]?et||(et=Sl(),et.c(),et.m(y,null)):et&&(et.d(1),et=null),2&e&&V.value!==t[1]&&P(V,t[1]),t[2]&&t[1]&&void 0!==t[6]&&!t[6]?nt||(nt=Nl(),nt.c(),nt.m(L,null)):nt&&(nt.d(1),nt=null),t[3]?rt?rt.p(t,e):(rt=Ol(t),rt.c(),rt.m(v,null)):rt&&(rt.d(1),rt=null),(!Q||3&e&&Y!==(Y=!t[0]||!t[1]))&&(W.disabled=Y),32&e&&R(W,"is-loading",t[5]),16&e&&R(i,"is-active",t[4])},i(t){Q||(dt(it.$$.fragment,t),Q=!0)},o(t){vt(it.$$.fragment,t),Q=!1},d(t){t&&E(e),et&&et.d(),nt&&nt.d(),rt&&rt.d(),It(it),o(tt)}}}function Cl(t,e,n){let r,i,o,s,a=!1,u=!1;function c(){n(3,o=null),console.log("login called"),n(5,u=!0),$c.signInWithEmailAndPassword(r,i).then(()=>{n(5,u=!1),n(4,s=!1)}).catch(t=>{n(5,u=!1),n(3,o=t.message)})}let h,l;return t.$$.update=()=>{2&t.$$.dirty&&n(6,h=rl(i)),1&t.$$.dirty&&n(7,l=nl(r))},[r,i,a,o,s,u,h,l,function(){n(3,o=null)},c,()=>{n(4,s=!0)},()=>n(4,s=!1),function(){r=this.value,n(0,r)},function(){i=this.value,n(1,i)},t=>{t.preventDefault(),n(2,a=!0),l&&h&&c()}]}class Dl extends Nt{constructor(t){super(),St(this,t,Cl,kl,a,{})}}function xl(e){let n,r;return{c(){n=I("span"),n.innerHTML='<i class="fas fa-camera fas fa-lg "></i>',C(n,"class","icon is-medium has-text-black-ter has-background-white-ter svelte-1oeapeq")},m(t,i,o){_(t,n,i),o&&r(),r=k(n,"click",e[5])},p:t,d(t){t&&E(n),r()}}}function Pl(e){let n,r,i,o,s,a,u,c,h=e[2]&&xl(e);return{c(){n=I("div"),r=I("div"),i=I("div"),o=I("img"),u=N(),h&&h.c(),C(o,"class","profileImage svelte-1oeapeq"),C(o,"type","image/png"),C(o,"alt","Profile"),o.src!==(s=e[0]?e[0]:"/media/profile_pics/user.png")&&C(o,"src",s),C(i,"class","imageContainer svelte-1oeapeq"),C(r,"class",a="imageBackground has-background-black-ter background"+e[1].toUpperCase()+" svelte-1oeapeq"),C(n,"class","profilePictureContainer svelte-1oeapeq"),R(n,"changeProfilePicture",e[2]),R(n,"profilePictures",!e[2])},m(t,s,a){_(t,n,s),w(n,r),w(r,i),w(i,o),w(n,u),h&&h.m(n,null),a&&c(),c=k(r,"click",e[4])},p(t,[e]){1&e&&o.src!==(s=t[0]?t[0]:"/media/profile_pics/user.png")&&C(o,"src",s),2&e&&a!==(a="imageBackground has-background-black-ter background"+t[1].toUpperCase()+" svelte-1oeapeq")&&C(r,"class",a),t[2]?h?h.p(t,e):(h=xl(t),h.c(),h.m(n,null)):h&&(h.d(1),h=null),4&e&&R(n,"changeProfilePicture",t[2]),4&e&&R(n,"profilePictures",!t[2])},i:t,o:t,d(t){t&&E(n),h&&h.d(),c()}}}function Ll(t,e,n){const r=H();let{imgSrc:i}=e,{size:o="M"}=e,{hasCameraIcon:s=!1}=e;return t.$set=t=>{"imgSrc"in t&&n(0,i=t.imgSrc),"size"in t&&n(1,o=t.size),"hasCameraIcon"in t&&n(2,s=t.hasCameraIcon)},[i,o,s,r,()=>{r("click")},()=>{r("click")}]}class Rl extends Nt{constructor(t){super(),St(this,t,Ll,Pl,a,{imgSrc:0,size:1,hasCameraIcon:2})}}function Ml(t,{delay:n=0,duration:r=400,easing:i=e}){const o=+getComputedStyle(t).opacity;return{delay:n,duration:r,easing:i,css:t=>`opacity: ${t*o}`}}function jl(n){let r,i,a,u,c,h,l;return{c(){r=A("svg"),i=A("circle"),C(i,"class","progress-ring__circle svelte-1q5idep"),C(i,"stroke","white"),C(i,"stroke-width",n[1]),C(i,"stroke-dasharray",a=n[3]+" "+n[3]),C(i,"fill","transparent"),L(i,"stroke-dashoffset",n[4]),C(i,"r",n[2]),C(i,"cx",n[0]),C(i,"cy",n[0]),C(r,"class","progressCircle svelte-1q5idep"),C(r,"width",u=2*n[0]),C(r,"height",c=2*n[0])},m(t,e){_(t,r,e),w(r,i),l=!0},p(t,[e]){(!l||2&e)&&C(i,"stroke-width",t[1]),(!l||8&e&&a!==(a=t[3]+" "+t[3]))&&C(i,"stroke-dasharray",a),(!l||16&e)&&L(i,"stroke-dashoffset",t[4]),(!l||4&e)&&C(i,"r",t[2]),(!l||1&e)&&C(i,"cx",t[0]),(!l||1&e)&&C(i,"cy",t[0]),(!l||1&e&&u!==(u=2*t[0]))&&C(r,"width",u),(!l||1&e&&c!==(c=2*t[0]))&&C(r,"height",c)},i(t){l||(h&&h.end(1),l=!0)},o(n){h=function(n,r,i){let a,u=r(n,i),c=!0;const h=lt;function l(){const{delay:r=0,duration:i=300,easing:s=e,tick:l=t,css:f}=u||yt;f&&(a=F(n,1,0,i,r,s,f));const p=v()+r,d=p+i;et(()=>ct(n,!1,"start")),b(t=>{if(c){if(t>=d)return l(0,1),ct(n,!1,"end"),--h.r||o(h.c),!1;if(t>=p){const e=s((t-p)/i);l(1-e,e)}}return c})}return h.r+=1,s(u)?ut().then(()=>{u=u(),l()}):l(),{end(t){t&&u.tick&&u.tick(1,0),c&&(a&&$(n,a),c=!1)}}}(r,Ml,{}),l=!1},d(t){t&&E(r),t&&h&&h.end()}}}function Ul(t,e,n){let r,i,o,{radius:s}=e,{stroke:a}=e,{progress:u}=e;return t.$set=t=>{"radius"in t&&n(0,s=t.radius),"stroke"in t&&n(1,a=t.stroke),"progress"in t&&n(5,u=t.progress)},t.$$.update=()=>{3&t.$$.dirty&&n(2,r=s-2*a),4&t.$$.dirty&&n(3,i=2*r*Math.PI),40&t.$$.dirty&&n(4,o=i-u/100*i)},[s,a,r,i,o,u]}class Vl extends Nt{constructor(t){super(),St(this,t,Ul,jl,a,{radius:0,stroke:1,progress:5})}}function Fl(t,e,n){const r=t.slice();return r[18]=e[n],r}function $l(t){let e,n,r,i,s,a,u,c=t[4],h=[];for(let e=0;e<c.length;e+=1)h[e]=zl(Fl(t,c,e));const l=t=>vt(h[t],1,1,()=>{h[t]=null});return{c(){e=I("div");for(let t=0;t<h.length;t+=1)h[t].c();n=N(),r=I("input"),i=N(),s=I("label"),s.innerHTML='<i class="fas fa-upload fa-lg"></i>',C(r,"type","file"),C(r,"name","file"),C(r,"id","file"),C(r,"class","inputfile has-background-black-ter svelte-1ne76wu"),C(s,"for","file"),C(s,"class","fileInputLabel has-background-black-ter svelte-1ne76wu"),C(e,"class","imgsContainer svelte-1ne76wu")},m(c,l,f){_(c,e,l);for(let t=0;t<h.length;t+=1)h[t].m(e,null);w(e,n),w(e,r),w(e,i),w(e,s),a=!0,f&&o(u),u=[k(r,"change",t[9]),k(r,"change",t[16])]},p(t,r){if(24&r){let i;for(c=t[4],i=0;i<c.length;i+=1){const o=Fl(t,c,i);h[i]?(h[i].p(o,r),dt(h[i],1)):(h[i]=zl(o),h[i].c(),dt(h[i],1),h[i].m(e,n))}for(ft(),i=c.length;i<h.length;i+=1)l(i);pt()}},i(t){if(!a){for(let t=0;t<c.length;t+=1)dt(h[t]);a=!0}},o(t){h=h.filter(Boolean);for(let t=0;t<h.length;t+=1)vt(h[t]);a=!1},d(t){t&&E(e),T(h,t),o(u)}}}function Bl(e){let n,r;const i=new ml({});return{c(){n=I("div"),Et(i.$$.fragment),C(n,"class","spinnerContainer svelte-1ne76wu")},m(t,e){_(t,n,e),Tt(i,n,null),r=!0},p:t,i(t){r||(dt(i.$$.fragment,t),r=!0)},o(t){vt(i.$$.fragment,t),r=!1},d(t){t&&E(n),It(i)}}}function ql(t){let e;const n=new Vl({props:{radius:"50",stroke:"4",progress:t[18].uploadProgress}});return{c(){Et(n.$$.fragment)},m(t,r){Tt(n,t,r),e=!0},p(t,e){const r={};16&e&&(r.progress=t[18].uploadProgress),n.$set(r)},i(t){e||(dt(n.$$.fragment,t),e=!0)},o(t){vt(n.$$.fragment,t),e=!1},d(t){It(n,t)}}}function zl(t){let e,n,r;const i=new Rl({props:{imgSrc:t[18].imgUrl,size:"L"}});i.$on("click",(function(...e){return t[15](t[18],...e)}));let o=void 0!==t[18].uploadProgress&&t[18].uploadProgress<=100&&ql(t);return{c(){e=I("div"),Et(i.$$.fragment),n=N(),o&&o.c(),C(e,"class","profilePictureContainer svelte-1ne76wu"),R(e,"selected",t[3]===t[18].imgUrl)},m(t,s){_(t,e,s),Tt(i,e,null),w(e,n),o&&o.m(e,null),r=!0},p(n,r){t=n;const s={};16&r&&(s.imgSrc=t[18].imgUrl),i.$set(s),void 0!==t[18].uploadProgress&&t[18].uploadProgress<=100?o?(o.p(t,r),16&r&&dt(o,1)):(o=ql(t),o.c(),dt(o,1),o.m(e,null)):o&&(ft(),vt(o,1,1,()=>{o=null}),pt()),24&r&&R(e,"selected",t[3]===t[18].imgUrl)},i(t){r||(dt(i.$$.fragment,t),dt(o),r=!0)},o(t){vt(i.$$.fragment,t),vt(o),r=!1},d(t){t&&E(e),It(i),o&&o.d()}}}function Gl(t){let e,n;return{c(){e=I("button"),e.innerHTML='<span class="icon is-small"><i class="fas fa-trash"></i></span>',C(e,"class","button is-rounded has-text-danger"),R(e,"is-loading",t[5])},m(r,i,o){_(r,e,i),o&&n(),n=k(e,"click",t[8])},p(t,n){32&n&&R(e,"is-loading",t[5])},d(t){t&&E(e),n()}}}function Hl(t){let e,n,r,i,s,a,u,c,h,l,f,p,d,v,y,m,g,b,T,A,O,D,x,P=t[3]&&t[4].find(t[13]);const L=[Bl,$l],M=[];function j(t,e){return t[2]?0:1}f=j(t),p=M[f]=L[f](t);let U=P&&Gl(t);return{c(){e=I("div"),n=I("div"),r=N(),i=I("div"),s=I("header"),a=I("span"),a.textContent="Select profile picture",u=N(),c=I("button"),h=N(),l=I("section"),p.c(),d=N(),v=I("footer"),y=I("div"),m=I("button"),g=S("Change profile picture"),T=N(),A=I("button"),A.textContent="Cancel",O=N(),U&&U.c(),C(n,"class","modal-background"),C(a,"class","modal-card-title has-text-white"),C(c,"class","delete"),C(c,"aria-label","close"),C(s,"class","modal-card-head"),C(l,"class","modal-card-body"),C(m,"class","button is-primary is-rounded"),C(m,"type","submit"),m.disabled=b=!t[3],R(m,"is-loading",Wl),C(A,"class","button is-rounded"),C(y,"class","footerContainer svelte-1ne76wu"),C(v,"class","modal-card-foot"),C(i,"class","modal-card svelte-1ne76wu"),C(e,"class","modal is-active svelte-1ne76wu"),R(e,"is-active",t[0])},m(p,b,E){_(p,e,b),w(e,n),w(e,r),w(e,i),w(i,s),w(s,a),w(s,u),w(s,c),w(i,h),w(i,l),M[f].m(l,null),w(i,d),w(i,v),w(v,y),w(y,m),w(m,g),w(y,T),w(y,A),w(y,O),U&&U.m(y,null),D=!0,E&&o(x),x=[k(c,"click",t[14]),k(m,"click",t[7]),k(A,"click",t[17])]},p(t,[n]){let r=f;f=j(t),f===r?M[f].p(t,n):(ft(),vt(M[r],1,1,()=>{M[r]=null}),pt(),p=M[f],p||(p=M[f]=L[f](t),p.c()),dt(p,1),p.m(l,null)),(!D||8&n&&b!==(b=!t[3]))&&(m.disabled=b),0&n&&R(m,"is-loading",Wl),88&n&&(P=t[3]&&t[4].find(t[13])),P?U?U.p(t,n):(U=Gl(t),U.c(),U.m(y,null)):U&&(U.d(1),U=null),1&n&&R(e,"is-active",t[0])},i(t){D||(dt(p),D=!0)},o(t){vt(p),D=!1},d(t){t&&E(e),M[f].d(),U&&U.d(),o(x)}}}let Wl=!1;function Kl(t,e,n){let r,i,o,s,{showChangeProfilePicture:a=!0}=e,{user:u}=e,c=!1,h=[];z(async()=>{n(2,c=!0);const t=await Gc.child("profile_pics_public").listAll(),e=await Gc.child(l).listAll(),r=[...t.items,...e.items].map(async t=>({path:t.location.path,imgUrl:await t.getDownloadURL()}));n(4,h=await Promise.all(r)),n(2,c=!1)});let l;return t.$set=t=>{"showChangeProfilePicture"in t&&n(0,a=t.showChangeProfilePicture),"user"in t&&n(10,u=t.user)},t.$$.update=()=>{1024&t.$$.dirty&&n(6,l=`users/${u.uid}`)},[a,r,c,o,h,s,l,async function(){const t=h.find(t=>t.imgUrl===o);await(async(t,e)=>(console.log(e),await qc.collection("users").doc(e).set({profilePicture:t},{merge:!0})))(t.path,u.uid),n(0,a=!1)},async function(){n(5,s=!0),await Gc.child(h.find(t=>t.imgUrl===o).path).delete(),n(4,h=h.filter(t=>t.imgUrl!==o)),n(3,o=""),n(5,s=!1)},function(t){console.log(t.target.files);const e=t.target.files[0];if(!e)return console.log("No file seleceted");const r=`${l}/${e.name}`;var o=new FileReader;let s={};o.onload=t=>{console.log("ON LOAD"),s={path:r,imgUrl:t.target.result,uploadProgress:0},n(4,h=[...h,s])},o.readAsDataURL(t.target.files[0]),console.log(h),Gc.child(`users/${u.uid}/${e.name}`).put(e).on("state_changed",t=>{var e=t.bytesTransferred/t.totalBytes*100;console.log("Upload is "+e+"% done"),n(4,h=h.map(t=>(t.imgUrl===s.imgUrl&&(t.uploadProgress=e),t)))},t=>{i=t},()=>{n(4,h=h.map(t=>(t.imgUrl===s.imgUrl&&(t.uploadProgress=101),t)))})},u,i,void 0,t=>t.imgUrl===o&&t.path.includes(l),()=>n(0,a=!1),t=>{n(3,o=t.imgUrl)},function(){r=this.files,n(1,r)},()=>n(0,a=!1)]}class Yl extends Nt{constructor(t){super(),St(this,t,Kl,Hl,a,{showChangeProfilePicture:0,user:10})}}function Xl(t){let e,n;function r(e){t[8].call(null,e)}let i={user:t[0]};void 0!==t[3]&&(i.showChangeProfilePicture=t[3]);const o=new Yl({props:i});return X.push(()=>_t(o,"showChangeProfilePicture",r)),{c(){Et(o.$$.fragment)},m(t,e){Tt(o,t,e),n=!0},p(t,n){const r={};1&n&&(r.user=t[0]),!e&&8&n&&(e=!0,r.showChangeProfilePicture=t[3],nt(()=>e=!1)),o.$set(r)},i(t){n||(dt(o.$$.fragment,t),n=!0)},o(t){vt(o.$$.fragment,t),n=!1},d(t){It(o,t)}}}function Jl(t){let e,n,r=t[0].displayName+"";return{c(){e=I("span"),n=S(r),C(e,"class","has-text-weight-semibold")},m(t,r){_(t,e,r),w(e,n)},p(t,e){1&e&&r!==(r=t[0].displayName+"")&&x(n,r)},d(t){t&&E(e)}}}function Zl(e){let n,r,i;return{c(){n=I("div"),r=I("div"),r.innerHTML='<span class="icon is-medium svelte-1x5hqak"><i class="fas fa-cog fas fa-lg "></i></span> \n            <span>Manage Profile</span>',C(r,"class","settings svelte-1x5hqak"),C(n,"class","settingsContainer svelte-1x5hqak")},m(t,o,s){_(t,n,o),w(n,r),s&&i(),i=k(r,"click",e[12])},p:t,d(t){t&&E(n),i()}}}function Ql(t){let e,n,r,i,s,a,u,c,h,l,f,p,d,v,y,m,g,b,T=t[0].email+"",A=t[3]&&Xl(t);const O=new Rl({props:{imgSrc:t[4]}});O.$on("click",t[9]);const D=new Rl({props:{imgSrc:t[4],size:"L",hasCameraIcon:"true"}});D.$on("click",t[11]);let P=t[0].displayName&&Jl(t);const L=new ie({props:{className:"has-text-white",to:"user/profile",$$slots:{default:[Zl]},$$scope:{ctx:t}}});return{c(){A&&A.c(),e=N(),Et(O.$$.fragment),n=N(),r=I("div"),i=I("div"),s=N(),a=I("div"),u=I("header"),Et(D.$$.fragment),c=N(),P&&P.c(),h=N(),l=I("span"),f=S(T),p=N(),d=I("section"),Et(L.$$.fragment),v=N(),y=I("footer"),m=I("button"),m.textContent="Log out",C(i,"class","modal-background svelte-1x5hqak"),C(l,"class","has-text-weight-medium"),C(u,"class","modal-card-head svelte-1x5hqak"),C(d,"class","modal-card-body"),C(m,"class","button is-dark is-rounded"),R(m,"is-loading",t[2]),C(y,"class","modal-card-foot svelte-1x5hqak"),C(a,"class","modal-card svelte-1x5hqak"),C(r,"class","modal svelte-1x5hqak"),R(r,"is-active",t[1])},m(E,T,I){A&&A.m(E,T),_(E,e,T),Tt(O,E,T),_(E,n,T),_(E,r,T),w(r,i),w(r,s),w(r,a),w(a,u),Tt(D,u,null),w(u,c),P&&P.m(u,null),w(u,h),w(u,l),w(l,f),w(a,p),w(a,d),Tt(L,d,null),w(a,v),w(a,y),w(y,m),g=!0,I&&o(b),b=[k(i,"click",t[10]),k(m,"click",t[5])]},p(t,[n]){t[3]?A?(A.p(t,n),8&n&&dt(A,1)):(A=Xl(t),A.c(),dt(A,1),A.m(e.parentNode,e)):A&&(ft(),vt(A,1,1,()=>{A=null}),pt());const i={};16&n&&(i.imgSrc=t[4]),O.$set(i);const o={};16&n&&(o.imgSrc=t[4]),D.$set(o),t[0].displayName?P?P.p(t,n):(P=Jl(t),P.c(),P.m(u,h)):P&&(P.d(1),P=null),(!g||1&n)&&T!==(T=t[0].email+"")&&x(f,T);const s={};8194&n&&(s.$$scope={dirty:n,ctx:t}),L.$set(s),4&n&&R(m,"is-loading",t[2]),2&n&&R(r,"is-active",t[1])},i(t){g||(dt(A),dt(O.$$.fragment,t),dt(D.$$.fragment,t),dt(L.$$.fragment,t),g=!0)},o(t){vt(A),vt(O.$$.fragment,t),vt(D.$$.fragment,t),vt(L.$$.fragment,t),g=!1},d(t){A&&A.d(t),t&&E(e),It(O,t),t&&E(n),t&&E(r),It(D),P&&P.d(),It(L),o(b)}}}function tf(t,e,n){let r,{user:i}=e,o=!1,s=!1,a=!1;const u=oe.subscribe(t=>{n(4,r=t.imgSrc)});return t.$set=t=>{"user"in t&&n(0,i=t.user)},[i,o,s,a,r,function(){n(2,s=!0),$c.signOut().then(()=>{n(2,s=!1),n(1,o=!1),Rt("/",{replace:!0})})},void 0,u,function(t){a=t,n(3,a)},()=>{n(1,o=!o)},()=>{n(1,o=!1)},()=>{n(3,a=!0)},()=>{n(1,o=!1)}]}class ef extends Nt{constructor(t){super(),St(this,t,tf,Ql,a,{user:0})}}function nf(e){let n,r,i;const o=new Dl({}),s=new Al({});return{c(){n=I("div"),Et(o.$$.fragment),r=N(),Et(s.$$.fragment),C(n,"class","buttons")},m(t,e){_(t,n,e),Tt(o,n,null),w(n,r),Tt(s,n,null),i=!0},p:t,i(t){i||(dt(o.$$.fragment,t),dt(s.$$.fragment,t),i=!0)},o(t){vt(o.$$.fragment,t),vt(s.$$.fragment,t),i=!1},d(t){t&&E(n),It(o),It(s)}}}function rf(t){let e;const n=new ef({props:{user:t[0]}});return{c(){Et(n.$$.fragment)},m(t,r){Tt(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.user=t[0]),n.$set(r)},i(t){e||(dt(n.$$.fragment,t),e=!0)},o(t){vt(n.$$.fragment,t),e=!1},d(t){It(n,t)}}}function of(t){let e,n,r,i;const o=[rf,nf],s=[];function a(t,e){return t[0]&&t[1]?0:1}return n=a(t),r=s[n]=o[n](t),{c(){e=I("div"),r.c()},m(t,r){_(t,e,r),s[n].m(e,null),i=!0},p(t,[i]){let u=n;n=a(t),n===u?s[n].p(t,i):(ft(),vt(s[u],1,1,()=>{s[u]=null}),pt(),r=s[n],r||(r=s[n]=o[n](t),r.c()),dt(r,1),r.m(e,null))},i(t){i||(dt(r),i=!0)},o(t){vt(r),i=!1},d(t){t&&E(e),s[n].d()}}}function sf(t,e,n){let r,i;const o=Fh($c).subscribe(t=>{console.log(t),n(0,r=t)}),s=oe.subscribe(t=>{console.log(t),n(1,i=t)});return G(()=>{o.unsubscribe(),s.unsubscribe()}),[r,i]}class af extends Nt{constructor(t){super(),St(this,t,sf,of,a,{})}}function uf(t){let e;const n=new Zh({});return{c(){Et(n.$$.fragment)},m(t,r){Tt(n,t,r),e=!0},i(t){e||(dt(n.$$.fragment,t),e=!0)},o(t){vt(n.$$.fragment,t),e=!1},d(t){It(n,t)}}}function cf(t){let e;return{c(){e=S("My Crawls")},m(t,n){_(t,e,n)},d(t){t&&E(e)}}}function hf(t){let e;return{c(){e=S("Crawl")},m(t,n){_(t,e,n)},d(t){t&&E(e)}}}function lf(t){let e;return{c(){e=S("Documentation")},m(t,n){_(t,e,n)},d(t){t&&E(e)}}}function ff(t){let e;return{c(){e=I("div"),e.innerHTML='<a class="navbar-item">About</a> \n            <a class="navbar-item">Jobs</a> \n            <a class="navbar-item">Contact</a> \n            <hr class="navbar-divider"> \n            <a class="navbar-item">Report an issue</a>',C(e,"class","navbar-dropdown")},m(t,n){_(t,e,n)},d(t){t&&E(e)}}}function pf(t){let e,n,r,i,s,a,u,c,h,l,f,p,d,v,y,m,g,b,T,A;const S=new ie({props:{to:"/",$$slots:{default:[uf]},$$scope:{ctx:t}}});S.$on("click",t[4]);const O=new af({}),D=new ie({props:{className:"navbar-item",to:"/mycrawls",$$slots:{default:[cf]},$$scope:{ctx:t}}});D.$on("click",t[4]);const x=new ie({props:{className:"navbar-item",to:"/crawl",$$slots:{default:[hf]},$$scope:{ctx:t}}});x.$on("click",t[4]);const P=new ie({props:{className:"navbar-item",to:"/documentation",$$slots:{default:[lf]},$$scope:{ctx:t}}});P.$on("click",t[4]);let L=(!t[0]||t[1])&&ff();const M=new af({});return{c(){e=I("nav"),n=I("div"),r=I("div"),Et(S.$$.fragment),i=N(),s=I("div"),Et(O.$$.fragment),a=N(),u=I("a"),u.innerHTML='<span aria-hidden="true"></span> \n        <span aria-hidden="true"></span> \n        <span aria-hidden="true"></span>',c=N(),h=I("div"),l=I("div"),Et(D.$$.fragment),f=N(),Et(x.$$.fragment),p=N(),Et(P.$$.fragment),d=N(),v=I("div"),y=I("a"),y.innerHTML="<div>More</div>",m=N(),L&&L.c(),g=N(),b=I("div"),Et(M.$$.fragment),C(r,"class","navbar-item"),C(u,"class","navbar-burger burger"),C(u,"aria-label","menu"),C(u,"aria-expanded","false"),C(u,"data-target","navbarBasicExample"),R(u,"is-active",t[0]),C(s,"class","navend is-hidden-desktop svelte-g808lo"),C(n,"class","navbar-brand"),C(y,"class","navbar-link"),C(v,"class","navbar-item has-dropdown is-hoverable"),C(l,"class","navbar-start"),C(h,"id","navbarBasicExample"),C(h,"class","navbar-menu"),R(h,"is-active",t[0]),C(b,"class","navend is-hidden-touch svelte-g808lo"),C(e,"class","navbar is-dark"),C(e,"role","navigation"),C(e,"aria-label","main navigation")},m(E,I,N){_(E,e,I),w(e,n),w(n,r),Tt(S,r,null),w(n,i),w(n,s),Tt(O,s,null),w(s,a),w(s,u),w(e,c),w(e,h),w(h,l),Tt(D,l,null),w(l,f),Tt(x,l,null),w(l,p),Tt(P,l,null),w(l,d),w(l,v),w(v,y),w(v,m),L&&L.m(v,null),w(e,g),w(e,b),Tt(M,b,null),T=!0,N&&o(A),A=[k(u,"click",t[2]),k(y,"click",t[3])]},p(t,[e]){const n={};32&e&&(n.$$scope={dirty:e,ctx:t}),S.$set(n),1&e&&R(u,"is-active",t[0]);const r={};32&e&&(r.$$scope={dirty:e,ctx:t}),D.$set(r);const i={};32&e&&(i.$$scope={dirty:e,ctx:t}),x.$set(i);const o={};32&e&&(o.$$scope={dirty:e,ctx:t}),P.$set(o),!t[0]||t[1]?L||(L=ff(),L.c(),L.m(v,null)):L&&(L.d(1),L=null),1&e&&R(h,"is-active",t[0])},i(t){T||(dt(S.$$.fragment,t),dt(O.$$.fragment,t),dt(D.$$.fragment,t),dt(x.$$.fragment,t),dt(P.$$.fragment,t),dt(M.$$.fragment,t),T=!0)},o(t){vt(S.$$.fragment,t),vt(O.$$.fragment,t),vt(D.$$.fragment,t),vt(x.$$.fragment,t),vt(P.$$.fragment,t),vt(M.$$.fragment,t),T=!1},d(t){t&&E(e),It(S),It(O),It(D),It(x),It(P),L&&L.d(),It(M),o(A)}}}function df(t,e,n){let r=!1,i=!1;return[r,i,function(){n(0,r=!r)},function(){n(1,i=!i)},function(t){t.preventDefault(),n(0,r=!1)}]}class vf extends Nt{constructor(t){super(),St(this,t,df,pf,a,{})}}function yf(e){let n,r;return{c(){n=I("span"),n.innerHTML='<i class="fas fa-plus-circle"></i>',C(n,"class","icon is-small is-right has-text-success svelte-rshbib")},m(t,i,o){_(t,n,i),o&&r(),r=k(n,"click",e[4])},p:t,d(t){t&&E(n),r()}}}function mf(e){let n,r,i,s,a,u,c,h,l,f,p,d,v,y=(!e[0].children||0===e[0].children.length&&""!==e[0].value)&&yf(e);return{c(){n=I("main"),r=I("div"),i=I("div"),s=I("div"),a=I("input"),u=N(),c=I("span"),c.innerHTML='<i class="fas fa-minus-circle"></i>',h=N(),y&&y.c(),l=N(),f=I("div"),p=I("div"),d=I("input"),C(a,"class","input"),C(a,"type","text"),C(a,"placeholder","xPath"),C(c,"class","icon is-small is-left has-text-danger svelte-rshbib"),C(s,"class","field control has-icons-left has-icons-right"),C(i,"class","column is-8"),C(d,"class","input"),C(d,"type","text"),C(d,"placeholder","Name"),C(p,"class","field control"),C(f,"class","column is-4"),C(r,"class","columns")},m(t,m,g){_(t,n,m),w(n,r),w(r,i),w(i,s),w(s,a),P(a,e[2]),w(s,u),w(s,c),w(s,h),y&&y.m(s,null),w(r,l),w(r,f),w(f,p),w(p,d),P(d,e[1]),g&&o(v),v=[k(a,"input",e[9]),k(a,"input",e[3]),k(c,"click",e[5]),k(d,"input",e[10]),k(d,"input",e[3])]},p(t,[e]){4&e&&a.value!==t[2]&&P(a,t[2]),!t[0].children||0===t[0].children.length&&""!==t[0].value?y?y.p(t,e):(y=yf(t),y.c(),y.m(s,null)):y&&(y.d(1),y=null),2&e&&d.value!==t[1]&&P(d,t[1])},i:t,o:t,d(t){t&&E(n),y&&y.d(),o(v)}}}function gf(t,e,n){let r,{element:i}=e,{parentIndeces:o}=e,s=i.name,a=i.value;const u=ae.subscribe(t=>{r=t});return console.log(i.id),t.$set=t=>{"element"in t&&n(0,i=t.element),"parentIndeces"in t&&n(6,o=t.parentIndeces)},[i,s,a,function(){let t=[...r],e=t;for(const t of o)e=e[t].children;const n=e.find(t=>t.id===i.id),u=e.indexOf(n);console.log(a),e[u].value=a,e[u].name=s,ae.set([...t]),console.log("SET ELEMENT")},function(){let t=[...r],e=t;for(const t of o)e=e[t].children;const n=e.find(t=>t.id===i.id),s=e.indexOf(n);e[s].children.push({id:Date.now(),value:"",name:"",children:[]}),ae.set([...t])},function(){console.log(o);let t=[...r],e=t;for(const t of o)e=e[t].children;const n=e.find(t=>t.id===i.id),s=e.indexOf(n);-1!==s&&e.splice(s,1),ae.set([...t])},o,r,u,function(){a=this.value,n(2,a)},function(){s=this.value,n(1,s)}]}class bf extends Nt{constructor(t){super(),St(this,t,gf,mf,a,{element:0,parentIndeces:6})}}function wf(t,e,n){const r=t.slice();return r[6]=e[n],r[8]=n,r}function _f(t){let e;const n=new bf({props:{element:t[6],parentIndeces:t[1]}});return{c(){Et(n.$$.fragment)},m(t,r){Tt(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.element=t[6]),2&e&&(r.parentIndeces=t[1]),n.$set(r)},i(t){e||(dt(n.$$.fragment,t),e=!0)},o(t){vt(n.$$.fragment,t),e=!1},d(t){It(n,t)}}}function Ef(e){let n,r=e[6].value+"";return{c(){n=S(r)},m(t,e){_(t,n,e)},p(t,e){1&e&&r!==(r=t[6].value+"")&&x(n,r)},i:t,o:t,d(t){t&&E(n)}}}function Tf(t){let e,n;const r=new Of({props:{elements:t[6].children,parentIndeces:[...t[1],t[8]],staticView:t[2]}});return r.$on("addElement",t[3]),{c(){e=I("ul"),Et(r.$$.fragment),C(e,"class","has-text-grey-lighter svelte-1a0l5id")},m(t,i){_(t,e,i),Tt(r,e,null),n=!0},p(t,e){const n={};1&e&&(n.elements=t[6].children),3&e&&(n.parentIndeces=[...t[1],t[8]]),4&e&&(n.staticView=t[2]),r.$set(n)},i(t){n||(dt(r.$$.fragment,t),n=!0)},o(t){vt(r.$$.fragment,t),n=!1},d(t){t&&E(e),It(r)}}}function If(t,e){let n,r,i,o,s;const a=[Ef,_f],u=[];function c(t,e){return t[2]?0:1}r=c(e),i=u[r]=a[r](e);let h=e[6].children&&e[6].children.length>0&&Tf(e);return{key:t,first:null,c(){n=I("li"),i.c(),o=N(),h&&h.c(),C(n,"class","has-text-grey-dark svelte-1a0l5id"),this.first=n},m(t,e){_(t,n,e),u[r].m(n,null),w(n,o),h&&h.m(n,null),s=!0},p(t,e){let s=r;r=c(t),r===s?u[r].p(t,e):(ft(),vt(u[s],1,1,()=>{u[s]=null}),pt(),i=u[r],i||(i=u[r]=a[r](t),i.c()),dt(i,1),i.m(n,o)),t[6].children&&t[6].children.length>0?h?(h.p(t,e),1&e&&dt(h,1)):(h=Tf(t),h.c(),dt(h,1),h.m(n,null)):h&&(ft(),vt(h,1,1,()=>{h=null}),pt())},i(t){s||(dt(i),dt(h),s=!0)},o(t){vt(i),vt(h),s=!1},d(t){t&&E(n),u[r].d(),h&&h.d()}}}function Af(e){let n,r;return{c(){n=I("button"),n.textContent="+",C(n,"class","button is-secondary")},m(t,i,o){_(t,n,i),o&&r(),r=k(n,"click",e[3])},p:t,d(t){t&&E(n),r()}}}function Sf(t){let e,n,r,i,o=[],s=new Map,a=t[0];const u=t=>t[6].id;for(let e=0;e<a.length;e+=1){let n=wf(t,a,e),r=u(n);s.set(r,o[e]=If(r,n))}let c=!t[2]&&Af(t);return{c(){e=I("main"),n=I("ul");for(let t=0;t<o.length;t+=1)o[t].c();r=N(),c&&c.c(),C(n,"class","has-text-grey-lighter svelte-1a0l5id")},m(t,s){_(t,e,s),w(e,n);for(let t=0;t<o.length;t+=1)o[t].m(n,null);w(n,r),c&&c.m(n,null),i=!0},p(t,[e]){if(15&e){const i=t[0];ft(),o=function(t,e,n,r,i,o,s,a,u,c,h,l){let f=t.length,p=o.length,d=f;const v={};for(;d--;)v[t[d].key]=d;const y=[],m=new Map,g=new Map;for(d=p;d--;){const t=l(i,o,d),a=n(t);let u=s.get(a);u?r&&u.p(t,e):(u=c(a,t),u.c()),m.set(a,y[d]=u),a in v&&g.set(a,Math.abs(d-v[a]))}const b=new Set,w=new Set;function _(t){dt(t,1),t.m(a,h,s.has(t.key)),s.set(t.key,t),h=t.first,p--}for(;f&&p;){const e=y[p-1],n=t[f-1],r=e.key,i=n.key;e===n?(h=e.first,f--,p--):m.has(i)?!s.has(r)||b.has(r)?_(e):w.has(i)?f--:g.get(r)>g.get(i)?(w.add(r),_(e)):(b.add(i),f--):(u(n,s),f--)}for(;f--;){const e=t[f];m.has(e.key)||u(e,s)}for(;p;)_(y[p-1]);return y}(o,e,u,1,t,i,s,n,gt,If,r,wf),pt()}t[2]?c&&(c.d(1),c=null):c?c.p(t,e):(c=Af(t),c.c(),c.m(n,null))},i(t){if(!i){for(let t=0;t<a.length;t+=1)dt(o[t]);i=!0}},o(t){for(let t=0;t<o.length;t+=1)vt(o[t]);i=!1},d(t){t&&E(e);for(let t=0;t<o.length;t+=1)o[t].d();c&&c.d()}}}function Nf(t,e,n){let r,{elements:i}=e;ae.subscribe(t=>{r=t});console.log(i);let{parentIndeces:o}=e,{staticView:s=!1}=e;return t.$set=t=>{"elements"in t&&n(0,i=t.elements),"parentIndeces"in t&&n(1,o=t.parentIndeces),"staticView"in t&&n(2,s=t.staticView)},[i,o,s,function(){let t=[...r],e=t;console.log(o);for(const t of o)e=e[t].children;e.push({id:Date.now(),value:"",name:"",children:[]}),console.log("Elements before add"),console.log(r),ae.set([...t]),console.log(r)}]}class Of extends Nt{constructor(t){super(),St(this,t,Nf,Sf,a,{elements:0,parentIndeces:1,staticView:2})}}function kf(t,e,n){const r=t.slice();return r[1]=e[n],r}function Cf(e){let n,r,i,o,s,a=(e[0].name?e[0].name:e[0].element)+"",u=e[0].value+"";return{c(){n=I("p"),r=S(a),i=N(),o=S(u)},m(t,e){_(t,n,e),w(n,r),w(n,i),w(n,o)},p(t,e){1&e&&a!==(a=(t[0].name?t[0].name:t[0].element)+"")&&x(r,a),1&e&&u!==(u=t[0].value+"")&&x(o,u)},i(t){s||et(()=>{s=mt(n,Ml,{}),s.start()})},o:t,d(t){t&&E(n)}}}function Df(e){let n,r=e[0].values,i=[];for(let t=0;t<r.length;t+=1)i[t]=Pf(kf(e,r,t));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();n=O()},m(t,e){for(let n=0;n<i.length;n+=1)i[n].m(t,e);_(t,n,e)},p(t,e){if(1&e){let o;for(r=t[0].values,o=0;o<r.length;o+=1){const s=kf(t,r,o);i[o]?(i[o].p(s,e),dt(i[o],1)):(i[o]=Pf(s),i[o].c(),dt(i[o],1),i[o].m(n.parentNode,n))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},i(t){for(let t=0;t<r.length;t+=1)dt(i[t])},o:t,d(t){T(i,t),t&&E(n)}}}function xf(e){let n,r=e[0].parent+"";return{c(){n=S(r)},m(t,e){_(t,n,e)},p(t,e){1&e&&r!==(r=t[0].parent+"")&&x(n,r)},i:t,o:t,d(t){t&&E(n)}}}function Pf(e){let n,r,i,o,s,a=(e[1].name?e[1].name:e[1].element)+"",u=e[1].value+"";return{c(){n=I("p"),r=S(a),i=N(),o=S(u)},m(t,e){_(t,n,e),w(n,r),w(n,i),w(n,o)},p(t,e){1&e&&a!==(a=(t[1].name?t[1].name:t[1].element)+"")&&x(r,a),1&e&&u!==(u=t[1].value+"")&&x(o,u)},i(t){s||et(()=>{s=mt(n,Ml,{}),s.start()})},o:t,d(t){t&&E(n)}}}function Lf(e){let n;function r(t,e){return t[0].parent?xf:t[0].values?Df:Cf}let i=r(e),o=i(e);return{c(){n=I("div"),o.c()},m(t,e){_(t,n,e),o.m(n,null)},p(t,[e]){i===(i=r(t))&&o?o.p(t,e):(o.d(1),o=i(t),o&&(o.c(),dt(o,1),o.m(n,null)))},i(t){dt(o)},o:t,d(t){t&&E(n),o.d()}}}function Rf(t,e,n){let{result:r}=e;return console.log(r),t.$set=t=>{"result"in t&&n(0,r=t.result)},[r]}class Mf extends Nt{constructor(t){super(),St(this,t,Rf,Lf,a,{result:0})}}function jf(t,e,n){const r=t.slice();return r[1]=e[n],r}function Uf(t){let e,n;const r=new Bf({props:{results:t[1].result}});return{c(){e=I("ul"),Et(r.$$.fragment),C(e,"class","svelte-1izkq7w")},m(t,i){_(t,e,i),Tt(r,e,null),n=!0},p(t,e){const n={};1&e&&(n.results=t[1].result),r.$set(n)},i(t){n||(dt(r.$$.fragment,t),n=!0)},o(t){vt(r.$$.fragment,t),n=!1},d(t){t&&E(e),It(r)}}}function Vf(t){let e,n,r,i;const o=new Mf({props:{result:t[1]}});let s=t[1].parent&&Uf(t);return{c(){e=I("li"),Et(o.$$.fragment),n=N(),s&&s.c(),r=N(),C(e,"class","svelte-1izkq7w")},m(t,a){_(t,e,a),Tt(o,e,null),w(e,n),s&&s.m(e,null),w(e,r),i=!0},p(t,n){const i={};1&n&&(i.result=t[1]),o.$set(i),t[1].parent?s?(s.p(t,n),1&n&&dt(s,1)):(s=Uf(t),s.c(),dt(s,1),s.m(e,r)):s&&(ft(),vt(s,1,1,()=>{s=null}),pt())},i(t){i||(dt(o.$$.fragment,t),dt(s),i=!0)},o(t){vt(o.$$.fragment,t),vt(s),i=!1},d(t){t&&E(e),It(o),s&&s.d()}}}function Ff(t){let e,n,r,i=t[0],o=[];for(let e=0;e<i.length;e+=1)o[e]=Vf(jf(t,i,e));const s=t=>vt(o[t],1,1,()=>{o[t]=null});return{c(){e=I("div"),n=I("ul");for(let t=0;t<o.length;t+=1)o[t].c();C(n,"class","svelte-1izkq7w")},m(t,i){_(t,e,i),w(e,n);for(let t=0;t<o.length;t+=1)o[t].m(n,null);r=!0},p(t,[e]){if(1&e){let r;for(i=t[0],r=0;r<i.length;r+=1){const s=jf(t,i,r);o[r]?(o[r].p(s,e),dt(o[r],1)):(o[r]=Vf(s),o[r].c(),dt(o[r],1),o[r].m(n,null))}for(ft(),r=i.length;r<o.length;r+=1)s(r);pt()}},i(t){if(!r){for(let t=0;t<i.length;t+=1)dt(o[t]);r=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)vt(o[t]);r=!1},d(t){t&&E(e),T(o,t)}}}function $f(t,e,n){let{results:r}=e;return console.log(r),t.$set=t=>{"results"in t&&n(0,r=t.results)},[r]}class Bf extends Nt{constructor(t){super(),St(this,t,$f,Ff,a,{results:0})}}function qf(e){let n;return{c(){n=I("div"),n.textContent="QUOTA USED! PAY ME ALL YOUR MONEY ... NOW!",C(n,"class","notification is-danger is-light")},m(t,e){_(t,n,e)},p:t,i:t,o:t,d(t){t&&E(n)}}}class zf extends Nt{constructor(t){super(),St(this,t,null,qf,a,{})}}var Gf=he((function(t){!function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=n.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,r=0;n<t.length;n++,r+=8)e[r>>>5]|=t[n]<<24-r%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var n=[],r=0;r<t.length;r+=3)for(var i=t[r]<<16|t[r+1]<<8|t[r+2],o=0;o<4;o++)8*r+6*o<=8*t.length?n.push(e.charAt(i>>>6*(3-o)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,i=0;r<t.length;i=++r%4)0!=i&&n.push((e.indexOf(t.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|e.indexOf(t.charAt(r))>>>6-2*i);return n}};t.exports=n}()})),Hf={utf8:{stringToBytes:function(t){return Hf.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(Hf.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}},Wf=Hf,Kf=function(t){return null!=t&&(Yf(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&Yf(t.slice(0,0))}(t)||!!t._isBuffer)};function Yf(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}var Xf=he((function(t){!function(){var e=Gf,n=Wf.utf8,r=Kf,i=Wf.bin,o=function(t,s){t.constructor==String?t=s&&"binary"===s.encoding?i.stringToBytes(t):n.stringToBytes(t):r(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||(t=t.toString());for(var a=e.bytesToWords(t),u=8*t.length,c=1732584193,h=-271733879,l=-1732584194,f=271733878,p=0;p<a.length;p++)a[p]=16711935&(a[p]<<8|a[p]>>>24)|4278255360&(a[p]<<24|a[p]>>>8);a[u>>>5]|=128<<u%32,a[14+(u+64>>>9<<4)]=u;var d=o._ff,v=o._gg,y=o._hh,m=o._ii;for(p=0;p<a.length;p+=16){var g=c,b=h,w=l,_=f;c=d(c,h,l,f,a[p+0],7,-680876936),f=d(f,c,h,l,a[p+1],12,-389564586),l=d(l,f,c,h,a[p+2],17,606105819),h=d(h,l,f,c,a[p+3],22,-1044525330),c=d(c,h,l,f,a[p+4],7,-176418897),f=d(f,c,h,l,a[p+5],12,1200080426),l=d(l,f,c,h,a[p+6],17,-1473231341),h=d(h,l,f,c,a[p+7],22,-45705983),c=d(c,h,l,f,a[p+8],7,1770035416),f=d(f,c,h,l,a[p+9],12,-1958414417),l=d(l,f,c,h,a[p+10],17,-42063),h=d(h,l,f,c,a[p+11],22,-1990404162),c=d(c,h,l,f,a[p+12],7,1804603682),f=d(f,c,h,l,a[p+13],12,-40341101),l=d(l,f,c,h,a[p+14],17,-1502002290),c=v(c,h=d(h,l,f,c,a[p+15],22,1236535329),l,f,a[p+1],5,-165796510),f=v(f,c,h,l,a[p+6],9,-1069501632),l=v(l,f,c,h,a[p+11],14,643717713),h=v(h,l,f,c,a[p+0],20,-373897302),c=v(c,h,l,f,a[p+5],5,-701558691),f=v(f,c,h,l,a[p+10],9,38016083),l=v(l,f,c,h,a[p+15],14,-660478335),h=v(h,l,f,c,a[p+4],20,-405537848),c=v(c,h,l,f,a[p+9],5,568446438),f=v(f,c,h,l,a[p+14],9,-1019803690),l=v(l,f,c,h,a[p+3],14,-187363961),h=v(h,l,f,c,a[p+8],20,1163531501),c=v(c,h,l,f,a[p+13],5,-1444681467),f=v(f,c,h,l,a[p+2],9,-51403784),l=v(l,f,c,h,a[p+7],14,1735328473),c=y(c,h=v(h,l,f,c,a[p+12],20,-1926607734),l,f,a[p+5],4,-378558),f=y(f,c,h,l,a[p+8],11,-2022574463),l=y(l,f,c,h,a[p+11],16,1839030562),h=y(h,l,f,c,a[p+14],23,-35309556),c=y(c,h,l,f,a[p+1],4,-1530992060),f=y(f,c,h,l,a[p+4],11,1272893353),l=y(l,f,c,h,a[p+7],16,-155497632),h=y(h,l,f,c,a[p+10],23,-1094730640),c=y(c,h,l,f,a[p+13],4,681279174),f=y(f,c,h,l,a[p+0],11,-358537222),l=y(l,f,c,h,a[p+3],16,-722521979),h=y(h,l,f,c,a[p+6],23,76029189),c=y(c,h,l,f,a[p+9],4,-640364487),f=y(f,c,h,l,a[p+12],11,-421815835),l=y(l,f,c,h,a[p+15],16,530742520),c=m(c,h=y(h,l,f,c,a[p+2],23,-995338651),l,f,a[p+0],6,-198630844),f=m(f,c,h,l,a[p+7],10,1126891415),l=m(l,f,c,h,a[p+14],15,-1416354905),h=m(h,l,f,c,a[p+5],21,-57434055),c=m(c,h,l,f,a[p+12],6,1700485571),f=m(f,c,h,l,a[p+3],10,-1894986606),l=m(l,f,c,h,a[p+10],15,-1051523),h=m(h,l,f,c,a[p+1],21,-2054922799),c=m(c,h,l,f,a[p+8],6,1873313359),f=m(f,c,h,l,a[p+15],10,-30611744),l=m(l,f,c,h,a[p+6],15,-1560198380),h=m(h,l,f,c,a[p+13],21,1309151649),c=m(c,h,l,f,a[p+4],6,-145523070),f=m(f,c,h,l,a[p+11],10,-1120210379),l=m(l,f,c,h,a[p+2],15,718787259),h=m(h,l,f,c,a[p+9],21,-343485551),c=c+g>>>0,h=h+b>>>0,l=l+w>>>0,f=f+_>>>0}return e.endian([c,h,l,f])};o._ff=function(t,e,n,r,i,o,s){var a=t+(e&n|~e&r)+(i>>>0)+s;return(a<<o|a>>>32-o)+e},o._gg=function(t,e,n,r,i,o,s){var a=t+(e&r|n&~r)+(i>>>0)+s;return(a<<o|a>>>32-o)+e},o._hh=function(t,e,n,r,i,o,s){var a=t+(e^n^r)+(i>>>0)+s;return(a<<o|a>>>32-o)+e},o._ii=function(t,e,n,r,i,o,s){var a=t+(n^(e|~r))+(i>>>0)+s;return(a<<o|a>>>32-o)+e},o._blocksize=16,o._digestsize=16,t.exports=function(t,n){if(null==t)throw new Error("Illegal argument "+t);var r=e.wordsToBytes(o(t,n));return n&&n.asBytes?r:n&&n.asString?i.bytesToString(r):e.bytesToHex(r)}}()}));function Jf(t){let e;return{c(){e=S("documentation")},m(t,n){_(t,e,n)},d(t){t&&E(e)}}}function Zf(t){let e;const n=new zf({});return{c(){Et(n.$$.fragment)},m(t,r){Tt(n,t,r),e=!0},i(t){e||(dt(n.$$.fragment,t),e=!0)},o(t){vt(n.$$.fragment,t),e=!1},d(t){It(n,t)}}}function Qf(t){let e,n,r,i;const o=[np,ep,tp],s=[];function a(t,e){return 0===t[6].length?0:t[6][0].error?1:2}return e=a(t),n=s[e]=o[e](t),{c(){n.c(),r=O()},m(t,n){s[e].m(t,n),_(t,r,n),i=!0},p(t,i){let u=e;e=a(t),e===u?s[e].p(t,i):(ft(),vt(s[u],1,1,()=>{s[u]=null}),pt(),n=s[e],n||(n=s[e]=o[e](t),n.c()),dt(n,1),n.m(r.parentNode,r))},i(t){i||(dt(n),i=!0)},o(t){vt(n),i=!1},d(t){s[e].d(t),t&&E(r)}}}function tp(t){let e;const n=new Bf({props:{results:t[6][0].crawlResults}});return{c(){Et(n.$$.fragment)},m(t,r){Tt(n,t,r),e=!0},p(t,e){const r={};64&e&&(r.results=t[6][0].crawlResults),n.$set(r)},i(t){e||(dt(n.$$.fragment,t),e=!0)},o(t){vt(n.$$.fragment,t),e=!1},d(t){It(n,t)}}}function ep(e){let n,r,i=e[6][0].error+"";return{c(){n=I("div"),r=S(i),C(n,"class","notification is-danger is-light")},m(t,e){_(t,n,e),w(n,r)},p(t,e){64&e&&i!==(i=t[6][0].error+"")&&x(r,i)},i:t,o:t,d(t){t&&E(n)}}}function np(e){let n;return{c(){n=I("progress"),n.textContent="15%",C(n,"class","progress is-small is-primary"),C(n,"max","100")},m(t,e){_(t,n,e)},p:t,i:t,o:t,d(t){t&&E(n)}}}function rp(t){let e,n,r,i,s,a,u,c,h,l,f,p,d,v,y,m,g,b,T,A,O,D,L,M,j,U,V,F,$,B,q,z,G;const H=new ie({props:{to:"/documentation",$$slots:{default:[Jf]},$$scope:{ctx:t}}});let W=t[0].quotaUsed>=t[0].quota&&Zf();const K=new Of({props:{elements:t[4],parentIndeces:[]}});let Y=t[6]&&Qf(t);return{c(){e=I("main"),n=I("section"),r=I("div"),i=I("div"),s=I("h1"),s.textContent="Add crawl",a=N(),u=I("h2"),c=S("Crawl xPath or relative elements with children. For detailed\n          information see\n          "),Et(H.$$.fragment),h=N(),W&&W.c(),l=N(),f=I("section"),p=I("div"),d=I("div"),v=I("div"),y=I("input"),m=N(),g=I("p"),b=S(t[3]),T=N(),A=I("div"),O=I("input"),D=N(),L=I("div"),M=I("button"),j=S("Crawl"),V=N(),F=I("div"),$=I("div"),Et(K.$$.fragment),B=N(),q=I("div"),Y&&Y.c(),C(s,"class","title"),C(u,"class","subtitle"),C(i,"class","container"),C(r,"class","hero-body"),C(n,"class","hero is-small is-light is-bold"),C(y,"class","input is-rounded"),C(y,"placeholder","Crawl Name"),C(y,"type","text"),R(y,"is-danger",t[3].length>0),C(g,"class","help is-danger svelte-17n7i3i"),C(v,"class","column is-3"),C(O,"class","input is-rounded"),C(O,"placeholder","URL"),C(O,"type","text"),C(A,"class","column is-7"),C(M,"class","button is-primary crawlButton svelte-17n7i3i"),M.disabled=U=0===t[1].length||!t[4].some(ip)||t[0].quotaUsed>=t[0].quota||0===t[2].length,C(L,"class","column is-2"),C(d,"class","columns"),C($,"class","cloumn is-5 container"),C(q,"class","column is-6 container text"),C(F,"class","columns elements svelte-17n7i3i"),C(p,"class","container"),C(f,"class","section")},m(E,I,S){_(E,e,I),w(e,n),w(n,r),w(r,i),w(i,s),w(i,a),w(i,u),w(u,c),Tt(H,u,null),w(e,h),W&&W.m(e,null),w(e,l),w(e,f),w(f,p),w(p,d),w(d,v),w(v,y),P(y,t[2]),w(v,m),w(v,g),w(g,b),w(d,T),w(d,A),w(A,O),P(O,t[1]),w(d,D),w(d,L),w(L,M),w(M,j),w(p,V),w(p,F),w(F,$),Tt(K,$,null),w(F,B),w(F,q),Y&&Y.m(q,null),z=!0,S&&o(G),G=[k(y,"input",t[12]),k(y,"input",t[13]),k(y,"blur",t[8]),k(O,"input",t[14]),k(M,"click",t[7])]},p(t,[n]){const r={};32768&n&&(r.$$scope={dirty:n,ctx:t}),H.$set(r),t[0].quotaUsed>=t[0].quota?W?1&n&&dt(W,1):(W=Zf(),W.c(),dt(W,1),W.m(e,l)):W&&(ft(),vt(W,1,1,()=>{W=null}),pt()),4&n&&y.value!==t[2]&&P(y,t[2]),8&n&&R(y,"is-danger",t[3].length>0),(!z||8&n)&&x(b,t[3]),2&n&&O.value!==t[1]&&P(O,t[1]),(!z||23&n&&U!==(U=0===t[1].length||!t[4].some(ip)||t[0].quotaUsed>=t[0].quota||0===t[2].length))&&(M.disabled=U);const i={};16&n&&(i.elements=t[4]),K.$set(i),t[6]?Y?(Y.p(t,n),64&n&&dt(Y,1)):(Y=Qf(t),Y.c(),dt(Y,1),Y.m(q,null)):Y&&(ft(),vt(Y,1,1,()=>{Y=null}),pt())},i(t){z||(dt(H.$$.fragment,t),dt(W),dt(K.$$.fragment,t),dt(Y),z=!0)},o(t){vt(H.$$.fragment,t),vt(W),vt(K.$$.fragment,t),vt(Y),z=!1},d(t){t&&E(e),It(H),W&&W.d(),It(K),Y&&Y.d(),o(G)}}}const ip=t=>""!==t.value;function op(e,n,r){let i,o=t,s=()=>(o(),o=u(v,t=>r(6,i=t)),v);e.$$.on_destroy.push(()=>o());let{uid:a}=n,{loadedUserData:c}=n,h="",l="",f="",p=[];const d=ae.subscribe(t=>{r(4,p=t)});let v;s(),z(()=>{ae.set(se)});return e.$set=t=>{"uid"in t&&r(9,a=t.uid),"loadedUserData"in t&&r(0,c=t.loadedUserData)},[c,h,l,f,p,v,i,async function(){console.log(c),console.log(p);const t=Xf(`${l}_${a}`);try{const e=Ue.firestore.Timestamp.now();await Xh({id:t,uid:a,crawlName:l,createTime:e,url:h,elements:p});s(r(5,v=Yh(t,e)))}catch(t){console.log(t)}},async function(){if(f.length>0)return;const t=Xf(`${l}_${a}`);await(async t=>(await qc.collection("crawls").doc(t).get()).exists)(t)?r(3,f="Crawl already exists"):r(3,f="")},a,void 0,d,function(){l=this.value,r(2,l)},()=>{r(3,f="")},function(){h=this.value,r(1,h)}]}class sp extends Nt{constructor(t){super(),St(this,t,op,rp,a,{uid:9,loadedUserData:0})}}function ap(e){let n,r,i;return{c(){n=I("section"),n.innerHTML='<div class="hero-body"><div class="container"><h1 class="title">Welcome!</h1> \n      <h2 class="subtitle">to the dark side</h2></div></div>',r=N(),i=I("section"),i.innerHTML='<div class="container">Welcome to the dark side</div>',C(n,"class","hero is-small is-light is-bold"),C(i,"class","section")},m(t,e){_(t,n,e),_(t,r,e),_(t,i,e)},p:t,i:t,o:t,d(t){t&&E(n),t&&E(r),t&&E(i)}}}class up extends Nt{constructor(t){super(),St(this,t,null,ap,a,{})}}function cp(e){let n,r,i;return{c(){n=I("section"),n.innerHTML='<div class="hero-body"><div class="container"><h1 class="title">Documentation</h1></div></div>',r=N(),i=I("section"),i.innerHTML='<div class="container">\n    XPath elemnts like\n    <strong>//*[@id=&quot;priceblock_ourprice&quot;]</strong>\n    describe exact matches. Relative element pathes like\n    <strong>li.block.media._feedPick</strong>\n    describe either exact elements or reoccuring elements that have children\n    elements that need to be crawled.\n  </div>',C(n,"class","hero is-small is-light is-bold"),C(i,"class","section")},m(t,e){_(t,n,e),_(t,r,e),_(t,i,e)},p:t,i:t,o:t,d(t){t&&E(n),t&&E(r),t&&E(i)}}}class hp extends Nt{constructor(t){super(),St(this,t,null,cp,a,{})}}function lp(t){let e,n,r,i,s,a,u,c,h,l,f,p,d,v,y,m,g;const b=new Of({props:{elements:t[0],parentIndeces:[],staticView:!1}});return{c(){e=I("div"),n=I("div"),r=N(),i=I("div"),s=I("header"),a=I("p"),a.textContent="Edit Crawl",u=N(),c=I("button"),h=N(),l=I("section"),Et(b.$$.fragment),f=N(),p=I("footer"),d=I("button"),d.textContent="Save changes",v=N(),y=I("button"),y.textContent="Cancel",C(n,"class","modal-background"),C(a,"class","modal-card-title has-text-white"),C(c,"class","delete"),C(c,"aria-label","close"),C(s,"class","modal-card-head"),C(l,"class","modal-card-body"),C(d,"class","button is-primary"),R(d,"is-loading",t[1]),C(y,"class","button"),C(p,"class","modal-card-foot"),C(i,"class","modal-card"),C(e,"class","modal is-active"),R(e,"is-active",t[2])},m(E,T,I){_(E,e,T),w(e,n),w(e,r),w(e,i),w(i,s),w(s,a),w(s,u),w(s,c),w(i,h),w(i,l),Tt(b,l,null),w(i,f),w(i,p),w(p,d),w(p,v),w(p,y),m=!0,I&&o(g),g=[k(c,"click",t[3]),k(d,"click",t[5]),k(y,"click",t[4])]},p(t,[n]){const r={};1&n&&(r.elements=t[0]),b.$set(r),2&n&&R(d,"is-loading",t[1]),4&n&&R(e,"is-active",t[2])},i(t){m||(dt(b.$$.fragment,t),m=!0)},o(t){vt(b.$$.fragment,t),m=!1},d(t){t&&E(e),It(b),o(g)}}}function fp(t,e,n){let{elements:r}=e,{crawl:i}=e;const o=H();let s,a=!1,u=!0;ae.subscribe(t=>{s=t});function c(){n(2,u=!1),o("close")}return t.$set=t=>{"elements"in t&&n(0,r=t.elements),"crawl"in t&&n(6,i=t.crawl)},[r,a,u,c,function(){n(2,u=!1),o("cancel")},async function(){n(1,a=!0);const t=Ue.firestore.Timestamp.now();n(6,i.elements=s,i),n(6,i.createTime=t,i),await Xh(i);let e=Yh(i.id,t).subscribe(t=>{t.length>0&&(n(1,a=!1),e.unsubscribe(),c())})},i]}class pp extends Nt{constructor(t){super(),St(this,t,fp,lp,a,{elements:0,crawl:6})}}function dp(t,e,n){const r=t.slice();return r[9]=e[n],r}function vp(e){let n,r;return{c(){n=I("span"),n.innerHTML='<i class="fas fa-chevron-down"></i>',C(n,"class","icon is-small has-text-link")},m(t,i,o){_(t,n,i),o&&r(),r=k(n,"click",e[20])},p:t,i:t,o:t,d(t){t&&E(n),r()}}}function yp(t){let e,n,r,i,s,a,u,c;const h=new Of({props:{elements:t[5],parentIndeces:[],staticView:!0}});let l=t[4]&&mp(t);return{c(){e=I("span"),e.innerHTML='<i class="fas fa-chevron-up"></i>',n=N(),Et(h.$$.fragment),r=N(),i=I("span"),i.innerHTML='<i class="fas fa-edit"></i>',s=N(),l&&l.c(),a=O(),C(e,"class","icon is-small has-text-link"),C(i,"class","icon is-small")},m(f,p,d){_(f,e,p),_(f,n,p),Tt(h,f,p),_(f,r,p),_(f,i,p),_(f,s,p),l&&l.m(f,p),_(f,a,p),u=!0,d&&o(c),c=[k(e,"click",t[16]),k(i,"click",t[17])]},p(t,e){const n={};32&e&&(n.elements=t[5]),h.$set(n),t[4]?l?(l.p(t,e),16&e&&dt(l,1)):(l=mp(t),l.c(),dt(l,1),l.m(a.parentNode,a)):l&&(ft(),vt(l,1,1,()=>{l=null}),pt())},i(t){u||(dt(h.$$.fragment,t),dt(l),u=!0)},o(t){vt(h.$$.fragment,t),vt(l),u=!1},d(t){t&&E(e),t&&E(n),It(h,t),t&&E(r),t&&E(i),t&&E(s),l&&l.d(t),t&&E(a),o(c)}}}function mp(t){let e;const n=new pp({props:{elements:t[5],crawl:t[0]}});return n.$on("cancel",t[18]),n.$on("close",t[19]),{c(){Et(n.$$.fragment)},m(t,r){Tt(n,t,r),e=!0},p(t,e){const r={};32&e&&(r.elements=t[5]),1&e&&(r.crawl=t[0]),n.$set(r)},i(t){e||(dt(n.$$.fragment,t),e=!0)},o(t){vt(n.$$.fragment,t),e=!1},d(t){It(n,t)}}}function gp(e){let n,r;return{c(){n=I("span"),n.innerHTML='<i class="fas fa-chevron-down"></i>',C(n,"class","icon is-small has-text-link")},m(t,i,o){_(t,n,i),o&&r(),r=k(n,"click",e[22])},p:t,i:t,o:t,d(t){t&&E(n),r()}}}function bp(t){let e,n,r,i,o,s=t[8],a=[];for(let e=0;e<s.length;e+=1)a[e]=Tp(dp(t,s,e));const u=t=>vt(a[t],1,1,()=>{a[t]=null});return{c(){e=I("span"),e.innerHTML='<i class="fas fa-chevron-up"></i>',n=N();for(let t=0;t<a.length;t+=1)a[t].c();r=O(),C(e,"class","icon is-small has-text-link")},m(s,u,c){_(s,e,u),_(s,n,u);for(let t=0;t<a.length;t+=1)a[t].m(s,u);_(s,r,u),i=!0,c&&o(),o=k(e,"click",t[21])},p(t,e){if(256&e){let n;for(s=t[8],n=0;n<s.length;n+=1){const i=dp(t,s,n);a[n]?(a[n].p(i,e),dt(a[n],1)):(a[n]=Tp(i),a[n].c(),dt(a[n],1),a[n].m(r.parentNode,r))}for(ft(),n=s.length;n<a.length;n+=1)u(n);pt()}},i(t){if(!i){for(let t=0;t<s.length;t+=1)dt(a[t]);i=!0}},o(t){a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)vt(a[t]);i=!1},d(t){t&&E(e),t&&E(n),T(a,t),t&&E(r),o()}}}function wp(e){let n;return{c(){n=I("ul"),n.innerHTML="<li>Loading</li> \n            "},m(t,e){_(t,n,e)},p:t,i:t,o:t,d(t){t&&E(n)}}}function _p(e){let n;return{c(){n=I("ul"),n.innerHTML="<li>Run had errors</li> \n            "},m(t,e){_(t,n,e)},p:t,i:t,o:t,d(t){t&&E(n)}}}function Ep(t){let e;const n=new Bf({props:{results:t[9].crawlResults}});return{c(){Et(n.$$.fragment)},m(t,r){Tt(n,t,r),e=!0},p(t,e){const r={};256&e&&(r.results=t[9].crawlResults),n.$set(r)},i(t){e||(dt(n.$$.fragment,t),e=!0)},o(t){vt(n.$$.fragment,t),e=!1},d(t){It(n,t)}}}function Tp(t){let e,n,r,i;const o=[Ep,_p,wp],s=[];function a(t,e){return t[9].crawlResults?0:t[9].error?1:2}return e=a(t),n=s[e]=o[e](t),{c(){n.c(),r=O()},m(t,n){s[e].m(t,n),_(t,r,n),i=!0},p(t,i){let u=e;e=a(t),e===u?s[e].p(t,i):(ft(),vt(s[u],1,1,()=>{s[u]=null}),pt(),n=s[e],n||(n=s[e]=o[e](t),n.c()),dt(n,1),n.m(r.parentNode,r))},i(t){i||(dt(n),i=!0)},o(t){vt(n),i=!1},d(t){s[e].d(t),t&&E(r)}}}function Ip(t){let e,n,r,i,s,a,u,c,h,l,f,p,d,v,y,m,g,b,T,A,O,D,P,L,M,j,U,V,F,$=t[0].crawlName+"",B=t[0].createDate.toDate().toLocaleString()+"";const q=[yp,vp],z=[];function G(t,e){return t[3]?0:1}v=G(t),y=z[v]=q[v](t);const H=[bp,gp],W=[];function K(t,e){return t[2]?0:1}return T=K(t),A=W[T]=H[T](t),{c(){e=I("div"),n=I("div"),r=I("div"),i=I("div"),s=I("a"),a=S($),c=N(),h=I("div"),l=S(B),f=N(),p=I("div"),d=S("Elements\n      "),y.c(),m=N(),g=I("div"),b=S("Result\n      "),A.c(),O=N(),D=I("div"),P=I("button"),L=I("span"),L.innerHTML='<i class="fas fa-redo-alt"></i>',j=N(),U=I("button"),U.innerHTML='<span class="icon"><i class="fas fa-minus-circle has-text-danger"></i></span>',C(s,"href",u=t[0].url),C(s,"target","_blank"),C(i,"class","url svelte-8jz01h"),C(r,"class","column is-3 urlBlock svelte-8jz01h"),C(h,"class","column is-2"),C(p,"class","column is-3 elements svelte-8jz01h"),C(g,"class","column is-3"),C(L,"class","icon"),P.disabled=M=!t[1],C(P,"class","button"),C(P,"title","Recrawl"),R(P,"is-loading",t[6]),C(U,"class","button"),C(U,"title","Delete"),R(U,"is-loading",t[7]),C(D,"class","column is-1"),C(n,"class","columns"),C(e,"class","box")},m(u,y,E){_(u,e,y),w(e,n),w(n,r),w(r,i),w(i,s),w(s,a),w(n,c),w(n,h),w(h,l),w(n,f),w(n,p),w(p,d),z[v].m(p,null),w(n,m),w(n,g),w(g,b),W[T].m(g,null),w(n,O),w(n,D),w(D,P),w(P,L),w(D,j),w(D,U),V=!0,E&&o(F),F=[k(P,"click",t[11]),k(U,"click",t[12])]},p(t,[e]){(!V||1&e)&&$!==($=t[0].crawlName+"")&&x(a,$),(!V||1&e&&u!==(u=t[0].url))&&C(s,"href",u),(!V||1&e)&&B!==(B=t[0].createDate.toDate().toLocaleString()+"")&&x(l,B);let n=v;v=G(t),v===n?z[v].p(t,e):(ft(),vt(z[n],1,1,()=>{z[n]=null}),pt(),y=z[v],y||(y=z[v]=q[v](t),y.c()),dt(y,1),y.m(p,null));let r=T;T=K(t),T===r?W[T].p(t,e):(ft(),vt(W[r],1,1,()=>{W[r]=null}),pt(),A=W[T],A||(A=W[T]=H[T](t),A.c()),dt(A,1),A.m(g,null)),(!V||2&e&&M!==(M=!t[1]))&&(P.disabled=M),64&e&&R(P,"is-loading",t[6]),128&e&&R(U,"is-loading",t[7])},i(t){V||(dt(y),dt(A),V=!0)},o(t){vt(y),vt(A),V=!1},d(t){t&&E(e),z[v].d(),W[T].d(),o(F)}}}function Ap(t,e,n){let r,{crawl:i}=e,{userHasQuotaLeft:o}=e,s=!1,a=!1,u=(h=i.id,Hh(qc.collection(`crawls/${h}/results`).orderBy("date","desc")));var h;let l;c(t,u,t=>n(8,r=t));let f,p,d=!1,v=!1;const y=ae.subscribe(t=>{n(5,p=t)});z(()=>{ae.set(i.crawlElements)});let m=!1;return t.$set=t=>{"crawl"in t&&n(0,i=t.crawl),"userHasQuotaLeft"in t&&n(1,o=t.userHasQuotaLeft)},[i,o,s,a,d,p,v,m,r,l,u,async function(){n(6,v=!0);const t=Ue.firestore.Timestamp.now();await(async(t,e)=>await qc.collection("crawls").doc(t).set({createDate:e},{merge:!0}))(i.id,t),n(9,l=Yh(i.id,t).subscribe(t=>{console.log(t),t.length>0&&n(6,v=!1)}))},function(){n(7,m=!0),(async t=>await qc.collection("crawls").doc(t).delete())(i.id).then(()=>n(7,m=!1))},f,y,function(){f=JSON.parse(JSON.stringify(i))},()=>n(3,a=!a),()=>{console.log("Edit crawl"),n(4,d=!0),console.log(d)},()=>{ae.set(i.crawlElements),n(4,d=!1)},()=>{n(4,d=!1)},()=>n(3,a=!a),()=>n(2,s=!s),()=>n(2,s=!s)]}class Sp extends Nt{constructor(t){super(),St(this,t,Ap,Ip,a,{crawl:0,userHasQuotaLeft:1})}}function Np(t,e,n){const r=t.slice();return r[13]=e[n],r}function Op(t){let e;const n=new zf({});return{c(){Et(n.$$.fragment)},m(t,r){Tt(n,t,r),e=!0},i(t){e||(dt(n.$$.fragment,t),e=!0)},o(t){vt(n.$$.fragment,t),e=!1},d(t){It(n,t)}}}function kp(t){let e,n,r,i,s,a,u,c,h,l,f,p,d,v,y,m,g,b,A,S,D,x,L,R,M=t[1],j=[];for(let e=0;e<M.length;e+=1)j[e]=xp(Np(t,M,e));const U=t=>vt(j[t],1,1,()=>{j[t]=null});return{c(){e=I("div"),n=I("div"),r=I("div"),i=I("span"),i.textContent="Name",s=N(),a=I("span"),a.innerHTML='<i class="fas fa-sort"></i>',u=N(),c=I("div"),h=I("span"),h.textContent="Crawldate",l=N(),f=I("span"),f.innerHTML='<i class="fas fa-sort"></i>',p=N(),d=I("div"),v=I("div"),y=I("p"),m=I("input"),g=N(),b=I("span"),b.innerHTML='<i class="fas fa-search has-text-white"></i>',A=N(),S=I("div"),S.innerHTML='<span class="icon"><i class="fas fa-filter has-text-primary"></i></span>',D=N();for(let t=0;t<j.length;t+=1)j[t].c();x=O(),C(i,"class","headerText svelte-1fqoijs"),C(a,"class","icon is-small has-text-primary sortIcon svelte-1fqoijs"),C(r,"class","column is-3 headerColumn svelte-1fqoijs"),C(h,"class","headerText svelte-1fqoijs"),C(f,"class","icon is-small has-text-primary sortIcon svelte-1fqoijs"),C(c,"class","column is-2 headerColumn svelte-1fqoijs"),C(m,"class","input has-background-grey has-text-white svelte-1fqoijs"),C(m,"type","text"),C(b,"class","icon is-small is-left"),C(y,"class","control has-icons-left"),C(v,"class","field"),C(d,"class","column is-6"),C(S,"class","column is-1 headerColumn svelte-1fqoijs"),C(n,"class","columns"),C(e,"class","box has-background-grey has-text-white")},m(E,T,I){_(E,e,T),w(e,n),w(n,r),w(r,i),w(r,s),w(r,a),w(n,u),w(n,c),w(c,h),w(c,l),w(c,f),w(n,p),w(n,d),w(d,v),w(v,y),w(y,m),P(m,t[2]),w(y,g),w(y,b),w(n,A),w(n,S),_(E,D,T);for(let t=0;t<j.length;t+=1)j[t].m(E,T);_(E,x,T),L=!0,I&&o(R),R=[k(a,"click",t[6]),k(f,"click",t[5]),k(m,"input",t[12]),k(m,"input",t[4])]},p(t,e){if(4&e&&m.value!==t[2]&&P(m,t[2]),10&e){let n;for(M=t[1],n=0;n<M.length;n+=1){const r=Np(t,M,n);j[n]?(j[n].p(r,e),dt(j[n],1)):(j[n]=xp(r),j[n].c(),dt(j[n],1),j[n].m(x.parentNode,x))}for(ft(),n=M.length;n<j.length;n+=1)U(n);pt()}},i(t){if(!L){for(let t=0;t<M.length;t+=1)dt(j[t]);L=!0}},o(t){j=j.filter(Boolean);for(let t=0;t<j.length;t+=1)vt(j[t]);L=!1},d(t){t&&E(e),t&&E(D),T(j,t),t&&E(x),o(R)}}}function Cp(e){let n;return{c(){n=S("No crawls yet")},m(t,e){_(t,n,e)},p:t,i:t,o:t,d(t){t&&E(n)}}}function Dp(t){let e;const n=new Sp({props:{crawl:t[13],userHasQuotaLeft:t[3]}});return{c(){Et(n.$$.fragment)},m(t,r){Tt(n,t,r),e=!0},p(t,e){const r={};2&e&&(r.crawl=t[13]),8&e&&(r.userHasQuotaLeft=t[3]),n.$set(r)},i(t){e||(dt(n.$$.fragment,t),e=!0)},o(t){vt(n.$$.fragment,t),e=!1},d(t){It(n,t)}}}function xp(t){let e,n,r=t[13].createDate&&Dp(t);return{c(){r&&r.c(),e=O()},m(t,i){r&&r.m(t,i),_(t,e,i),n=!0},p(t,n){t[13].createDate?r?(r.p(t,n),2&n&&dt(r,1)):(r=Dp(t),r.c(),dt(r,1),r.m(e.parentNode,e)):r&&(ft(),vt(r,1,1,()=>{r=null}),pt())},i(t){n||(dt(r),n=!0)},o(t){vt(r),n=!1},d(t){r&&r.d(t),t&&E(e)}}}function Pp(t){let e,n,r,i,o,s,a,u,c=!t[3]&&Op();const h=[Cp,kp],l=[];function f(t,e){return 0===t[0].length?0:1}return s=f(t),a=l[s]=h[s](t),{c(){e=I("section"),e.innerHTML='<div class="hero-body"><div class="container"><h1 class="title">My Crawls</h1></div></div>',n=N(),c&&c.c(),r=N(),i=I("section"),o=I("div"),a.c(),C(e,"class","hero is-small is-light is-bold"),C(o,"class","container"),C(i,"class","section")},m(t,a){_(t,e,a),_(t,n,a),c&&c.m(t,a),_(t,r,a),_(t,i,a),w(i,o),l[s].m(o,null),u=!0},p(t,[e]){t[3]?c&&(ft(),vt(c,1,1,()=>{c=null}),pt()):c?8&e&&dt(c,1):(c=Op(),c.c(),dt(c,1),c.m(r.parentNode,r));let n=s;s=f(t),s===n?l[s].p(t,e):(ft(),vt(l[n],1,1,()=>{l[n]=null}),pt(),a=l[s],a||(a=l[s]=h[s](t),a.c()),dt(a,1),a.m(o,null))},i(t){u||(dt(c),dt(a),u=!0)},o(t){vt(c),vt(a),u=!1},d(t){t&&E(e),t&&E(n),c&&c.d(t),t&&E(r),t&&E(i),l[s].d()}}}function Lp(t,e,n){let r,{uid:i}=e,{loadedUserData:o}=e,s=[],a=[],u=Wh(i),c="",h=!1,l=!1;return u.subscribe(t=>{n(0,s=t),""===c&&n(1,a=t)}),t.$set=t=>{"uid"in t&&n(7,i=t.uid),"loadedUserData"in t&&n(8,o=t.loadedUserData)},t.$$.update=()=>{256&t.$$.dirty&&n(3,r=o.quotaUsed<o.quota)},[s,a,c,r,function(){console.log("filtering"),n(1,a=""!==c?s.filter(t=>t.crawlName.toLowerCase().includes(c.toLowerCase())||t.url.toLowerCase().includes(c.toLowerCase())):s)},function(){n(1,a=a.sort((t,e)=>{const n=t.createDate.seconds,r=e.createDate.seconds;return l=!l,l?n-r:r-n}))},function(){n(1,a=a.sort((t,e)=>{const n=t.crawlName.toUpperCase(),r=e.crawlName.toUpperCase();let i=0;return n<r?i=h?-1:1:n>r&&(i=h?1:-1),h=!h,i}))},i,o,h,l,u,function(){c=this.value,n(2,c)}]}class Rp extends Nt{constructor(t){super(),St(this,t,Lp,Pp,a,{uid:7,loadedUserData:8})}}function Mp(e){let n;return{c(){n=I("div"),n.textContent="PROFILE OF A BITCH"},m(t,e){_(t,n,e)},p:t,i:t,o:t,d(t){t&&E(n)}}}class jp extends Nt{constructor(t){super(),St(this,t,null,Mp,a,{})}}function Up(t){let e;const n=new _l({});return{c(){Et(n.$$.fragment)},m(t,r){Tt(n,t,r),e=!0},i(t){e||(dt(n.$$.fragment,t),e=!0)},o(t){vt(n.$$.fragment,t),e=!1},d(t){It(n,t)}}}function Vp(t){let e;const n=new up({});return{c(){Et(n.$$.fragment)},m(t,r){Tt(n,t,r),e=!0},i(t){e||(dt(n.$$.fragment,t),e=!0)},o(t){vt(n.$$.fragment,t),e=!1},d(t){It(n,t)}}}function Fp(e){let n;return{c(){n=S("NOT LOGGED IN")},m(t,e){_(t,n,e)},p:t,i:t,o:t,d(t){t&&E(n)}}}function $p(t){let e;const n=new Rp({props:{uid:t[1].uid,loadedUserData:t[2]}});return{c(){Et(n.$$.fragment)},m(t,r){Tt(n,t,r),e=!0},p(t,e){const r={};2&e&&(r.uid=t[1].uid),4&e&&(r.loadedUserData=t[2]),n.$set(r)},i(t){e||(dt(n.$$.fragment,t),e=!0)},o(t){vt(n.$$.fragment,t),e=!1},d(t){It(n,t)}}}function Bp(t){let e,n,r,i;const o=[$p,Fp],s=[];function a(t,e){return t[1]&&t[2]?0:1}return e=a(t),n=s[e]=o[e](t),{c(){n.c(),r=O()},m(t,n){s[e].m(t,n),_(t,r,n),i=!0},p(t,i){let u=e;e=a(t),e===u?s[e].p(t,i):(ft(),vt(s[u],1,1,()=>{s[u]=null}),pt(),n=s[e],n||(n=s[e]=o[e](t),n.c()),dt(n,1),n.m(r.parentNode,r))},i(t){i||(dt(n),i=!0)},o(t){vt(n),i=!1},d(t){s[e].d(t),t&&E(r)}}}function qp(e){let n;return{c(){n=S("NOT LOGGED IN")},m(t,e){_(t,n,e)},p:t,i:t,o:t,d(t){t&&E(n)}}}function zp(t){let e;const n=new sp({props:{uid:t[1].uid,loadedUserData:t[2]}});return{c(){Et(n.$$.fragment)},m(t,r){Tt(n,t,r),e=!0},p(t,e){const r={};2&e&&(r.uid=t[1].uid),4&e&&(r.loadedUserData=t[2]),n.$set(r)},i(t){e||(dt(n.$$.fragment,t),e=!0)},o(t){vt(n.$$.fragment,t),e=!1},d(t){It(n,t)}}}function Gp(t){let e,n,r,i;const o=[zp,qp],s=[];function a(t,e){return t[1]&&t[4]?0:1}return e=a(t),n=s[e]=o[e](t),{c(){n.c(),r=O()},m(t,n){s[e].m(t,n),_(t,r,n),i=!0},p(t,i){let u=e;e=a(t),e===u?s[e].p(t,i):(ft(),vt(s[u],1,1,()=>{s[u]=null}),pt(),n=s[e],n||(n=s[e]=o[e](t),n.c()),dt(n,1),n.m(r.parentNode,r))},i(t){i||(dt(n),i=!0)},o(t){vt(n),i=!1},d(t){s[e].d(t),t&&E(r)}}}function Hp(t){let e;const n=new hp({});return{c(){Et(n.$$.fragment)},m(t,r){Tt(n,t,r),e=!0},i(t){e||(dt(n.$$.fragment,t),e=!0)},o(t){vt(n.$$.fragment,t),e=!1},d(t){It(n,t)}}}function Wp(e){let n;return{c(){n=S("NOT LOGGED IN")},m(t,e){_(t,n,e)},i:t,o:t,d(t){t&&E(n)}}}function Kp(t){let e;const n=new jp({});return{c(){Et(n.$$.fragment)},m(t,r){Tt(n,t,r),e=!0},i(t){e||(dt(n.$$.fragment,t),e=!0)},o(t){vt(n.$$.fragment,t),e=!1},d(t){It(n,t)}}}function Yp(t){let e,n,r,i;const o=[Kp,Wp],s=[];function a(t,e){return t[1]&&t[4]?0:1}return e=a(t),n=s[e]=o[e](t),{c(){n.c(),r=O()},m(t,n){s[e].m(t,n),_(t,r,n),i=!0},p(t,i){let u=e;e=a(t),e!==u&&(ft(),vt(s[u],1,1,()=>{s[u]=null}),pt(),n=s[e],n||(n=s[e]=o[e](t),n.c()),dt(n,1),n.m(r.parentNode,r))},i(t){i||(dt(n),i=!0)},o(t){vt(n),i=!1},d(t){s[e].d(t),t&&E(r)}}}function Xp(t){let e,n,r,i,o,s;const a=new vf({}),u=new ee({props:{path:"/",$$slots:{default:[Vp]},$$scope:{ctx:t}}}),c=new ee({props:{path:"/mycrawls",$$slots:{default:[Bp]},$$scope:{ctx:t}}}),h=new ee({props:{path:"/crawl",$$slots:{default:[Gp]},$$scope:{ctx:t}}}),l=new ee({props:{path:"/documentation",$$slots:{default:[Hp]},$$scope:{ctx:t}}}),f=new ee({props:{path:"user/profile",$$slots:{default:[Yp]},$$scope:{ctx:t}}});return{c(){Et(a.$$.fragment),e=N(),Et(u.$$.fragment),n=N(),Et(c.$$.fragment),r=N(),Et(h.$$.fragment),i=N(),Et(l.$$.fragment),o=N(),Et(f.$$.fragment)},m(t,p){Tt(a,t,p),_(t,e,p),Tt(u,t,p),_(t,n,p),Tt(c,t,p),_(t,r,p),Tt(h,t,p),_(t,i,p),Tt(l,t,p),_(t,o,p),Tt(f,t,p),s=!0},p(t,e){const n={};128&e&&(n.$$scope={dirty:e,ctx:t}),u.$set(n);const r={};134&e&&(r.$$scope={dirty:e,ctx:t}),c.$set(r);const i={};150&e&&(i.$$scope={dirty:e,ctx:t}),h.$set(i);const o={};128&e&&(o.$$scope={dirty:e,ctx:t}),l.$set(o);const s={};146&e&&(s.$$scope={dirty:e,ctx:t}),f.$set(s)},i(t){s||(dt(a.$$.fragment,t),dt(u.$$.fragment,t),dt(c.$$.fragment,t),dt(h.$$.fragment,t),dt(l.$$.fragment,t),dt(f.$$.fragment,t),s=!0)},o(t){vt(a.$$.fragment,t),vt(u.$$.fragment,t),vt(c.$$.fragment,t),vt(h.$$.fragment,t),vt(l.$$.fragment,t),vt(f.$$.fragment,t),s=!1},d(t){It(a,t),t&&E(e),It(u,t),t&&E(n),It(c,t),t&&E(r),It(h,t),t&&E(i),It(l,t),t&&E(o),It(f,t)}}}function Jp(t){let e,n,r,i,o,s,a,u,c=!t[3]&&Up();const h=new Wt({props:{url:t[0],$$slots:{default:[Xp]},$$scope:{ctx:t}}});return{c(){e=I("base"),n=I("link"),r=I("script"),o=N(),s=I("main"),c&&c.c(),a=N(),Et(h.$$.fragment),C(e,"href","/"),C(n,"rel","stylesheet"),C(n,"href","css/mystyles.css"),r.defer=!0,r.src!==(i="https://use.fontawesome.com/releases/v5.3.1/js/all.js")&&C(r,"src","https://use.fontawesome.com/releases/v5.3.1/js/all.js"),C(s,"class","background")},m(t,i){w(document.head,e),w(document.head,n),w(document.head,r),_(t,o,i),_(t,s,i),c&&c.m(s,null),w(s,a),Tt(h,s,null),u=!0},p(t,[e]){t[3]?c&&(ft(),vt(c,1,1,()=>{c=null}),pt()):c?8&e&&dt(c,1):(c=Up(),c.c(),dt(c,1),c.m(s,a));const n={};1&e&&(n.url=t[0]),150&e&&(n.$$scope={dirty:e,ctx:t}),h.$set(n)},i(t){u||(dt(c),dt(h.$$.fragment,t),u=!0)},o(t){vt(c),vt(h.$$.fragment,t),u=!1},d(t){E(e),E(n),E(r),t&&E(o),t&&E(s),c&&c.d(),It(h)}}}function Zp(t,e,n){let r,i,o;c(t,oe,t=>n(4,r=t));oe.subscribe(t=>{n(2,o=t)});let{url:s=""}=e,a=!0;Fh($c).subscribe(async t=>{if(n(1,i=t),!t)return;t.emailVerified||(n(3,a=!1),t.sendEmailVerification().then((function(){console.log("Email sent")})).catch((function(t){console.log(t)}))),await(async()=>{const t=zc.httpsCallable("updateUserQuota");await t()})(t.uid),(await Kh(t.uid)).subscribe(async t=>{let e;t&&t.profilePicture&&(e=await Gc.child(t.profilePicture).getDownloadURL()),oe.set({...t,imgSrc:e})})});return t.$set=t=>{"url"in t&&n(0,s=t.url)},[s,i,o,a,r]}return new class extends Nt{constructor(t){super(),St(this,t,Zp,Jp,a,{url:0})}}({target:document.body})}();
